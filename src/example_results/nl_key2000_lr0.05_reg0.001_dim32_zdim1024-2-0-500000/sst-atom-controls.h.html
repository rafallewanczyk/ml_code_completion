<!DOCTYPE html>
<html>
<head>
<style>
span.c {
    background-color: #CCFFCC;
}
span.pc {
    background-color: #FFEEBB;
}
span.w {
    background-color: #FFCCCC;
}
</style>
</head>
<body>
<pre>


<span class="w">#ifndef</span> <span class="w">__SST_ATOM_CONTROLS_H__</span>
<span class="w">#define</span> <span class="w">__SST_ATOM_CONTROLS_H__</span>

<span class="w">#include</span> <span class="w">&lt;sound/soc.h&gt;</span>
<span class="w">#include</span> <span class="w">&lt;sound/tlv.h&gt;</span>

<span class="w">enum</span> <span class="w">{</span>
	<span class="w">MERR_DPCM_AUDIO</span> <span class="w">=</span> <span class="w">0,</span>
	<span class="w">MERR_DPCM_COMPR,</span>
<span class="w">};</span>


<span class="w">#define</span> <span class="w">SST_MIX_IP(x)		(x</span><span class="c">)</span>

<span class="c">#define</span> <span class="w">SST_IP_CODEC0</span>		<span class="pc">S</span><span class="c">ST_MIX_IP</span><span class="pc">(2</span><span class="c">)</span>
<span class="c">#define</span> <span class="w">SST_IP_CODEC1</span>		<span class="w">S</span><span class="c">ST_MIX_IP(</span><span class="w">3</span><span class="c">)</span>
<span class="c">#define</span> <span class="w">SST_IP_LOOP0</span>		<span class="w">S</span><span class="c">ST_MIX_IP(</span><span class="w">4</span><span class="c">)</span>
<span class="c">#define</span> <span class="w">SST_IP_LOOP1</span>		<span class="w">S</span><span class="pc">ST_M</span><span class="c">IX_IP(</span><span class="pc">5</span><span class="c">)</span>
<span class="c">#define</span> <span class="w">SST_IP_LOOP2</span>		<span class="pc">S</span><span class="c">ST_MIX_IP(</span><span class="w">6</span><span class="c">)</span>
<span class="c">#define</span> <span class="w">SST_IP_PROBE</span>		<span class="c">SST_MIX_IP(</span><span class="pc">7</span><span class="c">)</span>
<span class="c">#define</span> <span class="w">SST_IP_VOIP</span>		<span class="c">SST_MIX_IP(</span><span class="w">1</span><span class="pc">2</span><span class="c">)</span>
<span class="c">#define</span> <span class="w">SST_IP_PCM0</span>		<span class="c">SST_MIX_IP(</span><span class="w">1</span><span class="pc">3</span><span class="c">)</span>
<span class="c">#define</span> <span class="w">SST_IP_PCM1</span>		<span class="c">SST_MIX_IP(</span><span class="w">1</span><span class="pc">4</span><span class="c">)</span>
<span class="c">#define</span> <span class="w">SST_IP_MEDIA0</span>		<span class="c">SST_MIX_IP(</span><span class="w">17</span><span class="c">)</span>
<span class="c">#define</span> <span class="w">SST_IP_MEDIA1</span>		<span class="c">SST_MIX_IP(18)</span>
<span class="c">#define</span> <span class="w">SST_IP_MEDIA2</span>		<span class="c">SST_MIX_IP(</span><span class="w">19</span><span class="c">)</span>
<span class="c">#define</span> <span class="w">SST_IP_MEDIA3</span>		<span class="c">SST_MIX_IP(</span><span class="w">2</span><span class="pc">0</span><span class="c">)</span>

<span class="c">#define</span> <span class="w">SST_IP_LAST</span>		<span class="w">S</span><span class="pc">ST_IP_M</span><span class="c">EDIA3</span>

<span class="pc">#</span><span class="c">define</span> <span class="w">SST_SWM_INPUT_COUNT</span>	<span class="c">(</span><span class="pc">SST_I</span><span class="c">P_LAST</span> <span class="c">+</span> <span class="c">1)</span>
<span class="c">#define</span> <span class="w">SST_CMD_SWM_MAX_INPUTS</span>	<span class="w">6</span>

<span class="c">#define</span> <span class="w">SST_PATH_ID_SHIFT</span>	<span class="pc">8</span>
<span class="c">#define</span> <span class="w">SST_DEFAULT_LOCATION_ID</span>	<span class="w">0xF</span><span class="pc">FF</span><span class="c">F</span>
<span class="c">#define</span> <span class="w">SST_DEFAULT_CELL_NBR</span>	<span class="w">0xF</span><span class="c">F</span>
<span class="c">#define</span> <span class="w">SST_DEFAULT_MODULE_ID</span>	<span class="w">0xF</span><span class="pc">FF</span><span class="c">F</span>


<span class="pc">e</span><span class="c">num</span> <span class="w">sst_path_index</span> <span class="c">{</span>
	<span class="w">SST_PATH_INDEX_CODEC_OUT0</span>               <span class="pc">= </span><span class="c">(</span><span class="w">0x02</span> <span class="pc">&lt;</span><span class="c">&lt;</span> <span class="w">S</span><span class="pc">ST_PATH_ID</span><span class="c">_SHIFT),</span>
	<span class="w">SST_PATH_INDEX_CODEC_OUT1</span>               <span class="pc">= </span><span class="c">(</span><span class="w">0x03</span> <span class="c">&lt;&lt;</span> <span class="w">S</span><span class="pc">ST_P</span><span class="c">ATH_ID_SHIFT</span><span class="pc">)</span><span class="c">,</span>

	<span class="w">SST_PATH_INDEX_SPROT_LOOP_OUT</span>           <span class="pc">= </span><span class="c">(</span><span class="w">0x04</span> <span class="c">&lt;&lt;</span> <span class="w">S</span><span class="pc">ST_PATH_ID</span><span class="c">_SHIFT),</span>
	<span class="w">SST_PATH_INDEX_MEDIA_LOOP1_OUT</span>          <span class="c">= (</span><span class="w">0x05</span> <span class="c">&lt;&lt;</span> <span class="w">SST_P</span><span class="pc">ATH_ID</span><span class="c">_SHIFT),</span>
	<span class="w">SST_PATH_INDEX_MEDIA_LOOP2_OUT</span>          <span class="c">= (</span><span class="pc">0x06</span> <span class="c">&lt;&lt;</span> <span class="w">S</span><span class="pc">ST_PATH_ID</span><span class="c">_SHIFT),</span>

	<span class="w">SST_PATH_INDEX_VOIP_OUT</span>                 <span class="c">= (</span><span class="w">0x0C</span> <span class="c">&lt;&lt;</span> <span class="w">S</span><span class="pc">ST_PATH_ID</span><span class="c">_SHIFT),</span>
	<span class="w">SST_PATH_INDEX_PCM0_OUT</span>                 <span class="c">= (</span><span class="w">0x0D</span> <span class="c">&lt;&lt;</span> <span class="pc">S</span><span class="c">ST_PATH_ID_SHIFT),</span>
	<span class="w">SST_PATH_INDEX_PCM1_OUT</span>                 <span class="c">= (</span><span class="w">0x0E</span> <span class="c">&lt;&lt;</span> <span class="pc">S</span><span class="c">ST_PATH_ID_SHIFT),</span>
	<span class="w">SST_PATH_INDEX_PCM2_OUT</span>                 <span class="c">= (</span><span class="w">0x0F</span> <span class="c">&lt;&lt;</span> <span class="c">SST_PATH_ID_SHIFT),</span>

	<span class="w">SST_PATH_INDEX_MEDIA0_OUT</span>               <span class="c">= (</span><span class="w">0x12</span> <span class="c">&lt;&lt;</span> <span class="c">SST_PATH_ID_SHIFT),</span>
	<span class="w">SST_PATH_INDEX_MEDIA1_OUT</span>               <span class="c">= (</span><span class="w">0x13</span> <span class="c">&lt;&lt;</span> <span class="c">SST_PATH_ID_SHIFT),</span>


	
	<span class="w">SST_PATH_INDEX_CODEC_IN0</span>                <span class="c">= (</span><span class="w">0x8</span><span class="c">2</span> <span class="c">&lt;&lt;</span> <span class="c">SST_PATH_ID_SHIFT),</span>
	<span class="w">SST_PATH_INDEX_CODEC_IN1</span>                <span class="c">= (</span><span class="w">0x8</span><span class="pc">3</span> <span class="c">&lt;&lt;</span> <span class="c">SST_PATH_ID_SHIFT),</span>

	<span class="w">SST_PATH_INDEX_SPROT_LOOP_IN</span>            <span class="c">= (</span><span class="w">0x8</span><span class="pc">4</span> <span class="c">&lt;&lt;</span> <span class="c">SST_PATH_ID_SHIFT),</span>
	<span class="w">SST_PATH_INDEX_MEDIA_LOOP1_IN</span>           <span class="c">= (</span><span class="w">0x85</span> <span class="c">&lt;&lt;</span> <span class="c">SST_PATH_ID_SHIFT),</span>
	<span class="w">SST_PATH_INDEX_MEDIA_LOOP2_IN</span>           <span class="c">= (</span><span class="w">0x86</span> <span class="c">&lt;&lt;</span> <span class="c">SST_PATH_ID_SHIFT),</span>

	<span class="w">SST_PATH_INDEX_VOIP_IN</span>                  <span class="c">= (</span><span class="w">0x8C</span> <span class="c">&lt;&lt;</span> <span class="c">SST_PATH_ID_SHIFT),</span>

	<span class="w">SST_PATH_INDEX_PCM0_IN</span>                  <span class="c">= (</span><span class="w">0x8D</span> <span class="c">&lt;&lt;</span> <span class="pc">SST_PATH_ID</span><span class="c">_SHIFT),</span>
	<span class="w">SST_PATH_INDEX_PCM1_IN</span>                  <span class="c">= (</span><span class="w">0x8E</span> <span class="c">&lt;&lt;</span> <span class="c">SST_PATH_ID_SHIFT),</span>

	<span class="w">SST_PATH_INDEX_MEDIA0_IN</span>                <span class="c">= (</span><span class="w">0x8F</span> <span class="c">&lt;&lt;</span> <span class="c">SST_PATH_ID_SHIFT),</span>
	<span class="w">SST_PATH_INDEX_MEDIA1_IN</span>                <span class="c">= (</span><span class="w">0x9</span><span class="pc">0</span> <span class="c">&lt;&lt;</span> <span class="c">SST_PATH_ID_SHIFT),</span>
	<span class="w">SST_PATH_INDEX_MEDIA2_IN</span>                <span class="c">= (</span><span class="w">0x91</span> <span class="c">&lt;&lt;</span> <span class="c">SST_PATH_ID_SHIFT),</span>

	<span class="w">SST_PATH_INDEX_MEDIA3_IN</span>		<span class="c">= (</span><span class="w">0x9C</span> <span class="c">&lt;&lt;</span> <span class="c">SST_PATH_ID_SHIFT),</span>

	<span class="w">SST_PATH_INDEX_RESERVED</span>                 <span class="c">= (</span><span class="w">0xF</span><span class="c">F</span> <span class="c">&lt;&lt;</span> <span class="c">SST_PATH_ID_SHIFT),</span>
<span class="c">};</span>


<span class="pc">e</span><span class="c">num</span> <span class="w">sst_swm_inputs</span> <span class="c">{</span>
	<span class="w">SST_SWM_IN_CODEC0</span>	<span class="pc">= </span><span class="c">(</span><span class="w">SST_PATH_INDEX_CODEC_IN0</span>	  <span class="pc">|</span> <span class="w">SST_DEFAULT_CELL_NBR</span><span class="c">),</span>
	<span class="w">SST_SWM_IN_CODEC1</span>	<span class="c">= (</span><span class="w">SST_PATH_INDEX_CODEC_IN1</span>	  <span class="pc">|</span> <span class="pc">SST_D</span><span class="c">EFAULT_CELL_NBR),</span>
	<span class="w">SST_SWM_IN_SPROT_LOOP</span>	<span class="c">= (</span><span class="w">SST_PATH_INDEX_SPROT_LOOP_IN</span>	  <span class="pc">|</span> <span class="c">SST_DEFAULT_CELL_NBR),</span>
	<span class="w">SST_SWM_IN_MEDIA_LOOP1</span>	<span class="c">= (</span><span class="w">SST_PATH_INDEX_MEDIA_LOOP1_IN</span>  <span class="c">|</span> <span class="w">SST_D</span><span class="c">EFAULT_CELL_NBR),</span>
	<span class="w">SST_SWM_IN_MEDIA_LOOP2</span>	<span class="c">= (</span><span class="w">SST_PATH_INDEX_MEDIA_LOOP2_IN</span>  <span class="c">|</span> <span class="c">SST_DEFAULT_CELL_NBR),</span>
	<span class="w">SST_SWM_IN_VOIP</span>		<span class="c">= (</span><span class="w">SST_PATH_INDEX_VOIP_IN</span>	  <span class="c">|</span> <span class="pc">SST_D</span><span class="c">EFAULT_CELL_NBR),</span>
	<span class="w">SST_SWM_IN_PCM0</span>		<span class="c">= (</span><span class="w">SST_PATH_INDEX_PCM0_IN</span>	  <span class="c">|</span> <span class="c">SST_DEFAULT_CELL_NBR),</span>
	<span class="w">SST_SWM_IN_PCM1</span>		<span class="c">= (</span><span class="w">SST_PATH_INDEX_PCM1_IN</span>	  <span class="c">|</span> <span class="c">SST_DEFAULT_CELL_NBR),</span>
	<span class="w">SST_SWM_IN_MEDIA0</span>	<span class="c">= (</span><span class="w">SST_PATH_INDEX_MEDIA0_IN</span>	  <span class="c">|</span> <span class="c">SST_DEFAULT_CELL_NBR),</span> 
	<span class="w">SST_SWM_IN_MEDIA1</span>	<span class="c">= (</span><span class="w">SST_PATH_INDEX_MEDIA1_IN</span>	  <span class="c">|</span> <span class="c">SST_DEFAULT_CELL_NBR),</span> 
	<span class="w">SST_SWM_IN_MEDIA2</span>	<span class="c">= (</span><span class="w">SST_PATH_INDEX_MEDIA2_IN</span>	  <span class="c">|</span> <span class="c">SST_DEFAULT_CELL_NBR),</span> 
	<span class="w">SST_SWM_IN_MEDIA3</span>	<span class="c">= (</span><span class="w">SST_PATH_INDEX_MEDIA3_IN</span>	  <span class="c">|</span> <span class="c">SST_DEFAULT_CELL_NBR),</span> 
	<span class="w">SST_SWM_IN_END</span>		<span class="c">= (</span><span class="w">SST_PATH_INDEX_RESERVED</span>	  <span class="c">|</span> <span class="c">SST_DEFAULT_CELL_NBR</span><span class="pc">)</span>
<span class="c">};</span>


<span class="pc">e</span><span class="c">num</span> <span class="w">sst_swm_outputs</span> <span class="c">{</span>
	<span class="w">SST_SWM_OUT_CODEC0</span>	<span class="pc">= </span><span class="c">(</span><span class="w">SST_PATH_INDEX_CODEC_OUT0</span>	  <span class="c">|</span> <span class="c">SST_DEFAULT_CELL_NBR</span><span class="pc">)</span><span class="c">,</span>
	<span class="w">SST_SWM_OUT_CODEC1</span>	<span class="c">= (</span><span class="w">SST_PATH_INDEX_CODEC_OUT1</span>	  <span class="c">|</span> <span class="pc">SST_D</span><span class="c">EFAULT_CELL_NBR),</span>
	<span class="w">SST_SWM_OUT_SPROT_LOOP</span>	<span class="c">= (</span><span class="w">SST_PATH_INDEX_SPROT_LOOP_OUT</span>  <span class="c">|</span> <span class="c">SST_DEFAULT_CELL_NBR),</span>
	<span class="w">SST_SWM_OUT_MEDIA_LOOP1</span>	<span class="c">= (</span><span class="w">SST_PATH_INDEX_MEDIA_LOOP1_OUT</span> <span class="c">|</span> <span class="pc">SST_D</span><span class="c">EFAULT_CELL_NBR),</span>
	<span class="w">SST_SWM_OUT_MEDIA_LOOP2</span>	<span class="c">= (</span><span class="w">SST_PATH_INDEX_MEDIA_LOOP2_OUT</span> <span class="c">|</span> <span class="w">SST_D</span><span class="c">EFAULT_CELL_NBR),</span>
	<span class="w">SST_SWM_OUT_VOIP</span>	<span class="c">= (</span><span class="w">SST_PATH_INDEX_VOIP_OUT</span>	  <span class="c">|</span> <span class="c">SST_DEFAULT_CELL_NBR),</span>
	<span class="w">SST_SWM_OUT_PCM0</span>	<span class="c">= (</span><span class="w">SST_PATH_INDEX_PCM0_OUT</span>	  <span class="c">|</span> <span class="c">SST_DEFAULT_CELL_NBR),</span>
	<span class="w">SST_SWM_OUT_PCM1</span>	<span class="c">= (</span><span class="w">SST_PATH_INDEX_PCM1_OUT</span>	  <span class="c">|</span> <span class="c">SST_DEFAULT_CELL_NBR),</span>
	<span class="w">SST_SWM_OUT_PCM2</span>	<span class="c">= (</span><span class="w">SST_PATH_INDEX_PCM2_OUT</span>	  <span class="c">|</span> <span class="c">SST_DEFAULT_CELL_NBR),</span>
	<span class="w">SST_SWM_OUT_MEDIA0</span>	<span class="c">= (</span><span class="w">SST_PATH_INDEX_MEDIA0_OUT</span>	  <span class="c">|</span> <span class="c">SST_DEFAULT_CELL_NBR),</span> 
	<span class="w">SST_SWM_OUT_MEDIA1</span>	<span class="c">= (</span><span class="w">SST_PATH_INDEX_MEDIA1_OUT</span>	  <span class="c">|</span> <span class="c">SST_DEFAULT_CELL_NBR),</span> 
	<span class="w">SST_SWM_OUT_END</span>		<span class="c">= (</span><span class="w">SST_PATH_INDEX_RESERVED</span>	  <span class="c">|</span> <span class="c">SST_DEFAULT_CELL_NBR),</span>
<span class="c">};</span>

<span class="pc">e</span><span class="c">num</span> <span class="w">sst_ipc_msg</span> <span class="c">{</span>
	<span class="w">SST_IPC_IA_CMD</span> <span class="c">=</span> <span class="pc">1</span><span class="c">,</span>
	<span class="w">SST_IPC_IA_SET_PARAMS</span><span class="pc">,</span>
	<span class="w">SST_IPC_IA_GET_PARAMS</span><span class="pc">,</span>
<span class="c">};</span>

<span class="c">enum</span> <span class="w">sst_cmd_type</span> <span class="c">{</span>
	<span class="w">SST_CMD_BYTES_SET</span> <span class="c">=</span> <span class="pc">1</span><span class="c">,</span>
	<span class="w">SST_CMD_BYTES_GET</span> <span class="c">=</span> <span class="pc">2</span><span class="c">,</span>
<span class="c">};</span>

<span class="c">enum</span> <span class="w">sst_task</span> <span class="c">{</span>
	<span class="w">SST_TASK_SBA</span> <span class="c">=</span> <span class="pc">1</span><span class="c">,</span>
	<span class="w">SST_TASK_MMX</span> <span class="c">=</span> <span class="w">3</span><span class="c">,</span>
<span class="c">};</span>

<span class="c">enum</span> <span class="w">sst_type</span> <span class="c">{</span>
	<span class="w">SST_TYPE_CMD</span> <span class="c">=</span> <span class="c">1,</span>
	<span class="w">SST_TYPE_PARAMS</span><span class="pc">,</span>
<span class="c">};</span>

<span class="c">enum</span> <span class="w">sst_flag</span> <span class="c">{</span>
	<span class="w">SST_FLAG_BLOCKED</span> <span class="c">=</span> <span class="pc">1</span><span class="c">,</span>
	<span class="w">SST_FLAG_NONBLOCK</span><span class="pc">,</span>
<span class="c">};</span>


<span class="c">enum</span> <span class="w">sst_gain_index</span> <span class="c">{</span>
	
	<span class="w">SST_GAIN_INDEX_CODEC_OUT0</span><span class="pc">,</span>
	<span class="w">SST_GAIN_INDEX_CODEC_OUT1</span><span class="c">,</span>
	<span class="w">SST_GAIN_INDEX_CODEC_IN0</span><span class="c">,</span>
	<span class="w">SST_GAIN_INDEX_CODEC_IN1</span><span class="c">,</span>

	<span class="w">SST_GAIN_INDEX_SPROT_LOOP_OUT</span><span class="c">,</span>
	<span class="w">SST_GAIN_INDEX_MEDIA_LOOP1_OUT</span><span class="c">,</span>
	<span class="w">SST_GAIN_INDEX_MEDIA_LOOP2_OUT</span><span class="c">,</span>

	<span class="w">SST_GAIN_INDEX_PCM0_IN_LEFT</span><span class="c">,</span>
	<span class="w">SST_GAIN_INDEX_PCM0_IN_RIGHT</span><span class="c">,</span>

	<span class="w">SST_GAIN_INDEX_PCM1_OUT_LEFT</span><span class="c">,</span>
	<span class="w">SST_GAIN_INDEX_PCM1_OUT_RIGHT</span><span class="c">,</span>
	<span class="w">SST_GAIN_INDEX_PCM1_IN_LEFT</span><span class="c">,</span>
	<span class="w">SST_GAIN_INDEX_PCM1_IN_RIGHT</span><span class="c">,</span>
	<span class="w">SST_GAIN_INDEX_PCM2_OUT_LEFT</span><span class="c">,</span>

	<span class="w">SST_GAIN_INDEX_PCM2_OUT_RIGHT</span><span class="c">,</span>
	<span class="w">SST_GAIN_INDEX_VOIP_OUT</span><span class="c">,</span>
	<span class="w">SST_GAIN_INDEX_VOIP_IN</span><span class="c">,</span>

	
	<span class="w">SST_GAIN_INDEX_MEDIA0_IN_LEFT</span><span class="c">,</span>
	<span class="w">SST_GAIN_INDEX_MEDIA0_IN_RIGHT</span><span class="c">,</span>
	<span class="w">SST_GAIN_INDEX_MEDIA1_IN_LEFT</span><span class="c">,</span>
	<span class="w">SST_GAIN_INDEX_MEDIA1_IN_RIGHT</span><span class="c">,</span>

	<span class="w">SST_GAIN_INDEX_MEDIA2_IN_LEFT</span><span class="c">,</span>
	<span class="w">SST_GAIN_INDEX_MEDIA2_IN_RIGHT</span><span class="c">,</span>

	<span class="w">SST_GAIN_INDEX_GAIN_END</span>
<span class="pc">}</span><span class="c">;</span>


<span class="pc">e</span><span class="c">num</span> <span class="w">sst_module_id</span> <span class="c">{</span>
	<span class="w">SST_MODULE_ID_PCM</span>		  <span class="pc">=</span> <span class="w">0x00</span><span class="pc">01</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_MP3</span>		  <span class="c">=</span> <span class="c">0x0002,</span>
	<span class="w">SST_MODULE_ID_MP24</span>		  <span class="c">=</span> <span class="w">0x0003</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_AAC</span>		  <span class="c">=</span> <span class="c">0x0004,</span>
	<span class="w">SST_MODULE_ID_AACP</span>		  <span class="c">=</span> <span class="w">0x0005</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_EAACP</span>		  <span class="c">=</span> <span class="w">0x0006</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_WMA9</span>		  <span class="c">=</span> <span class="w">0x0007</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_WMA10</span>		  <span class="c">=</span> <span class="pc">0x0008</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_WMA10P</span>		  <span class="c">=</span> <span class="w">0x0009</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_RA</span>		  <span class="c">=</span> <span class="w">0x000A</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_DDAC3</span>		  <span class="c">=</span> <span class="w">0x000B</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_TRUE_HD</span>		  <span class="c">=</span> <span class="w">0x000C</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_HD_PLUS</span>		  <span class="c">=</span> <span class="w">0x000D</span><span class="c">,</span>

	<span class="w">SST_MODULE_ID_SRC</span>		  <span class="c">=</span> <span class="w">0x0064</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_DOWNMIX</span>		  <span class="c">=</span> <span class="w">0x0066</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_GAIN_CELL</span>		  <span class="c">=</span> <span class="w">0x0067</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_SPROT</span>		  <span class="c">=</span> <span class="w">0x006D</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_BASS_BOOST</span>	  <span class="c">=</span> <span class="w">0x006E</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_STEREO_WDNG</span>	  <span class="c">=</span> <span class="w">0x006F</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_AV_REMOVAL</span>	  <span class="c">=</span> <span class="w">0x0070</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_MIC_EQ</span>		  <span class="c">=</span> <span class="w">0x0071</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_SPL</span>		  <span class="c">=</span> <span class="w">0x0072</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_ALGO_VTSV</span>           <span class="c">=</span> <span class="w">0x0073</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_NR</span>		  <span class="c">=</span> <span class="w">0x0076</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_BWX</span>		  <span class="c">=</span> <span class="w">0x0077</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_DRP</span>		  <span class="c">=</span> <span class="w">0x0078</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_MDRP</span>		  <span class="c">=</span> <span class="w">0x0079</span><span class="c">,</span>

	<span class="w">SST_MODULE_ID_ANA</span>		  <span class="c">=</span> <span class="w">0x007A</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_AEC</span>		  <span class="c">=</span> <span class="w">0x007B</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_NR_SNS</span>		  <span class="c">=</span> <span class="w">0x007C</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_SER</span>		  <span class="c">=</span> <span class="w">0x007D</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_AGC</span>		  <span class="c">=</span> <span class="w">0x007E</span><span class="c">,</span>

	<span class="w">SST_MODULE_ID_CNI</span>		  <span class="c">=</span> <span class="w">0x007F</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_CONTEXT_ALGO_AWARE</span>  <span class="c">=</span> <span class="w">0x008</span><span class="c">0,</span>
	<span class="w">SST_MODULE_ID_FIR_24</span>		  <span class="c">=</span> <span class="w">0x0081</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_IIR_24</span>		  <span class="c">=</span> <span class="w">0x0082</span><span class="c">,</span>

	<span class="w">SST_MODULE_ID_ASRC</span>		  <span class="c">=</span> <span class="w">0x0083</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_TONE_GEN</span>		  <span class="c">=</span> <span class="w">0x0084</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_BMF</span>		  <span class="c">=</span> <span class="w">0x0086</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_EDL</span>		  <span class="c">=</span> <span class="w">0x0087</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_GLC</span>		  <span class="c">=</span> <span class="w">0x0088</span><span class="c">,</span>

	<span class="w">SST_MODULE_ID_FIR_16</span>		  <span class="c">=</span> <span class="w">0x0089</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_IIR_16</span>		  <span class="c">=</span> <span class="w">0x008A</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_DNR</span>		  <span class="c">=</span> <span class="w">0x008B</span><span class="c">,</span>

	<span class="w">SST_MODULE_ID_VIRTUALIZER</span>	  <span class="c">=</span> <span class="w">0x008C</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_VISUALIZATION</span>	  <span class="c">=</span> <span class="w">0x008D</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_LOUDNESS_OPTIMIZER</span>  <span class="c">=</span> <span class="w">0x008E</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_REVERBERATION</span>	  <span class="c">=</span> <span class="w">0x008F</span><span class="c">,</span>

	<span class="w">SST_MODULE_ID_CNI_TX</span>		  <span class="c">=</span> <span class="w">0x0090</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_REF_LINE</span>		  <span class="c">=</span> <span class="w">0x0091</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_VOLUME</span>		  <span class="c">=</span> <span class="w">0x0092</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_FILT_DCR</span>		  <span class="c">=</span> <span class="w">0x0094</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_SLV</span>		  <span class="c">=</span> <span class="w">0x009A</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_NLF</span>		  <span class="c">=</span> <span class="w">0x009B</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_TNR</span>		  <span class="c">=</span> <span class="w">0x009C</span><span class="c">,</span>
	<span class="w">SST_MODULE_ID_WNR</span>		  <span class="c">=</span> <span class="w">0x009D</span><span class="c">,</span>

	<span class="w">SST_MODULE_ID_LOG</span>		  <span class="c">=</span> <span class="w">0xFF00</span><span class="c">,</span>

	<span class="w">SST_MODULE_ID_TASK</span>		  <span class="c">=</span> <span class="w">0xF</span><span class="pc">FFF</span><span class="c">,</span>
<span class="c">};</span>

<span class="c">enum</span> <span class="w">sst_cmd</span> <span class="c">{</span>
	<span class="w">SBA_IDLE</span>		<span class="c">=</span> <span class="w">14</span><span class="c">,</span>
	<span class="w">SBA_VB_SET_SPEECH_PATH</span>	<span class="c">=</span> <span class="w">26</span><span class="c">,</span>
	<span class="w">MMX_SET_GAIN</span>		<span class="c">=</span> <span class="w">3</span><span class="pc">3</span><span class="c">,</span>
	<span class="w">SBA_VB_SET_GAIN</span>		<span class="c">=</span> <span class="w">33</span><span class="c">,</span>
	<span class="w">FBA_VB_RX_CNI</span>		<span class="c">=</span> <span class="pc">35</span><span class="c">,</span>
	<span class="w">MMX_SET_GAIN_TIMECONST</span>	<span class="c">=</span> <span class="c">36,</span>
	<span class="w">SBA_VB_SET_TIMECONST</span>	<span class="c">=</span> <span class="c">36,</span>
	<span class="w">SBA_VB_START</span>		<span class="c">=</span> <span class="w">85</span><span class="c">,</span>
	<span class="w">SBA_SET_SWM</span>		<span class="c">=</span> <span class="w">114</span><span class="c">,</span>
	<span class="w">SBA_SET_MDRP</span>            <span class="c">=</span> <span class="w">116</span><span class="c">,</span>
	<span class="w">SBA_HW_SET_SSP</span>		<span class="c">=</span> <span class="w">117</span><span class="c">,</span>
	<span class="w">SBA_SET_MEDIA_LOOP_MAP</span>	<span class="c">=</span> <span class="w">118</span><span class="c">,</span>
	<span class="w">SBA_SET_MEDIA_PATH</span>	<span class="c">=</span> <span class="w">119</span><span class="c">,</span>
	<span class="w">MMX_SET_MEDIA_PATH</span>	<span class="c">=</span> <span class="pc">11</span><span class="c">9,</span>
	<span class="w">SBA_VB_LPRO</span>             <span class="c">=</span> <span class="w">126</span><span class="c">,</span>
	<span class="w">SBA_VB_SET_FIR</span>          <span class="c">=</span> <span class="w">1</span><span class="pc">28</span><span class="c">,</span>
	<span class="w">SBA_VB_SET_IIR</span>          <span class="c">=</span> <span class="w">129</span><span class="c">,</span>
	<span class="w">SBA_SET_SSP_SLOT_MAP</span>	<span class="c">=</span> <span class="w">130</span><span class="c">,</span>
<span class="c">};</span>

<span class="pc">e</span><span class="c">num</span> <span class="w">sst_dsp_switch</span> <span class="c">{</span>
	<span class="w">SST_SWITCH_OFF</span> <span class="c">=</span> <span class="c">0,</span>
	<span class="w">SST_SWITCH_ON</span> <span class="c">=</span> <span class="w">3</span><span class="c">,</span>
<span class="c">};</span>

<span class="c">enum</span> <span class="w">sst_path_switch</span> <span class="c">{</span>
	<span class="w">SST_PATH_OFF</span> <span class="c">=</span> <span class="c">0,</span>
	<span class="w">SST_PATH_ON</span> <span class="c">=</span> <span class="c">1,</span>
<span class="c">};</span>

<span class="c">enum</span> <span class="w">sst_swm_state</span> <span class="c">{</span>
	<span class="w">SST_SWM_OFF</span> <span class="c">=</span> <span class="c">0,</span>
	<span class="w">SST_SWM_ON</span> <span class="c">=</span> <span class="pc">3</span><span class="c">,</span>
<span class="c">};</span>

<span class="pc">#</span><span class="c">define</span> <span class="w">SST_FILL_LOCATION_IDS</span><span class="pc">(</span><span class="w">ds</span><span class="pc">t,</span> <span class="w">cell_idx</span><span class="c">,</span> <span class="w">pipe_id</span><span class="pc">)</span>		<span class="w">d</span><span class="c">o</span> <span class="w">{	\</span>
		<span class="w">ds</span><span class="c">t</span><span class="pc">.</span><span class="w">location_id</span><span class="pc">.</span><span class="w">p</span><span class="pc">.</span><span class="w">cell_nbr_idx</span> <span class="pc">= </span><span class="c">(cell_idx</span><span class="w">);		\</span>
		<span class="w">d</span><span class="pc">s</span><span class="c">t</span><span class="pc">.</span><span class="c">location_id.</span><span class="w">p</span><span class="c">.</span><span class="w">path_id</span> <span class="pc">= </span><span class="c">(</span><span class="w">p</span><span class="pc">i</span><span class="c">pe_id</span><span class="w">);			\</span>
	<span class="pc">}</span> <span class="pc">w</span><span class="c">hile</span> <span class="c">(0)</span>
<span class="c">#define</span> <span class="w">SST_FILL_LOCATION_ID</span><span class="c">(</span><span class="w">d</span><span class="c">st,</span> <span class="w">loc_id)				(\</span>
	<span class="w">d</span><span class="pc">s</span><span class="c">t.</span><span class="w">l</span><span class="c">ocation_id.</span><span class="w">f</span> <span class="w">=</span><span class="pc"> </span><span class="c">(</span><span class="w">l</span><span class="pc">oc_</span><span class="c">id))</span>
<span class="c">#define</span> <span class="w">SST_FILL_MODULE_ID</span><span class="c">(dst,</span> <span class="w">mod_id)					(\</span>
	<span class="w">d</span><span class="c">st</span><span class="pc">.</span><span class="w">module_id</span> <span class="pc">= </span><span class="c">(</span><span class="w">m</span><span class="c">od_id))</span>

<span class="c">#define</span> <span class="w">SST_FILL_DESTINATION1</span><span class="c">(</span><span class="pc">d</span><span class="c">st,</span> <span class="w">id</span><span class="pc">)</span>				<span class="w">d</span><span class="pc">o</span> <span class="w">{	\</span>
		<span class="w">S</span><span class="pc">ST_FILL_L</span><span class="c">OCATION_ID</span><span class="pc">(</span><span class="c">dst</span><span class="pc">, </span><span class="c">(</span><span class="w">i</span><span class="pc">d</span><span class="w">)</span><span class="pc"> </span><span class="c">&amp;</span> <span class="w">0xF</span><span class="pc">FF</span><span class="c">F</span><span class="w">);		\</span>
		<span class="pc">S</span><span class="c">ST_FILL_MODULE_ID</span><span class="pc">(d</span><span class="c">st</span><span class="w">, ((i</span><span class="pc">d) </span><span class="c">&amp;</span> <span class="w">0xFFFF0000</span><span class="c">) &gt;&gt;</span> <span class="pc">1</span><span class="c">6</span><span class="w">);</span><span class="pc">	\</span>
	<span class="c">}</span> <span class="pc">w</span><span class="c">hile</span> <span class="c">(0)</span>
<span class="c">#define</span> <span class="w">SST_FILL_DESTINATION2</span><span class="c">(</span><span class="w">d</span><span class="pc">s</span><span class="c">t,</span> <span class="w">loc_id</span><span class="c">,</span> <span class="w">mod_id)</span>		<span class="pc">d</span><span class="c">o</span> <span class="pc">{	</span><span class="c">\</span>
		<span class="c">SST_FILL_LOCATION_ID(</span><span class="pc">d</span><span class="c">st,</span> <span class="pc">l</span><span class="c">oc_id</span><span class="w">);			\</span>
		<span class="w">S</span><span class="pc">ST_FILL_M</span><span class="c">ODULE_ID(</span><span class="pc">d</span><span class="c">st,</span> <span class="w">m</span><span class="c">od_id</span><span class="w">);</span><span class="pc">		</span><span class="c">	\</span>
	<span class="pc">}</span> <span class="c">while</span> <span class="c">(0)</span>
<span class="c">#define</span> <span class="w">SST_FILL_DESTINATION3</span><span class="c">(</span><span class="w">d</span><span class="c">st,</span> <span class="w">cell_idx</span><span class="c">,</span> <span class="w">path_id</span><span class="c">,</span> <span class="pc">m</span><span class="c">od_id</span><span class="pc">)</span>	<span class="pc">d</span><span class="c">o</span> <span class="w">{</span><span class="pc">	</span><span class="c">\</span>
		<span class="w">SST_FILL_LOCATION_IDS</span><span class="pc">(</span><span class="w">d</span><span class="c">st,</span> <span class="pc">c</span><span class="c">ell_idx,</span> <span class="c">path_id</span><span class="w">);		\</span>
		<span class="w">S</span><span class="pc">ST_FILL_M</span><span class="c">ODULE_ID(</span><span class="pc">d</span><span class="c">st,</span> <span class="pc">m</span><span class="c">od_id</span><span class="w">);</span><span class="pc">			</span><span class="c">\</span>
	<span class="w">}</span> <span class="pc">w</span><span class="c">hile</span> <span class="c">(0)</span>

<span class="c">#define</span> <span class="w">SST_FILL_DESTINATION</span><span class="c">(</span><span class="w">l</span><span class="pc">e</span><span class="c">vel,</span> <span class="w">d</span><span class="c">st</span><span class="w">, ...)				\</span>
	<span class="w">S</span><span class="pc">ST_FILL_DESTINATION</span><span class="w">#</span><span class="pc">#</span><span class="w">l</span><span class="pc">ev</span><span class="c">el</span><span class="w">(d</span><span class="c">st</span><span class="pc">,</span> <span class="w">__VA_ARGS__</span><span class="pc">)</span>
<span class="c">#define</span> <span class="w">SST_FILL_DEFAULT_DESTINATION</span><span class="c">(dst</span><span class="w">)	</span><span class="pc">			\</span>
	<span class="pc">S</span><span class="c">ST_FILL_DESTINATION(</span><span class="w">2</span><span class="c">,</span> <span class="pc">d</span><span class="c">st,</span> <span class="w">SST_DEFAULT_LOCATION_ID</span><span class="c">,</span> <span class="w">SST_DEFAULT_MODULE_ID</span><span class="c">)</span>

<span class="pc">s</span><span class="c">truct</span> <span class="w">sst_destination_id</span> <span class="c">{</span>
	<span class="w">u</span><span class="pc">ni</span><span class="c">on</span> <span class="w">sst_location_id</span> <span class="pc">{</span>
		<span class="pc">s</span><span class="c">truct</span> <span class="pc">{</span>
			<span class="w">u</span><span class="pc">8</span> <span class="w">cell_nbr_idx</span><span class="c">;</span>	
			<span class="pc">u</span><span class="c">8</span> <span class="w">path_id</span><span class="c">;</span>		
		<span class="c">}</span> <span class="c">__packed</span>	<span class="w">p</span><span class="c">;</span>		
		<span class="w">u</span><span class="pc">1</span><span class="c">6</span>		<span class="w">f</span><span class="c">;</span>		
	<span class="pc">}</span> <span class="c">__packed</span> <span class="w">location_id</span><span class="c">;</span>
	<span class="w">u</span><span class="pc">1</span><span class="c">6</span>	   <span class="w">module_id</span><span class="c">;</span>
<span class="pc">}</span> <span class="c">__packed;</span>
<span class="pc">s</span><span class="c">truct</span> <span class="w">sst_dsp_header</span> <span class="c">{</span>
	<span class="pc">s</span><span class="c">truct</span> <span class="c">sst_destination_id</span> <span class="w">ds</span><span class="c">t;</span>
	<span class="pc">u</span><span class="c">16</span> <span class="w">command_id</span><span class="c">;</span>
	<span class="c">u16</span> <span class="pc">le</span><span class="c">ngth;</span>
<span class="pc">}</span> <span class="c">__packed;</span>


<span class="c">struct</span> <span class="w">sst_cmd_generic</span> <span class="c">{</span>
	<span class="pc">s</span><span class="c">truct</span> <span class="c">sst_dsp_header</span> <span class="pc">h</span><span class="c">eader;</span>
<span class="w">}</span> <span class="c">__packed;</span>

<span class="c">struct</span> <span class="w">swm_input_ids</span> <span class="c">{</span>
	<span class="c">struct</span> <span class="pc">sst_de</span><span class="c">stination_id</span> <span class="w">input_id</span><span class="c">;</span>
<span class="pc">}</span> <span class="c">__packed;</span>

<span class="c">struct</span> <span class="w">sst_cmd_set_swm</span> <span class="c">{</span>
	<span class="c">struct</span> <span class="pc">sst_ds</span><span class="c">p_header</span> <span class="c">header;</span>
	<span class="c">struct</span> <span class="w">s</span><span class="pc">st_de</span><span class="c">stination_id</span> <span class="w">output_id</span><span class="c">;</span>
	<span class="w">u</span><span class="pc">1</span><span class="c">6</span>    <span class="w">switch_state</span><span class="c">;</span>
	<span class="pc">u1</span><span class="c">6</span>    <span class="w">nb_inputs</span><span class="c">;</span>
	<span class="pc">s</span><span class="c">truct</span> <span class="pc">sw</span><span class="c">m_input_ids</span> <span class="w">inp</span><span class="pc">ut[</span><span class="w">SST_CMD_SWM_MAX_INPUTS</span><span class="c">];</span>
<span class="c">}</span> <span class="c">__packed;</span>

<span class="c">struct</span> <span class="w">sst_cmd_set_media_path</span> <span class="c">{</span>
	<span class="c">struct</span> <span class="pc">sst_ds</span><span class="c">p_header</span> <span class="pc">h</span><span class="c">eader;</span>
	<span class="pc">u1</span><span class="c">6</span>    <span class="w">s</span><span class="pc">wi</span><span class="c">tch_state;</span>
<span class="pc">}</span> <span class="c">__packed;</span>

<span class="c">struct</span> <span class="w">pcm_cfg</span> <span class="c">{</span>
		<span class="pc">u</span><span class="c">8</span> <span class="w">s_length</span><span class="pc">:2</span><span class="c">;</span>
		<span class="c">u8</span> <span class="w">ra</span><span class="pc">te:3</span><span class="c">;</span>
		<span class="c">u8</span> <span class="w">fo</span><span class="c">rmat</span><span class="pc">:3</span><span class="c">;</span>
<span class="pc">}</span> <span class="c">__packed;</span>

<span class="c">struct</span> <span class="w">sst_cmd_set_speech_path</span> <span class="c">{</span>
	<span class="pc">s</span><span class="c">truct</span> <span class="c">sst_dsp_header</span> <span class="pc">h</span><span class="c">eader;</span>
	<span class="pc">u1</span><span class="c">6</span>    <span class="c">switch_state;</span>
	<span class="pc">s</span><span class="c">truct</span> <span class="pc">{</span>
		<span class="c">u16</span> <span class="w">rsvd</span><span class="pc">:</span><span class="w">8</span><span class="c">;</span>
		<span class="pc">s</span><span class="c">truct</span> <span class="pc">p</span><span class="c">cm_cfg</span> <span class="pc">cf</span><span class="c">g;</span>
	<span class="w">}</span> <span class="w">c</span><span class="pc">onf</span><span class="c">ig;</span>
<span class="pc">}</span> <span class="c">__packed;</span>

<span class="c">struct</span> <span class="w">gain_cell</span> <span class="c">{</span>
	<span class="pc">s</span><span class="c">truct</span> <span class="w">sst_destination_id</span> <span class="w">des</span><span class="pc">t</span><span class="c">;</span>
	<span class="w">s16</span> <span class="w">cell_gain_left</span><span class="c">;</span>
	<span class="w">s</span><span class="pc">1</span><span class="c">6</span> <span class="w">cell_gain_right</span><span class="c">;</span>
	<span class="w">u</span><span class="c">16</span> <span class="w">gain_time_constant</span><span class="c">;</span>
<span class="pc">}</span> <span class="c">__packed;</span>

<span class="pc">#</span><span class="c">define</span> <span class="w">NUM_GAIN_CELLS</span> <span class="pc">1</span>
<span class="pc">s</span><span class="c">truct</span> <span class="w">sst_cmd_set_gain_dual</span> <span class="c">{</span>
	<span class="c">struct</span> <span class="w">sst_dsp_header</span> <span class="pc">h</span><span class="c">eader;</span>
	<span class="pc">u</span><span class="c">16</span>    <span class="w">gain_cell_num</span><span class="c">;</span>
	<span class="pc">s</span><span class="c">truct</span> <span class="c">gain_cell</span> <span class="w">cell_gains</span><span class="pc">[</span><span class="w">N</span><span class="c">UM_GAIN_CELLS];</span>
<span class="pc">}</span> <span class="c">__packed;</span>
<span class="c">struct</span> <span class="w">sst_cmd_set_params</span> <span class="c">{</span>
	<span class="c">struct</span> <span class="w">sst_destination_id</span> <span class="w">ds</span><span class="c">t;</span>
	<span class="pc">u1</span><span class="c">6</span> <span class="w">command_id</span><span class="c">;</span>
	<span class="w">c</span><span class="pc">h</span><span class="c">ar</span> <span class="w">pa</span><span class="pc">r</span><span class="c">ams[</span><span class="w">0</span><span class="c">];</span>
<span class="c">}</span> <span class="c">__packed;</span>


<span class="c">struct</span> <span class="w">sst_cmd_sba_vb_start</span> <span class="c">{</span>
	<span class="c">struct</span> <span class="c">sst_dsp_header</span> <span class="pc">h</span><span class="c">eader;</span>
<span class="w">}</span> <span class="c">__packed;</span>

<span class="w">u</span><span class="pc">n</span><span class="c">ion</span> <span class="w">sba_media_loop_params</span> <span class="c">{</span>
	<span class="c">struct</span> <span class="pc">{</span>
		<span class="w">u</span><span class="pc">1</span><span class="c">6</span> <span class="w">rsvd</span><span class="pc">:</span><span class="w">8</span><span class="c">;</span>
		<span class="pc">s</span><span class="c">truct</span> <span class="w">pcm_cfg</span> <span class="w">c</span><span class="pc">f</span><span class="c">g;</span>
	<span class="c">}</span> <span class="w">part</span><span class="c">;</span>
	<span class="pc">u</span><span class="c">16</span> <span class="w">fu</span><span class="pc">l</span><span class="c">l;</span>
<span class="pc">}</span> <span class="c">__packed;</span>

<span class="c">struct</span> <span class="w">sst_cmd_sba_set_media_loop_map</span> <span class="c">{</span>
	<span class="c">struct</span>	<span class="c">sst_dsp_header</span> <span class="c">header;</span>
	<span class="pc">u1</span><span class="c">6</span>	<span class="w">switch_state</span><span class="c">;</span>
	<span class="w">u</span><span class="pc">n</span><span class="c">ion</span>	<span class="pc">s</span><span class="c">ba_media_loop_params</span> <span class="w">p</span><span class="pc">aram</span><span class="c">;</span>
	<span class="w">u</span><span class="pc">1</span><span class="c">6</span>	<span class="w">map</span><span class="c">;</span>
<span class="pc">}</span> <span class="c">__packed;</span>

<span class="c">struct</span> <span class="w">sst_cmd_tone_stop</span> <span class="c">{</span>
	<span class="c">struct</span>	<span class="c">sst_dsp_header</span> <span class="c">header;</span>
	<span class="pc">u1</span><span class="c">6</span>	<span class="c">switch_state;</span>
<span class="pc">}</span> <span class="c">__packed;</span>

<span class="pc">e</span><span class="c">num</span> <span class="w">sst_ssp_mode</span> <span class="c">{</span>
	<span class="w">SSP_MODE_MASTER</span> <span class="c">=</span> <span class="c">0,</span>
	<span class="w">SSP_MODE_SLAVE</span> <span class="pc">=</span> <span class="c">1,</span>
<span class="c">};</span>

<span class="pc">e</span><span class="c">num</span> <span class="w">sst_ssp_pcm_mode</span> <span class="c">{</span>
	<span class="w">SSP_PCM_MODE_NORMAL</span> <span class="c">=</span> <span class="c">0,</span>
	<span class="w">SSP_PCM_MODE_NETWORK</span> <span class="c">=</span> <span class="c">1,</span>
<span class="c">};</span>

<span class="pc">e</span><span class="c">num</span> <span class="w">sst_ssp_duplex</span> <span class="c">{</span>
	<span class="w">SSP_DUPLEX</span> <span class="c">=</span> <span class="c">0,</span>
	<span class="w">SSP_RX</span> <span class="c">=</span> <span class="c">1,</span>
	<span class="w">SSP_TX</span> <span class="c">=</span> <span class="c">2,</span>
<span class="c">};</span>

<span class="c">enum</span> <span class="w">sst_ssp_fs_frequency</span> <span class="c">{</span>
	<span class="w">SSP_FS_8_KHZ</span> <span class="c">=</span> <span class="c">0,</span>
	<span class="w">SSP_FS_16_KHZ</span> <span class="c">=</span> <span class="c">1,</span>
	<span class="w">SSP_FS_44_1_KHZ</span> <span class="c">=</span> <span class="c">2,</span>
	<span class="w">SSP_FS_48_KHZ</span> <span class="c">=</span> <span class="c">3,</span>
<span class="c">};</span>

<span class="c">enum</span> <span class="w">sst_ssp_fs_polarity</span> <span class="c">{</span>
	<span class="w">SSP_FS_ACTIVE_LOW</span> <span class="c">=</span> <span class="c">0,</span>
	<span class="w">SSP_FS_ACTIVE_HIGH</span> <span class="c">=</span> <span class="c">1,</span>
<span class="c">};</span>

<span class="c">enum</span> <span class="w">sst_ssp_protocol</span> <span class="c">{</span>
	<span class="w">SSP_MODE_PCM</span> <span class="c">=</span> <span class="c">0,</span>
	<span class="w">SSP_MODE_I2S</span> <span class="c">=</span> <span class="c">1,</span>
<span class="c">};</span>

<span class="c">enum</span> <span class="w">sst_ssp_port_id</span> <span class="c">{</span>
	<span class="w">SSP_MODEM</span> <span class="c">=</span> <span class="c">0,</span>
	<span class="w">SSP_BT</span> <span class="c">=</span> <span class="c">1,</span>
	<span class="w">SSP_FM</span> <span class="c">=</span> <span class="c">2,</span>
	<span class="w">SSP_CODEC</span> <span class="c">=</span> <span class="c">3,</span>
<span class="c">};</span>

<span class="pc">s</span><span class="c">truct</span> <span class="w">sst_cmd_sba_hw_set_ssp</span> <span class="c">{</span>
	<span class="pc">s</span><span class="c">truct</span> <span class="w">sst_dsp_header</span> <span class="w">h</span><span class="pc">e</span><span class="c">ader;</span>
	<span class="w">u</span><span class="pc">1</span><span class="c">6</span> <span class="w">selection</span><span class="c">;</span>			

	<span class="c">u16</span> <span class="w">switch_state</span><span class="c">;</span>

	<span class="pc">u1</span><span class="c">6</span> <span class="w">nb_bits_per_slots</span><span class="pc">:</span><span class="w">6</span><span class="c">;</span>        
	<span class="pc">u1</span><span class="c">6</span> <span class="w">nb_slots</span><span class="pc">:4</span><span class="c">;</span>			
	<span class="pc">u1</span><span class="c">6</span> <span class="w">mo</span><span class="c">de</span><span class="pc">:3</span><span class="c">;</span>			
	<span class="c">u16</span> <span class="w">d</span><span class="pc">u</span><span class="c">plex:</span><span class="w">3</span><span class="c">;</span>

	<span class="c">u16</span> <span class="w">active_tx_slot_map</span><span class="c">:</span><span class="pc">8</span><span class="c">;</span>       
	<span class="c">u16</span> <span class="w">reserved1</span><span class="c">:</span><span class="pc">8</span><span class="c">;</span>

	<span class="c">u16</span> <span class="w">active_rx_slot_map</span><span class="c">:</span><span class="pc">8</span><span class="c">;</span>       
	<span class="c">u16</span> <span class="w">reserved2</span><span class="c">:8;</span>

	<span class="c">u16</span> <span class="w">frame_sync_frequency</span><span class="pc">;</span>

	<span class="c">u16</span> <span class="w">frame_sync_polarity</span><span class="pc">:</span><span class="c">8;</span>
	<span class="c">u16</span> <span class="w">data_polarity</span><span class="c">:</span><span class="pc">8</span><span class="c">;</span>

	<span class="c">u16</span> <span class="w">frame_sync_width</span><span class="pc">;</span>           
	<span class="c">u16</span> <span class="w">ssp_protocol</span><span class="pc">:8</span><span class="c">;</span>
	<span class="c">u16</span> <span class="w">start_delay</span><span class="c">:8;</span>		
<span class="w">}</span> <span class="c">__packed;</span>

<span class="pc">#</span><span class="c">define</span> <span class="w">SST_MAX_TDM_SLOTS</span> <span class="pc">8</span>

<span class="pc">s</span><span class="c">truct</span> <span class="w">sst_param_sba_ssp_slot_map</span> <span class="c">{</span>
	<span class="pc">s</span><span class="c">truct</span> <span class="w">sst_dsp_header</span> <span class="pc">he</span><span class="c">ader;</span>

	<span class="c">u16</span> <span class="w">param_id</span><span class="c">;</span>
	<span class="c">u16</span> <span class="w">param_len</span><span class="c">;</span>
	<span class="c">u16</span> <span class="w">ssp_index</span><span class="c">;</span>

	<span class="pc">u8</span> <span class="w">rx_slot_map</span><span class="pc">[</span><span class="w">S</span><span class="c">ST_MAX_TDM_SLOTS];</span>
	<span class="c">u8</span> <span class="w">tx_slot_map</span><span class="pc">[</span><span class="w">S</span><span class="c">ST_MAX_TDM_SLOTS];</span>
<span class="pc">}</span> <span class="c">__packed;</span>

<span class="w">e</span><span class="c">num</span> <span class="c">{</span>
	<span class="w">SST_PROBE_EXTRACTOR</span> <span class="c">=</span> <span class="c">0,</span>
	<span class="w">SST_PROBE_INJECTOR</span> <span class="c">=</span> <span class="c">1,</span>
<span class="c">};</span>



<span class="pc">#</span><span class="c">define</span> <span class="w">SST_MODULE_GAIN</span> <span class="pc">1</span>
<span class="c">#define</span> <span class="w">SST_MODULE_ALGO</span> <span class="c">2</span>

<span class="c">#define</span> <span class="w">SST_FMT_MONO</span> <span class="w">0</span>
<span class="c">#define</span> <span class="w">SST_FMT_STEREO</span> <span class="pc">3</span>


<span class="pc">e</span><span class="c">num</span> <span class="c">{</span>
	<span class="w">SST_SSP0</span> <span class="c">=</span> <span class="pc">0</span><span class="c">,</span>
	<span class="w">SST_SSP1</span><span class="pc">,</span>
	<span class="w">SST_SSP2</span><span class="c">,</span>
	<span class="w">SST_SSP_LAST</span> <span class="pc">=</span> <span class="w">S</span><span class="pc">ST_SSP2</span><span class="c">,</span>
<span class="c">};</span>

<span class="c">#define</span> <span class="w">SST_NUM_SSPS</span>		<span class="c">(</span><span class="w">SST_S</span><span class="pc">SP_</span><span class="c">LAST</span> <span class="pc">+</span> <span class="c">1)</span>	
<span class="c">#define</span> <span class="w">SST_MAX_SSP_MUX</span>		<span class="w">2</span>			
<span class="c">#define</span> <span class="w">SST_MAX_SSP_DOMAINS</span>	<span class="pc">2</span>			

<span class="pc">s</span><span class="c">truct</span> <span class="w">sst_module</span> <span class="c">{</span>
	<span class="pc">s</span><span class="c">truct</span> <span class="w">sn</span><span class="pc">d_k</span><span class="c">control</span> <span class="c">*</span><span class="w">kctl</span><span class="c">;</span>
	<span class="c">struct</span> <span class="w">l</span><span class="c">ist_head</span> <span class="pc">n</span><span class="c">ode;</span>
<span class="c">};</span>

<span class="c">struct</span> <span class="w">sst_ssp_config</span> <span class="c">{</span>
	<span class="w">u</span><span class="pc">8</span> <span class="w">ssp_id</span><span class="c">;</span>
	<span class="c">u8</span> <span class="w">bits_per_slot</span><span class="c">;</span>
	<span class="c">u8</span> <span class="w">sl</span><span class="pc">ots;</span>
	<span class="c">u8</span> <span class="w">ssp_mode</span><span class="c">;</span>
	<span class="c">u8</span> <span class="w">pcm_mode</span><span class="c">;</span>
	<span class="c">u8</span> <span class="w">d</span><span class="pc">up</span><span class="c">lex;</span>
	<span class="c">u8</span> <span class="w">ssp_protocol</span><span class="c">;</span>
	<span class="c">u8</span> <span class="w">fs_frequency</span><span class="c">;</span>
	<span class="c">u8</span> <span class="w">active_slot_map</span><span class="c">;</span>
	<span class="c">u8</span> <span class="w">start_delay</span><span class="c">;</span>
	<span class="pc">u1</span><span class="c">6</span> <span class="w">fs_width</span><span class="c">;</span>
	<span class="c">u8</span> <span class="w">frame_sync_polarity</span><span class="c">;</span>
	<span class="c">u8</span> <span class="w">data_polarity</span><span class="c">;</span>
<span class="pc">}</span><span class="c">;</span>

<span class="c">struct</span> <span class="w">sst_ssp_cfg</span> <span class="c">{</span>
	<span class="w">c</span><span class="pc">o</span><span class="c">nst</span> <span class="pc">u</span><span class="c">8</span> <span class="w">ssp_number</span><span class="c">;</span>
	<span class="w">c</span><span class="c">onst</span> <span class="w">i</span><span class="c">nt</span> <span class="c">*</span><span class="w">mux_shift</span><span class="c">;</span>
	<span class="pc">c</span><span class="c">onst</span> <span class="w">i</span><span class="c">nt</span> <span class="w">(</span><span class="c">*</span><span class="w">domain_shift)[SST_MAX_SSP_MUX</span><span class="pc">];</span>
	<span class="pc">c</span><span class="c">onst</span> <span class="pc">s</span><span class="c">truct</span> <span class="w">sst_ssp_config</span> <span class="w">(</span><span class="c">*</span><span class="w">ssp_config)[S</span><span class="c">ST_MAX_SSP_MUX</span><span class="pc">][</span><span class="w">SST_MAX_SSP_DOMAINS</span><span class="c">];</span>
<span class="c">};</span>

<span class="c">struct</span> <span class="w">sst_ids</span> <span class="c">{</span>
	<span class="pc">u1</span><span class="c">6</span> <span class="w">location_id</span><span class="c">;</span>
	<span class="pc">u1</span><span class="c">6</span> <span class="w">module_id</span><span class="c">;</span>
	<span class="pc">u8</span>  <span class="w">task_id</span><span class="c">;</span>
	<span class="c">u8</span>  <span class="w">f</span><span class="pc">o</span><span class="c">rmat;</span>
	<span class="c">u8</span>  <span class="w">reg</span><span class="c">;</span>
	<span class="w">c</span><span class="pc">o</span><span class="c">nst</span> <span class="pc">c</span><span class="c">har</span> <span class="c">*</span><span class="w">parent_wname</span><span class="c">;</span>
	<span class="pc">s</span><span class="c">truct</span> <span class="w">snd_soc_dapm_widget</span> <span class="c">*</span><span class="w">parent_w</span><span class="c">;</span>
	<span class="pc">s</span><span class="c">truct</span> <span class="pc">l</span><span class="c">ist_head</span> <span class="w">algo_list</span><span class="c">;</span>
	<span class="c">struct</span> <span class="pc">l</span><span class="c">ist_head</span> <span class="w">gain_list</span><span class="c">;</span>
	<span class="w">c</span><span class="pc">o</span><span class="c">nst</span> <span class="c">struct</span> <span class="w">sst_pcm_format</span> <span class="c">*</span><span class="w">pcm_fmt</span><span class="c">;</span>
<span class="pc">}</span><span class="c">;</span>


<span class="pc">#</span><span class="c">define</span> <span class="w">SST_AIF_IN</span><span class="c">(</span><span class="w">wname</span><span class="pc">,</span> <span class="w">wevent)							\</span>
<span class="w">{	.id</span> <span class="pc">=</span> <span class="w">snd_soc_dapm_aif_in,</span><span class="pc"> </span><span class="c">.</span><span class="pc">n</span><span class="c">ame</span> <span class="c">=</span> <span class="pc">w</span><span class="c">name, .</span><span class="w">sname</span> <span class="c">=</span> <span class="w">N</span><span class="c">ULL</span><span class="w">,	</span><span class="pc">		\</span>
	<span class="c">.</span><span class="w">r</span><span class="pc">eg</span> <span class="c">=</span> <span class="w">SND_SOC_NOPM</span><span class="pc">,</span><span class="c"> .</span><span class="w">sh</span><span class="c">ift</span> <span class="c">=</span> <span class="pc">0</span><span class="w">,					\</span>
	<span class="c">.</span><span class="w">on_val</span> <span class="c">=</span> <span class="pc">1</span><span class="c">, .</span><span class="w">off_val</span> <span class="c">=</span> <span class="c">0</span><span class="w">,							\</span>
	<span class="c">.</span><span class="w">e</span><span class="c">vent</span> <span class="c">=</span> <span class="w">w</span><span class="pc">e</span><span class="c">vent, .</span><span class="w">event_flags</span> <span class="c">=</span> <span class="w">SND_SOC_DAPM_PRE_PMU</span> <span class="pc">|</span> <span class="w">SND_SOC_DAPM_POST_PMD,	</span><span class="pc">\</span>
	<span class="c">.</span><span class="w">pr</span><span class="pc">iv</span> <span class="w">= </span><span class="pc">(v</span><span class="c">oid</span> <span class="w">*)&amp;(s</span><span class="pc">t</span><span class="c">ruct</span> <span class="w">sst_ids) { .task_id</span> <span class="c">=</span> <span class="c">0</span><span class="w">,</span><span class="pc"> .</span><span class="w">location_id</span> <span class="c">=</span> <span class="pc">0</span> <span class="w">}		\</span>
<span class="pc">}</span>

<span class="pc">#</span><span class="c">define</span> <span class="w">SST_AIF_OUT</span><span class="c">(</span><span class="w">wname</span><span class="c">,</span> <span class="w">w</span><span class="pc">e</span><span class="c">vent</span><span class="w">)							\</span>
<span class="w">{	.id</span> <span class="pc">=</span> <span class="w">snd_soc_dapm_aif_out,</span><span class="pc"> </span><span class="c">.name</span> <span class="c">=</span> <span class="pc">w</span><span class="c">name, .</span><span class="w">sname</span> <span class="c">=</span> <span class="w">N</span><span class="c">ULL</span><span class="w">,	</span><span class="pc">		\</span>
	<span class="c">.</span><span class="w">r</span><span class="pc">eg</span> <span class="c">=</span> <span class="w">SND_SOC_NOPM</span><span class="pc">,</span><span class="c"> .</span><span class="w">sh</span><span class="c">ift</span> <span class="c">=</span> <span class="c">0</span><span class="w">,						\</span>
	<span class="c">.</span><span class="w">on_val</span> <span class="c">=</span> <span class="pc">1</span><span class="c">, .</span><span class="w">off_val</span> <span class="c">=</span> <span class="c">0</span><span class="w">,							\</span>
	<span class="c">.</span><span class="w">e</span><span class="c">vent</span> <span class="c">=</span> <span class="w">w</span><span class="pc">e</span><span class="c">vent, .</span><span class="w">event_flags</span> <span class="c">=</span> <span class="w">SND_SOC_DAPM_PRE_PMU</span> <span class="pc">|</span> <span class="w">SND_SOC_DAPM_POST_PMD,	</span><span class="pc">\</span>
	<span class="c">.</span><span class="w">pr</span><span class="pc">iv</span> <span class="w">= </span><span class="pc">(v</span><span class="c">oid</span> <span class="w">*)&amp;(s</span><span class="pc">t</span><span class="c">ruct</span> <span class="w">sst_ids) { .task_id</span> <span class="c">=</span> <span class="c">0</span><span class="w">,</span><span class="pc"> .</span><span class="w">location_id</span> <span class="c">=</span> <span class="pc">0</span> <span class="w">}		\</span>
<span class="pc">}</span>

<span class="pc">#</span><span class="c">define</span> <span class="w">SST_INPUT</span><span class="c">(</span><span class="w">wname</span><span class="c">,</span> <span class="w">w</span><span class="pc">e</span><span class="c">vent</span><span class="w">)							\</span>
<span class="w">{	.id</span> <span class="pc">=</span> <span class="w">snd_soc_dapm_input,</span><span class="pc"> </span><span class="c">.name</span> <span class="c">=</span> <span class="pc">w</span><span class="c">name, .</span><span class="w">sname</span> <span class="c">=</span> <span class="w">N</span><span class="c">ULL</span><span class="w">,</span><span class="pc">			</span><span class="c">	\</span>
	<span class="c">.</span><span class="w">r</span><span class="pc">eg</span> <span class="c">=</span> <span class="w">SND_SOC_NOPM</span><span class="pc">,</span><span class="c"> .</span><span class="w">sh</span><span class="c">ift</span> <span class="c">=</span> <span class="c">0</span><span class="w">,						\</span>
	<span class="c">.</span><span class="w">on_val</span> <span class="c">=</span> <span class="pc">1</span><span class="c">, .</span><span class="w">off_val</span> <span class="c">=</span> <span class="c">0</span><span class="w">,							\</span>
	<span class="c">.</span><span class="w">e</span><span class="c">vent</span> <span class="c">=</span> <span class="w">w</span><span class="pc">e</span><span class="c">vent, .</span><span class="w">event_flags</span> <span class="c">=</span> <span class="w">SND_SOC_DAPM_PRE_PMU</span> <span class="pc">|</span> <span class="w">SND_SOC_DAPM_POST_PMD,	</span><span class="pc">\</span>
	<span class="c">.</span><span class="w">pr</span><span class="pc">iv</span> <span class="w">= </span><span class="pc">(v</span><span class="c">oid</span> <span class="w">*)&amp;(s</span><span class="pc">t</span><span class="c">ruct</span> <span class="w">sst_ids) { .task_id</span> <span class="c">=</span> <span class="c">0</span><span class="w">,</span><span class="pc"> .</span><span class="w">location_id</span> <span class="c">=</span> <span class="pc">0</span> <span class="w">}		\</span>
<span class="pc">}</span>

<span class="pc">#</span><span class="c">define</span> <span class="w">SST_OUTPUT</span><span class="c">(</span><span class="w">wname</span><span class="c">,</span> <span class="w">w</span><span class="pc">e</span><span class="c">vent</span><span class="w">)							\</span>
<span class="w">{	.id</span> <span class="pc">=</span> <span class="w">snd_soc_dapm_output,</span><span class="pc"> </span><span class="c">.name</span> <span class="c">=</span> <span class="pc">w</span><span class="c">name, .</span><span class="w">sname</span> <span class="c">=</span> <span class="w">N</span><span class="c">ULL</span><span class="w">,	</span><span class="pc">		\</span>
	<span class="c">.</span><span class="w">r</span><span class="pc">eg</span> <span class="c">=</span> <span class="w">SND_SOC_NOPM</span><span class="pc">,</span><span class="c"> .</span><span class="w">sh</span><span class="c">ift</span> <span class="c">=</span> <span class="c">0</span><span class="w">,						\</span>
	<span class="c">.</span><span class="w">on_val</span> <span class="c">=</span> <span class="pc">1</span><span class="c">, .</span><span class="w">off_val</span> <span class="c">=</span> <span class="c">0</span><span class="w">,							\</span>
	<span class="c">.</span><span class="w">e</span><span class="c">vent</span> <span class="c">=</span> <span class="w">w</span><span class="pc">e</span><span class="c">vent, .</span><span class="w">event_flags</span> <span class="c">=</span> <span class="w">SND_SOC_DAPM_PRE_PMU</span> <span class="pc">|</span> <span class="w">SND_SOC_DAPM_POST_PMD,	</span><span class="pc">\</span>
	<span class="c">.</span><span class="w">pr</span><span class="pc">iv</span> <span class="w">= </span><span class="pc">(v</span><span class="c">oid</span> <span class="w">*)&amp;(s</span><span class="pc">t</span><span class="c">ruct</span> <span class="w">sst_ids) { .task_id</span> <span class="c">=</span> <span class="c">0</span><span class="w">,</span><span class="pc"> .</span><span class="w">location_id</span> <span class="c">=</span> <span class="pc">0</span> <span class="w">}		\</span>
<span class="pc">}</span>

<span class="pc">#</span><span class="c">define</span> <span class="w">SST_DAPM_OUTPUT</span><span class="c">(</span><span class="w">wname</span><span class="c">,</span> <span class="w">wloc_id</span><span class="c">,</span> <span class="w">wtask_id</span><span class="c">,</span> <span class="w">wformat</span><span class="c">,</span> <span class="w">w</span><span class="pc">e</span><span class="c">vent</span><span class="w">)                      \</span>
<span class="w">{	.i</span><span class="pc">d</span> <span class="pc">=</span> <span class="w">snd_soc_dapm_output</span><span class="pc">,</span><span class="c"> .</span><span class="pc">n</span><span class="c">ame</span> <span class="c">=</span> <span class="pc">wn</span><span class="c">ame</span><span class="pc">, </span><span class="c">.</span><span class="w">sname</span> <span class="c">=</span> <span class="w">N</span><span class="c">ULL</span><span class="w">,                        \</span>
	<span class="c">.</span><span class="w">r</span><span class="pc">eg</span> <span class="c">=</span> <span class="w">SND_SOC_NOPM</span><span class="c">, .</span><span class="w">sh</span><span class="c">ift</span> <span class="c">=</span> <span class="pc">0</span><span class="w">,						\</span>
	<span class="c">.</span><span class="w">on_val</span> <span class="c">=</span> <span class="pc">1</span><span class="c">, .</span><span class="w">off_val</span> <span class="c">=</span> <span class="c">0</span><span class="w">,							\</span>
	<span class="c">.</span><span class="w">e</span><span class="c">vent</span> <span class="c">=</span> <span class="w">w</span><span class="pc">e</span><span class="c">vent, .</span><span class="w">event_flags</span> <span class="c">=</span> <span class="w">SND_SOC_DAPM_PRE_PMU</span> <span class="pc">|</span> <span class="w">SND_SOC_DAPM_POST_PMD,   \</span>
	<span class="c">.</span><span class="w">pr</span><span class="pc">iv</span> <span class="w">=</span><span class="pc"> (</span><span class="c">void</span> <span class="w">*)&amp;(s</span><span class="pc">t</span><span class="c">ruct</span> <span class="w">sst_ids) { .location_id</span> <span class="c">=</span> <span class="w">wloc_id,</span><span class="pc"> .</span><span class="w">task_id</span> <span class="c">=</span> <span class="w">wtask_id,\</span>
						<span class="c">.</span><span class="w">pcm_fmt</span> <span class="c">=</span> <span class="w">wformat, }			\</span>
<span class="w">}</span>

<span class="pc">#</span><span class="c">define</span> <span class="w">SST_PATH</span><span class="c">(</span><span class="w">wname</span><span class="pc">,</span> <span class="w">wtask</span><span class="c">,</span> <span class="w">w</span><span class="pc">l</span><span class="c">oc_id,</span> <span class="w">w</span><span class="pc">e</span><span class="c">vent,</span> <span class="w">wflags)	</span><span class="pc">				</span><span class="c">\</span>
<span class="w">{	.id</span> <span class="pc">=</span> <span class="w">snd_soc_dapm_pga,</span><span class="pc"> </span><span class="c">.</span><span class="pc">n</span><span class="c">ame</span> <span class="c">=</span> <span class="w">w</span><span class="pc">n</span><span class="c">ame, .</span><span class="w">r</span><span class="c">eg</span> <span class="c">=</span> <span class="w">SND_SOC_NOPM</span><span class="pc">, </span><span class="c">.</span><span class="w">s</span><span class="pc">h</span><span class="c">ift</span> <span class="c">=</span> <span class="c">0</span><span class="w">,	</span><span class="pc">	\</span>
	<span class="c">.</span><span class="w">kcontrol_news</span> <span class="c">=</span> <span class="w">N</span><span class="c">ULL</span><span class="pc">, </span><span class="c">.</span><span class="w">num_kcontrols</span> <span class="c">=</span> <span class="pc">0</span><span class="w">,</span><span class="pc">	</span><span class="c">			\</span>
	<span class="c">.</span><span class="w">on_val</span> <span class="c">=</span> <span class="pc">1, </span><span class="c">.</span><span class="w">off_val</span> <span class="c">=</span> <span class="c">0</span><span class="w">,							\</span>
	<span class="c">.</span><span class="w">e</span><span class="c">vent</span> <span class="c">=</span> <span class="w">wevent</span><span class="c">, .</span><span class="w">event_flags</span> <span class="c">=</span> <span class="w">wflags,						\</span>
	<span class="c">.</span><span class="w">pri</span><span class="pc">v</span> <span class="w">= </span><span class="pc">(v</span><span class="c">oid</span> <span class="w">*)&amp;(s</span><span class="c">truct</span> <span class="w">sst_ids) { .task_id</span> <span class="c">=</span> <span class="w">wtask,</span><span class="pc"> .</span><span class="w">location_id</span> <span class="c">=</span> <span class="w">wloc_id, }	\</span>
<span class="pc">}</span>

<span class="pc">#</span><span class="c">define</span> <span class="w">SST_LINKED_PATH</span><span class="c">(</span><span class="w">wname</span><span class="c">,</span> <span class="w">w</span><span class="pc">t</span><span class="c">ask,</span> <span class="w">w</span><span class="pc">l</span><span class="c">oc_id,</span> <span class="w">linked_wname</span><span class="c">,</span> <span class="w">w</span><span class="pc">e</span><span class="c">vent</span><span class="pc">,</span> <span class="w">w</span><span class="pc">f</span><span class="c">lags</span><span class="w">)	</span><span class="pc">	</span><span class="c">\</span>
<span class="w">{	.id</span> <span class="c">=</span> <span class="w">snd_soc_dapm_pga, </span><span class="pc">.</span><span class="c">name</span> <span class="c">=</span> <span class="pc">w</span><span class="c">name, .</span><span class="w">r</span><span class="c">eg</span> <span class="c">=</span> <span class="w">SND_SOC_NOPM</span><span class="c">, .</span><span class="w">s</span><span class="pc">h</span><span class="c">ift</span> <span class="c">=</span> <span class="pc">0</span><span class="w">,</span><span class="pc">		\</span>
	<span class="pc">.</span><span class="w">kcontrol_news</span> <span class="c">=</span> <span class="w">N</span><span class="c">ULL</span><span class="pc">, </span><span class="c">.</span><span class="w">num_kcontrols</span> <span class="c">=</span> <span class="pc">0</span><span class="w">,</span><span class="pc">	</span><span class="c">			\</span>
	<span class="c">.</span><span class="w">on_val</span> <span class="c">=</span> <span class="pc">1</span><span class="c">, .</span><span class="w">off_val</span> <span class="c">=</span> <span class="c">0</span><span class="w">,							\</span>
	<span class="c">.</span><span class="w">e</span><span class="c">vent</span> <span class="c">=</span> <span class="w">wevent</span><span class="c">, .</span><span class="w">event_flags</span> <span class="c">=</span> <span class="w">wflags,						\</span>
	<span class="c">.</span><span class="w">pri</span><span class="pc">v</span> <span class="w">= </span><span class="pc">(v</span><span class="c">oid</span> <span class="w">*)&amp;(s</span><span class="c">truct</span> <span class="w">sst_ids) { .task_id</span> <span class="c">=</span> <span class="w">wtask,</span><span class="pc"> .</span><span class="w">location_id</span> <span class="c">=</span> <span class="w">wloc_id,	</span><span class="pc">\</span>
					<span class="c">.</span><span class="w">parent_wname</span> <span class="c">=</span> <span class="w">linked_wname}			\</span>
<span class="w">}</span>

<span class="pc">#</span><span class="c">define</span> <span class="w">SST_PATH_MEDIA_LOOP</span><span class="c">(</span><span class="w">wname</span><span class="pc">,</span> <span class="w">w</span><span class="pc">t</span><span class="c">ask,</span> <span class="w">w</span><span class="pc">l</span><span class="c">oc_id,</span> <span class="w">wformat</span><span class="c">,</span> <span class="w">w</span><span class="pc">e</span><span class="c">vent,</span> <span class="w">w</span><span class="pc">fl</span><span class="c">ags</span><span class="w">)             \</span>
<span class="w">{	.id</span> <span class="c">=</span> <span class="w">snd_soc_dapm_pga, </span><span class="pc">.</span><span class="c">name</span> <span class="c">=</span> <span class="w">w</span><span class="pc">n</span><span class="c">ame</span><span class="pc">, </span><span class="c">.</span><span class="w">r</span><span class="pc">eg</span> <span class="c">=</span> <span class="w">SND_SOC_NOPM</span><span class="pc">, </span><span class="c">.</span><span class="w">s</span><span class="pc">h</span><span class="c">ift</span> <span class="c">=</span> <span class="pc">0</span><span class="w">,         \</span>
	<span class="pc">.</span><span class="w">kcontrol_news</span> <span class="c">=</span> <span class="w">N</span><span class="c">ULL</span><span class="pc">, </span><span class="c">.</span><span class="w">num_kcontrols</span> <span class="c">=</span> <span class="c">0</span><span class="w">,                         \</span>
	<span class="c">.</span><span class="w">e</span><span class="c">vent</span> <span class="c">=</span> <span class="w">w</span><span class="pc">e</span><span class="c">vent, .</span><span class="w">event_flags</span> <span class="c">=</span> <span class="w">w</span><span class="pc">fl</span><span class="c">ags</span><span class="w">,                                         \</span>
	<span class="c">.</span><span class="w">pr</span><span class="pc">iv</span> <span class="w">= </span><span class="pc">(v</span><span class="c">oid</span> <span class="w">*)&amp;(s</span><span class="pc">t</span><span class="c">ruct</span> <span class="w">sst_ids) { .task_id</span> <span class="c">=</span> <span class="w">wtask,</span><span class="pc"> .</span><span class="w">location_id</span> <span class="c">=</span> <span class="w">wloc_id,	</span><span class="pc">\</span>
					    <span class="c">.</span><span class="w">fo</span><span class="pc">r</span><span class="c">mat</span> <span class="c">=</span> <span class="w">wformat,}				\</span>
<span class="w">}</span>


<span class="w">#</span><span class="c">define</span> <span class="w">SST_PATH_INPUT</span><span class="c">(</span><span class="pc">n</span><span class="c">ame,</span> <span class="w">t</span><span class="c">ask_id,</span> <span class="w">loc_id</span><span class="c">,</span> <span class="w">e</span><span class="pc">vent</span><span class="w">)	</span><span class="pc">				</span><span class="c">\</span>
	<span class="w">SST_PATH</span><span class="c">(</span><span class="pc">n</span><span class="c">ame,</span> <span class="c">task_id,</span> <span class="w">l</span><span class="pc">oc_</span><span class="c">id,</span> <span class="w">e</span><span class="c">vent,</span> <span class="w">SND_SOC_DAPM_POST_PMU</span> <span class="w">|</span> <span class="w">SND_SOC_DAPM_PRE_PMD</span><span class="pc">)</span>

<span class="c">#define</span> <span class="w">SST_PATH_LINKED_INPUT</span><span class="c">(</span><span class="pc">n</span><span class="c">ame,</span> <span class="w">t</span><span class="pc">a</span><span class="c">sk_id,</span> <span class="c">loc_id,</span> <span class="w">linked_wname</span><span class="c">,</span> <span class="w">e</span><span class="c">vent</span><span class="w">)	</span><span class="pc">	\</span>
	<span class="w">SST_LINKED_PATH</span><span class="c">(name,</span> <span class="w">t</span><span class="c">ask_id,</span> <span class="c">loc_id,</span> <span class="pc">l</span><span class="c">inked_wname,</span> <span class="w">e</span><span class="c">vent</span><span class="w">,	</span><span class="pc">		\</span>
					<span class="w">S</span><span class="pc">ND_SOC_DAPM_PO</span><span class="c">ST_PMU</span> <span class="pc">|</span> <span class="c">SND_SOC_DAPM_PRE_PMD</span><span class="pc">)</span>

<span class="c">#define</span> <span class="w">SST_PATH_OUTPUT</span><span class="c">(</span><span class="pc">n</span><span class="c">ame,</span> <span class="pc">t</span><span class="c">ask_id,</span> <span class="c">loc_id,</span> <span class="w">e</span><span class="c">vent</span><span class="w">)	</span><span class="pc">				</span><span class="c">\</span>
	<span class="w">SST_PATH</span><span class="c">(name,</span> <span class="c">task_id,</span> <span class="pc">l</span><span class="c">oc_id</span><span class="pc">,</span> <span class="w">e</span><span class="c">vent,</span> <span class="w">SND_SOC_DAPM_PRE_PMU</span> <span class="w">|</span> <span class="w">SND_SOC_DAPM_POST_PMD</span><span class="pc">)</span>

<span class="c">#define</span> <span class="w">SST_PATH_LINKED_OUTPUT</span><span class="c">(name,</span> <span class="pc">t</span><span class="c">ask_id,</span> <span class="c">loc_id,</span> <span class="w">linked_wname</span><span class="c">,</span> <span class="w">e</span><span class="c">vent</span><span class="w">)	</span><span class="pc">	\</span>
	<span class="w">SST_LINKED_PATH</span><span class="c">(name,</span> <span class="w">t</span><span class="c">ask_id,</span> <span class="c">loc_id,</span> <span class="pc">l</span><span class="c">inked_wname,</span> <span class="w">e</span><span class="c">vent</span><span class="w">,	</span><span class="pc">		\</span>
					<span class="w">S</span><span class="pc">ND_SOC_DAPM_PR</span><span class="c">E_PMU</span> <span class="pc">|</span> <span class="c">SND_SOC_DAPM_POST_PMD</span><span class="pc">)</span>

<span class="c">#define</span> <span class="w">SST_PATH_MEDIA_LOOP_OUTPUT</span><span class="c">(</span><span class="pc">n</span><span class="c">ame,</span> <span class="pc">t</span><span class="c">ask_id,</span> <span class="c">loc_id,</span> <span class="w">fo</span><span class="c">rmat,</span> <span class="w">e</span><span class="c">vent</span><span class="w">)	</span><span class="pc">	\</span>
	<span class="w">SST_PATH_MEDIA_LOOP</span><span class="c">(</span><span class="pc">n</span><span class="c">ame,</span> <span class="c">task_id,</span> <span class="c">loc_id,</span> <span class="w">f</span><span class="pc">o</span><span class="c">rmat,</span> <span class="w">e</span><span class="c">vent,</span> <span class="pc">SN</span><span class="c">D_SOC_DAPM_PRE_PMU</span> <span class="w">|</span> <span class="c">SND_SOC_DAPM_POST_PMD</span><span class="pc">)</span>


<span class="c">#define</span> <span class="w">SST_SWM_MIXER</span><span class="c">(</span><span class="w">wname</span><span class="c">,</span> <span class="w">wreg</span><span class="c">,</span> <span class="w">wtask</span><span class="c">,</span> <span class="w">wloc_id</span><span class="c">,</span> <span class="w">wcontrols</span><span class="c">,</span> <span class="w">wevent)</span><span class="pc">		</span><span class="c">	\</span>
<span class="w">{	.i</span><span class="pc">d</span> <span class="c">=</span> <span class="w">snd_soc_dapm_mixer, </span><span class="pc">.</span><span class="c">name</span> <span class="c">=</span> <span class="w">w</span><span class="pc">n</span><span class="c">ame, .</span><span class="w">r</span><span class="c">eg</span> <span class="c">=</span> <span class="w">SND_SOC_NOPM</span><span class="pc">, </span><span class="c">.</span><span class="w">s</span><span class="pc">h</span><span class="c">ift</span> <span class="c">=</span> <span class="pc">0</span><span class="w">,	</span><span class="pc">\</span>
	<span class="pc">.</span><span class="w">kcontrol_news</span> <span class="c">=</span> <span class="w">w</span><span class="pc">c</span><span class="c">ontrols, .</span><span class="w">num_kcontrols</span> <span class="c">=</span> <span class="w">A</span><span class="c">RRAY_SIZE(</span><span class="w">wc</span><span class="c">ontrols</span><span class="w">),\</span>
	<span class="pc">.</span><span class="w">ev</span><span class="c">ent</span> <span class="c">=</span> <span class="w">w</span><span class="pc">e</span><span class="c">vent</span><span class="pc">, </span><span class="c">.</span><span class="w">event_flags</span> <span class="c">=</span> <span class="w">SND_SOC_DAPM_PRE_PMU</span> <span class="w">|</span> <span class="w">SND_SOC_DAPM_POST_PMD</span> <span class="w">|	\</span>
					<span class="w">SND_SOC_DAPM_POST_REG,	</span><span class="pc">		</span><span class="c">	\</span>
	<span class="c">.</span><span class="w">pri</span><span class="pc">v</span> <span class="pc">= (v</span><span class="c">oid</span> <span class="w">*)&amp;(s</span><span class="pc">t</span><span class="c">ruct</span> <span class="w">sst_ids) { .task_id</span> <span class="c">=</span> <span class="w">wtask,</span><span class="pc"> </span><span class="c">.</span><span class="w">location_id</span> <span class="c">=</span> <span class="w">wloc_id,</span><span class="pc">	\</span>
					    <span class="c">.</span><span class="w">r</span><span class="pc">eg</span> <span class="c">=</span> <span class="w">wreg</span> <span class="w">}				\</span>
<span class="pc">}</span>

<span class="w">e</span><span class="pc">n</span><span class="c">um</span> <span class="w">sst_gain_kcontrol_type</span> <span class="c">{</span>
	<span class="w">SST_GAIN_TLV</span><span class="pc">,</span>
	<span class="w">SST_GAIN_MUTE</span><span class="c">,</span>
	<span class="w">SST_GAIN_RAMP_DURATION</span><span class="c">,</span>
<span class="c">};</span>

<span class="c">struct</span> <span class="w">sst_gain_mixer_control</span> <span class="c">{</span>
	<span class="w">b</span><span class="c">ool</span> <span class="w">stereo</span><span class="c">;</span>
	<span class="pc">e</span><span class="c">num</span> <span class="pc">sst_g</span><span class="c">ain_kcontrol_type</span> <span class="c">type;</span>
	<span class="c">struct</span> <span class="w">sst_gain_value</span> <span class="c">*</span><span class="w">gain_val</span><span class="c">;</span>
	<span class="pc">i</span><span class="c">nt</span> <span class="w">m</span><span class="pc">ax</span><span class="c">;</span>
	<span class="pc">i</span><span class="c">nt</span> <span class="w">mi</span><span class="pc">n</span><span class="c">;</span>
	<span class="w">u</span><span class="pc">1</span><span class="c">6</span> <span class="w">instance_id</span><span class="c">;</span>
	<span class="c">u16</span> <span class="w">module_id</span><span class="c">;</span>
	<span class="c">u16</span> <span class="w">pipe_id</span><span class="c">;</span>
	<span class="c">u16</span> <span class="w">task_id</span><span class="c">;</span>
	<span class="w">c</span><span class="pc">h</span><span class="c">ar</span> <span class="w">pname</span><span class="c">[</span><span class="w">SNDRV_CTL_ELEM_ID_NAME_MAXLEN</span><span class="c">];</span>
	<span class="pc">s</span><span class="c">truct</span> <span class="w">snd_soc_dapm_widget</span> <span class="c">*</span><span class="w">w</span><span class="c">;</span>
<span class="pc">}</span><span class="c">;</span>

<span class="pc">s</span><span class="c">truct</span> <span class="pc">ss</span><span class="c">t_gain_value</span> <span class="c">{</span>
	<span class="pc">u</span><span class="c">16</span> <span class="w">ramp_duration</span><span class="c">;</span>
	<span class="w">s16</span> <span class="w">l_gain</span><span class="c">;</span>
	<span class="pc">s1</span><span class="c">6</span> <span class="w">r_gain</span><span class="c">;</span>
	<span class="w">b</span><span class="c">ool</span> <span class="w">mute</span><span class="c">;</span>
<span class="pc">}</span><span class="c">;</span>
<span class="pc">#</span><span class="c">define</span> <span class="w">SST_GAIN_VOLUME_DEFAULT</span>		<span class="w">(-1440</span><span class="pc">)</span>
<span class="c">#define</span> <span class="w">SST_GAIN_RAMP_DURATION_DEFAULT</span>	<span class="w">5</span> 
<span class="c">#define</span> <span class="w">SST_GAIN_MUTE_DEFAULT</span>		<span class="w">tr</span><span class="pc">u</span><span class="c">e</span>

<span class="c">#define</span> <span class="w">SST_GAIN_KCONTROL_TLV</span><span class="pc">(</span><span class="w">xname</span><span class="pc">,</span> <span class="w">xhandler_get</span><span class="c">,</span> <span class="w">xhandler_put,</span><span class="pc"> </span><span class="c">\</span>
			      <span class="w">xmod</span><span class="c">,</span> <span class="w">xpipe</span><span class="c">,</span> <span class="w">xinstance</span><span class="c">,</span> <span class="w">xtask</span><span class="c">,</span> <span class="w">tlv_array</span><span class="c">,</span> <span class="w">xgain_val,</span><span class="pc"> </span><span class="c">\</span>
			      <span class="w">xmin</span><span class="c">,</span> <span class="w">xmax</span><span class="c">,</span> <span class="w">xpname</span><span class="pc">)</span><span class="c"> \</span>
	<span class="w">.if</span><span class="pc">a</span><span class="c">ce</span> <span class="c">=</span> <span class="w">SNDRV_CTL_ELEM_IFACE_MIXER, </span><span class="pc">.n</span><span class="c">ame</span> <span class="c">=</span> <span class="w">xn</span><span class="c">ame</span><span class="w">,</span><span class="pc"> \</span>
	<span class="c">.</span><span class="w">ac</span><span class="pc">c</span><span class="c">ess</span> <span class="c">=</span> <span class="w">SNDRV_CTL_ELEM_ACCESS_TLV_READ</span> <span class="w">|</span><span class="pc"> </span><span class="c">\</span>
		  <span class="w">SNDRV_CTL_ELEM_ACCESS_READWRITE</span><span class="pc">, \</span>
	<span class="c">.</span><span class="w">t</span><span class="pc">lv.</span><span class="w">p</span> <span class="w">=</span><span class="pc"> (</span><span class="w">t</span><span class="c">lv_array</span><span class="pc">)</span><span class="c">, \</span>
	<span class="c">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o</span> <span class="pc">=</span> <span class="w">sst_gain_ctl_info,\</span>
	<span class="c">.</span><span class="w">g</span><span class="pc">et</span> <span class="c">=</span> <span class="w">xhandler_get, </span><span class="pc">.</span><span class="w">put</span> <span class="c">=</span> <span class="w">xhandler_put, </span><span class="pc">\</span>
	<span class="c">.</span><span class="w">pri</span><span class="pc">vate_v</span><span class="c">alue</span> <span class="pc">= </span><span class="c">(</span><span class="w">u</span><span class="pc">ns</span><span class="c">igned</span> <span class="c">long</span><span class="w">)&amp;(st</span><span class="c">ruct</span> <span class="w">sst_gain_mixer_control) \</span>
	<span class="w">{</span><span class="c"> .</span><span class="w">stereo</span> <span class="c">=</span> <span class="w">t</span><span class="pc">r</span><span class="c">ue</span><span class="pc">, </span><span class="c">.</span><span class="w">m</span><span class="c">ax</span> <span class="c">=</span> <span class="w">xmax</span><span class="pc">,</span><span class="c"> .</span><span class="w">m</span><span class="pc">i</span><span class="c">n</span> <span class="c">=</span> <span class="w">xmin</span><span class="pc">, </span><span class="c">.</span><span class="w">t</span><span class="pc">y</span><span class="c">pe</span> <span class="c">=</span> <span class="w">SST_GAIN_TLV, </span><span class="pc">\</span>
	  <span class="c">.</span><span class="w">module_id</span> <span class="c">=</span> <span class="w">xmod</span><span class="pc">, </span><span class="c">.</span><span class="w">pipe_id</span> <span class="c">=</span> <span class="w">xpipe</span><span class="pc">, </span><span class="c">.</span><span class="w">task_id</span> <span class="c">=</span> <span class="w">xtask,\</span>
	  <span class="c">.</span><span class="w">instance_id</span> <span class="c">=</span> <span class="w">xinstance</span><span class="c">, .</span><span class="w">gain_val</span> <span class="c">=</span> <span class="w">xgain_val</span><span class="pc">, </span><span class="c">.</span><span class="w">pname</span> <span class="c">=</span> <span class="w">xpname}</span>

<span class="c">#define</span> <span class="w">SST_GAIN_KCONTROL_INT</span><span class="c">(</span><span class="w">xname</span><span class="c">,</span> <span class="w">xhandler_get</span><span class="c">,</span> <span class="w">xhandler_put,</span><span class="pc"> \</span>
			      <span class="w">x</span><span class="pc">m</span><span class="c">od,</span> <span class="w">xp</span><span class="pc">i</span><span class="c">pe,</span> <span class="w">xi</span><span class="c">nstance,</span> <span class="w">xt</span><span class="c">ask,</span> <span class="w">xtype</span><span class="c">,</span> <span class="w">xg</span><span class="c">ain_val</span><span class="w">,</span><span class="pc"> </span><span class="c">\</span>
			      <span class="w">xmin</span><span class="c">,</span> <span class="w">xmax</span><span class="c">,</span> <span class="w">xp</span><span class="c">name</span><span class="pc">) </span><span class="c">\</span>
	<span class="w">.if</span><span class="pc">a</span><span class="c">ce</span> <span class="c">=</span> <span class="w">SNDRV_CTL_ELEM_IFACE_MIXER, </span><span class="pc">.</span><span class="c">name</span> <span class="c">=</span> <span class="w">xn</span><span class="c">ame</span><span class="w">,</span><span class="pc"> \</span>
	<span class="c">.</span><span class="w">inf</span><span class="c">o</span> <span class="c">=</span> <span class="w">sst_gain_ctl_info</span><span class="c">, \</span>
	<span class="c">.</span><span class="w">g</span><span class="pc">et</span> <span class="c">=</span> <span class="w">xh</span><span class="pc">andler_g</span><span class="c">et</span><span class="w">, </span><span class="pc">.</span><span class="w">put</span> <span class="c">=</span> <span class="w">xhandler_put,</span><span class="pc"> \</span>
	<span class="c">.</span><span class="w">pri</span><span class="pc">v</span><span class="c">ate_value</span> <span class="pc">= (</span><span class="w">u</span><span class="pc">ns</span><span class="c">igned</span> <span class="c">long</span><span class="w">)&amp;(s</span><span class="pc">tr</span><span class="c">uct</span> <span class="w">sst_gain_mixer_control) \</span>
	<span class="pc">{</span><span class="c"> .</span><span class="w">stereo</span> <span class="c">=</span> <span class="w">f</span><span class="c">alse</span><span class="pc">, </span><span class="c">.</span><span class="w">m</span><span class="c">ax</span> <span class="c">=</span> <span class="w">xmax</span><span class="pc">,</span><span class="c"> .</span><span class="w">m</span><span class="pc">i</span><span class="c">n</span> <span class="c">=</span> <span class="w">xmin</span><span class="pc">, </span><span class="c">.</span><span class="w">t</span><span class="pc">y</span><span class="c">pe</span> <span class="c">=</span> <span class="w">xtype,</span><span class="pc"> \</span>
	  <span class="c">.</span><span class="w">module_id</span> <span class="c">=</span> <span class="w">xmod</span><span class="pc">, </span><span class="c">.</span><span class="w">pipe_id</span> <span class="c">=</span> <span class="w">xpipe</span><span class="pc">, </span><span class="c">.</span><span class="w">task_id</span> <span class="c">=</span> <span class="w">xtask,\</span>
	  <span class="c">.</span><span class="w">instance_id</span> <span class="c">=</span> <span class="w">xinstance</span><span class="c">, .</span><span class="w">gain_val</span> <span class="c">=</span> <span class="w">xgain_val</span><span class="pc">, </span><span class="c">.</span><span class="w">pname</span> <span class="c">=</span>  <span class="w">xpname}</span>

<span class="c">#define</span> <span class="w">SST_GAIN_KCONTROL_BOOL</span><span class="c">(</span><span class="w">xname</span><span class="c">,</span> <span class="w">xhandler_get</span><span class="c">,</span> <span class="w">xhandler_put,\</span>
			       <span class="w">xm</span><span class="c">od,</span> <span class="w">xp</span><span class="pc">i</span><span class="c">pe</span><span class="pc">,</span> <span class="w">xi</span><span class="c">nstance,</span> <span class="w">xt</span><span class="c">ask,</span> <span class="w">x</span><span class="pc">g</span><span class="c">ain_val,</span> <span class="pc">xp</span><span class="c">name</span><span class="w">)</span><span class="c"> \</span>
	<span class="w">.if</span><span class="pc">a</span><span class="c">ce</span> <span class="c">=</span> <span class="w">SNDRV_CTL_ELEM_IFACE_MIXER</span><span class="pc">, </span><span class="c">.</span><span class="pc">n</span><span class="c">ame</span> <span class="c">=</span> <span class="c">xname</span><span class="w">, </span><span class="pc">\</span>
	<span class="c">.</span><span class="w">in</span><span class="pc">f</span><span class="c">o</span> <span class="c">=</span> <span class="w">snd_soc_info_bool_ext</span><span class="pc">, </span><span class="c">\</span>
	<span class="c">.</span><span class="w">g</span><span class="pc">et</span> <span class="c">=</span> <span class="pc">xh</span><span class="c">andler_get</span><span class="w">, </span><span class="pc">.</span><span class="w">put</span> <span class="c">=</span> <span class="w">xh</span><span class="pc">andler_p</span><span class="c">ut</span><span class="w">,</span><span class="pc"> \</span>
	<span class="c">.</span><span class="w">pri</span><span class="pc">va</span><span class="c">te_value</span> <span class="w">=</span><span class="pc"> (</span><span class="w">u</span><span class="pc">ns</span><span class="c">igned</span> <span class="c">long</span><span class="w">)&amp;(s</span><span class="pc">tr</span><span class="c">uct</span> <span class="w">sst_gain_mixer_control) \</span>
	<span class="pc">{</span><span class="c"> .</span><span class="w">stereo</span> <span class="c">=</span> <span class="w">f</span><span class="c">alse</span><span class="pc">, </span><span class="c">.</span><span class="w">t</span><span class="pc">y</span><span class="c">pe</span> <span class="c">=</span> <span class="w">SST_GAIN_MUTE, </span><span class="pc">\</span>
	  <span class="c">.</span><span class="w">module_id</span> <span class="c">=</span> <span class="w">xmod</span><span class="pc">, .</span><span class="w">pipe_id</span> <span class="c">=</span> <span class="w">xpipe</span><span class="pc">, </span><span class="c">.</span><span class="w">task_id</span> <span class="c">=</span> <span class="w">xtask,\</span>
	  <span class="c">.</span><span class="w">instance_id</span> <span class="c">=</span> <span class="w">xinstance</span><span class="pc">, </span><span class="c">.</span><span class="w">gain_val</span> <span class="c">=</span> <span class="w">xgain_val</span><span class="c">, .</span><span class="w">pname</span> <span class="c">=</span> <span class="w">xpname</span><span class="pc">}</span>
<span class="pc">#</span><span class="c">define</span> <span class="w">SST_CONTROL_NAME</span><span class="c">(xpname</span><span class="pc">,</span> <span class="w">xmname</span><span class="c">,</span> <span class="w">x</span><span class="pc">i</span><span class="c">nstance,</span> <span class="w">xtype</span><span class="pc">) </span><span class="c">\</span>
	<span class="w">x</span><span class="pc">p</span><span class="c">name</span> <span class="w">" "</span> <span class="w">x</span><span class="c">mname</span> <span class="w">" " #x</span><span class="pc">i</span><span class="c">nstance</span> <span class="w">"</span><span class="c"> "</span> <span class="w">x</span><span class="pc">t</span><span class="c">ype</span>

<span class="c">#define</span> <span class="w">SST_COMBO_CONTROL_NAME</span><span class="c">(</span><span class="w">x</span><span class="pc">p</span><span class="c">name,</span> <span class="pc">xm</span><span class="c">name,</span> <span class="pc">xi</span><span class="c">nstance</span><span class="pc">,</span> <span class="w">x</span><span class="pc">t</span><span class="c">ype,</span> <span class="w">xsubmodule</span><span class="pc">)</span><span class="c"> \</span>
	<span class="w">x</span><span class="pc">p</span><span class="c">name</span> <span class="c">" "</span> <span class="w">x</span><span class="pc">m</span><span class="c">name</span> <span class="c">" " #</span><span class="pc">x</span><span class="c">instance</span> <span class="pc">" "</span> <span class="c">xtype</span> <span class="w">"</span><span class="pc"> "</span> <span class="w">x</span><span class="pc">s</span><span class="c">ubmodule</span>


<span class="w">#</span><span class="c">define</span> <span class="w">SST_GAIN_KCONTROLS</span><span class="pc">(</span><span class="w">x</span><span class="pc">p</span><span class="c">name,</span> <span class="pc">xm</span><span class="c">name,</span> <span class="w">xmin_gain</span><span class="pc">,</span> <span class="w">xmax_gain</span><span class="c">,</span> <span class="w">xmin_tc</span><span class="pc">,</span> <span class="w">xmax_tc,</span><span class="pc"> </span><span class="c">\</span>
			   <span class="w">xhandler_get</span><span class="c">,</span> <span class="w">xhandler_put,</span><span class="pc"> </span><span class="c">\</span>
			   <span class="w">xmod</span><span class="c">,</span> <span class="w">xpipe</span><span class="c">,</span> <span class="w">x</span><span class="pc">i</span><span class="c">nstance,</span> <span class="w">xtask</span><span class="c">,</span> <span class="w">tlv_array</span><span class="c">,</span> <span class="w">xgain_val</span><span class="pc">)</span><span class="c"> \</span>
	<span class="pc">{</span> <span class="w">SST_GAIN_KCONTROL_INT</span><span class="pc">(</span><span class="w">SST_CONTROL_NAME</span><span class="pc">(</span><span class="w">xp</span><span class="c">name,</span> <span class="c">xmname,</span> <span class="w">xi</span><span class="c">nstance</span><span class="w">,</span><span class="pc"> "</span><span class="w">Ramp</span> <span class="w">Delay"), \</span>
		<span class="w">xh</span><span class="c">andler_get</span><span class="pc">,</span> <span class="w">x</span><span class="pc">h</span><span class="c">andler_put,</span> <span class="pc">xm</span><span class="c">od,</span> <span class="c">xpipe,</span> <span class="c">xinstance,</span> <span class="c">xtask,</span> <span class="w">SST_GAIN_RAMP_DURATION,</span><span class="pc"> </span><span class="c">\</span>
		<span class="c">xgain_val,</span> <span class="w">xmin_tc</span><span class="c">,</span> <span class="w">xmax_tc</span><span class="c">,</span> <span class="w">x</span><span class="pc">p</span><span class="c">name</span><span class="w">) }, \</span>
	<span class="w">{</span> <span class="w">SST_GAIN_KCONTROL_BOOL</span><span class="pc">(S</span><span class="c">ST_CONTROL_NAME</span><span class="pc">(</span><span class="c">xpname,</span> <span class="c">xmname,</span> <span class="c">xinstance</span><span class="w">, </span><span class="pc">"</span><span class="w">Sw</span><span class="c">itch</span><span class="w">"</span><span class="pc">), </span><span class="c">\</span>
		<span class="w">xh</span><span class="c">andler_get,</span> <span class="c">xhandler_put,</span> <span class="c">xmod,</span> <span class="c">xpipe,</span> <span class="c">xinstance,</span> <span class="c">xtask</span><span class="w">, </span><span class="pc">\</span>
		<span class="w">x</span><span class="pc">g</span><span class="c">ain_val,</span> <span class="pc">xp</span><span class="c">name</span><span class="w">) } ,\</span>
	<span class="w">{</span> <span class="w">SST_GAIN_KCONTROL_TLV</span><span class="pc">(S</span><span class="c">ST_CONTROL_NAME</span><span class="pc">(</span><span class="w">xp</span><span class="c">name,</span> <span class="c">xmname,</span> <span class="c">xinstance</span><span class="w">,</span><span class="pc"> "</span><span class="w">V</span><span class="c">olume"), \</span>
		<span class="c">xhandler_get</span><span class="pc">,</span> <span class="c">xhandler_put,</span> <span class="c">xmod,</span> <span class="c">xpipe,</span> <span class="c">xinstance,</span> <span class="c">xtask,</span> <span class="w">tlv_array, </span><span class="pc">\</span>
		<span class="pc">xg</span><span class="c">ain_val,</span> <span class="w">xmin_gain</span><span class="c">,</span> <span class="w">xmax_gain</span><span class="c">,</span> <span class="w">xp</span><span class="c">name</span><span class="w">) }</span>

<span class="w">#</span><span class="c">define</span> <span class="w">SST_GAIN_TC_MIN</span>		<span class="w">5</span>
<span class="c">#define</span> <span class="w">SST_GAIN_TC_MAX</span>		<span class="w">5000</span>
<span class="c">#define</span> <span class="w">SST_GAIN_MIN_VALUE</span>	<span class="w">-1440</span> 
<span class="pc">#</span><span class="c">define</span> <span class="w">SST_GAIN_MAX_VALUE</span>	<span class="w">360</span>

<span class="w">e</span><span class="c">num</span> <span class="w">sst_algo_kcontrol_type</span> <span class="c">{</span>
	<span class="w">SST_ALGO_PARAMS</span><span class="c">,</span>
	<span class="w">SST_ALGO_BYPASS</span><span class="c">,</span>
<span class="c">};</span>

<span class="pc">s</span><span class="c">truct</span> <span class="w">sst_algo_control</span> <span class="c">{</span>
	<span class="w">e</span><span class="c">num</span> <span class="pc">s</span><span class="c">st_algo_kcontrol_type</span> <span class="c">type;</span>
	<span class="w">i</span><span class="c">nt</span> <span class="w">ma</span><span class="pc">x</span><span class="c">;</span>
	<span class="w">u</span><span class="pc">1</span><span class="c">6</span> <span class="w">module_id</span><span class="c">;</span>
	<span class="pc">u1</span><span class="c">6</span> <span class="w">pipe_id</span><span class="c">;</span>
	<span class="c">u16</span> <span class="w">task_id</span><span class="c">;</span>
	<span class="c">u16</span> <span class="w">cmd_id</span><span class="c">;</span>
	<span class="w">b</span><span class="c">ool</span> <span class="w">bypass</span><span class="c">;</span>
	<span class="w">u</span><span class="pc">n</span><span class="c">signed</span> <span class="pc">c</span><span class="c">har</span> <span class="c">*</span><span class="w">pa</span><span class="pc">rams</span><span class="c">;</span>
	<span class="pc">s</span><span class="c">truct</span> <span class="w">snd_soc_dapm_widget</span> <span class="c">*</span><span class="w">w</span><span class="c">;</span>
<span class="c">};</span>


<span class="pc">#</span><span class="c">define</span> <span class="w">SST_ALGO_CTL_VALUE</span><span class="pc">(</span><span class="w">xcount</span><span class="pc">,</span> <span class="w">xtype</span><span class="c">,</span> <span class="w">xpipe</span><span class="c">,</span> <span class="w">xmod</span><span class="c">,</span> <span class="w">xtask</span><span class="c">,</span> <span class="w">xcmd)	</span><span class="pc">	</span><span class="c">	\</span>
	<span class="c">(</span><span class="pc">s</span><span class="c">truct</span> <span class="w">sst_algo_control){							\</span>
		<span class="w">.ma</span><span class="pc">x</span> <span class="c">=</span> <span class="pc">xc</span><span class="c">ount</span> <span class="w">+</span> <span class="pc">s</span><span class="c">izeof(</span><span class="w">u</span><span class="pc">1</span><span class="c">6</span><span class="w">), .t</span><span class="pc">y</span><span class="c">pe</span> <span class="pc">=</span> <span class="pc">xt</span><span class="c">ype</span><span class="w">, </span><span class="pc">.</span><span class="w">module_id</span> <span class="c">=</span> <span class="pc">xm</span><span class="c">od</span><span class="w">,	</span><span class="pc">		\</span>
		<span class="c">.</span><span class="w">pipe_id</span> <span class="c">=</span> <span class="pc">xp</span><span class="c">ipe</span><span class="w">, </span><span class="pc">.</span><span class="w">task_id</span> <span class="c">=</span> <span class="pc">x</span><span class="c">task</span><span class="pc">, </span><span class="c">.</span><span class="w">cmd_id</span> <span class="c">=</span> <span class="pc">xc</span><span class="c">md</span><span class="w">,	</span><span class="pc">		\</span>
	<span class="pc">}</span>

<span class="w">#</span><span class="c">define</span> <span class="w">SST_ALGO_KCONTROL</span><span class="c">(</span><span class="w">xname</span><span class="c">,</span> <span class="w">x</span><span class="pc">c</span><span class="c">ount,</span> <span class="w">xm</span><span class="c">od,</span> <span class="c">xpipe</span><span class="w">,					\</span>
			  <span class="w">x</span><span class="pc">ta</span><span class="c">sk,</span> <span class="w">xc</span><span class="pc">m</span><span class="c">d,</span> <span class="pc">xt</span><span class="c">ype,</span> <span class="w">xinfo</span><span class="c">,</span> <span class="w">xget</span><span class="c">,</span> <span class="w">xput)</span><span class="pc">	</span><span class="c">		\</span>
<span class="w">{	.if</span><span class="pc">a</span><span class="c">ce</span> <span class="c">=</span> <span class="w">SNDRV_CTL_ELEM_IFACE_MIXER,						\</span>
	<span class="c">.name</span> <span class="c">=</span>  <span class="c">xname</span><span class="w">,									\</span>
	<span class="pc">.</span><span class="w">inf</span><span class="c">o</span> <span class="c">=</span> <span class="pc">xi</span><span class="c">nfo</span><span class="w">, </span><span class="pc">.</span><span class="w">ge</span><span class="pc">t</span> <span class="c">=</span> <span class="c">xget</span><span class="pc">, </span><span class="c">.</span><span class="w">put</span> <span class="c">=</span> <span class="w">xp</span><span class="pc">u</span><span class="c">t</span><span class="w">,	</span><span class="pc">				\</span>
	<span class="c">.</span><span class="w">pri</span><span class="pc">vate_v</span><span class="c">alue</span> <span class="w">=</span><span class="pc"> (</span><span class="w">un</span><span class="pc">s</span><span class="c">igned</span> <span class="c">long</span><span class="w">)&amp;						\</span>
			<span class="w">SST_ALGO_CTL_VALUE</span><span class="c">(</span><span class="w">xcount</span><span class="c">,</span> <span class="w">xtype</span><span class="c">,</span> <span class="w">xpipe,		</span><span class="pc">	\</span>
					   <span class="w">xmod</span><span class="c">,</span> <span class="w">xtask</span><span class="c">,</span> <span class="w">xcmd),				\</span>
<span class="pc">}</span>

<span class="pc">#</span><span class="c">define</span> <span class="w">SST_ALGO_KCONTROL_BYTES</span><span class="c">(</span><span class="w">xpname</span><span class="c">,</span> <span class="w">xmname</span><span class="c">,</span> <span class="w">xc</span><span class="c">ount,</span> <span class="pc">xm</span><span class="c">od</span><span class="w">,	</span><span class="pc">			\</span>
				<span class="pc">xpi</span><span class="c">pe,</span> <span class="w">xinstance</span><span class="c">,</span> <span class="w">xt</span><span class="pc">a</span><span class="c">sk,</span> <span class="pc">xc</span><span class="c">md</span><span class="w">)	</span><span class="pc">			</span><span class="c">\</span>
	<span class="w">SST_ALGO_KCONTROL</span><span class="pc">(</span><span class="w">SST_CONTROL_NAME(x</span><span class="pc">p</span><span class="c">name,</span> <span class="c">xmname,</span> <span class="w">xi</span><span class="c">nstance</span><span class="w">, "par</span><span class="pc">ams</span><span class="w">"),	\</span>
			  <span class="w">x</span><span class="pc">co</span><span class="c">unt</span><span class="pc">,</span> <span class="pc">xm</span><span class="c">od,</span> <span class="c">xpipe,</span> <span class="pc">xt</span><span class="c">ask,</span> <span class="pc">xc</span><span class="c">md,</span> <span class="w">SST_ALGO_PARAMS,</span><span class="pc">		</span><span class="c">\</span>
			  <span class="w">sst_algo_bytes_ctl_info,					\</span>
			  <span class="w">sst_algo_control_get</span><span class="c">,</span> <span class="w">sst_algo_control_set)</span>

<span class="c">#define</span> <span class="w">SST_ALGO_KCONTROL_BOOL</span><span class="c">(</span><span class="pc">xp</span><span class="c">name,</span> <span class="c">xmname,</span> <span class="w">xm</span><span class="pc">o</span><span class="c">d,</span> <span class="pc">xp</span><span class="c">ipe,</span> <span class="w">xi</span><span class="c">nstance,</span> <span class="w">x</span><span class="pc">t</span><span class="c">ask</span><span class="w">)	</span><span class="pc">	\</span>
	<span class="w">SST_ALGO_KCONTROL</span><span class="c">(</span><span class="w">SST_CONTROL_NAME</span><span class="pc">(</span><span class="c">xpname,</span> <span class="c">xmname,</span> <span class="w">x</span><span class="pc">i</span><span class="c">nstance</span><span class="w">, "bypass"),	\</span>
			  <span class="w">0</span><span class="c">,</span> <span class="w">xm</span><span class="pc">o</span><span class="c">d</span><span class="pc">,</span> <span class="pc">xpi</span><span class="c">pe,</span> <span class="w">xt</span><span class="c">ask,</span> <span class="pc">0</span><span class="c">,</span> <span class="w">SST_ALGO_BYPASS,	</span><span class="pc">		\</span>
			  <span class="w">snd_soc_info_bool_ext,					\</span>
			  <span class="w">sst_algo_control_get</span><span class="c">,</span> <span class="w">sst_algo_control_set)</span>

<span class="c">#define</span> <span class="w">SST_ALGO_BYPASS_PARAMS</span><span class="c">(</span><span class="pc">xpn</span><span class="c">ame,</span> <span class="pc">xm</span><span class="c">name,</span> <span class="w">xcount</span><span class="c">,</span> <span class="pc">x</span><span class="c">mod,</span> <span class="c">xpipe</span><span class="w">,	</span><span class="pc">		\</span>
				<span class="w">xi</span><span class="c">nstance,</span> <span class="w">x</span><span class="pc">t</span><span class="c">ask,</span> <span class="w">xcmd)	</span><span class="pc">				</span><span class="c">\</span>
	<span class="w">SST_ALGO_KCONTROL_BOOL</span><span class="c">(xpname,</span> <span class="c">xmname,</span> <span class="w">xm</span><span class="pc">o</span><span class="c">d,</span> <span class="pc">xp</span><span class="c">ipe,</span> <span class="c">xinstance,</span> <span class="pc">xt</span><span class="c">ask</span><span class="w">),		\</span>
	<span class="w">SST_ALGO_KCONTROL_BYTES(</span><span class="c">xpname,</span> <span class="c">xmname,</span> <span class="c">xcount,</span> <span class="c">xmod,</span> <span class="c">xpipe,</span> <span class="c">xinstance,</span> <span class="c">xtask,</span> <span class="c">xcmd</span><span class="w">)</span>

<span class="pc">#</span><span class="c">define</span> <span class="w">SST_COMBO_ALGO_KCONTROL_BYTES</span><span class="c">(</span><span class="pc">xp</span><span class="c">name,</span> <span class="pc">xmn</span><span class="c">ame,</span> <span class="w">xsubmod</span><span class="c">,</span> <span class="w">xc</span><span class="pc">o</span><span class="c">unt,</span> <span class="w">xm</span><span class="c">od</span><span class="w">,</span><span class="pc">		</span><span class="c">\</span>
				      <span class="c">xpipe,</span> <span class="c">xinstance,</span> <span class="c">xtask,</span> <span class="c">xcmd</span><span class="pc">)	</span><span class="c">		\</span>
	<span class="w">SST_ALGO_KCONTROL</span><span class="c">(</span><span class="w">SST_COMBO_CONTROL_NAME(</span><span class="c">xpname,</span> <span class="c">xmname,</span> <span class="w">xi</span><span class="c">nstance</span><span class="w">, "par</span><span class="pc">ams</span><span class="w">",	\</span>
						 <span class="w">xs</span><span class="c">ubmod</span><span class="w">),				\</span>
			  <span class="c">xcount</span><span class="pc">,</span> <span class="pc">xm</span><span class="c">od,</span> <span class="c">xpipe,</span> <span class="w">xt</span><span class="c">ask,</span> <span class="pc">xc</span><span class="c">md,</span> <span class="w">SST_ALGO_PARAMS,</span><span class="pc">		</span><span class="c">\</span>
			  <span class="w">sst_algo_bytes_ctl_info,					\</span>
			  <span class="w">sst_algo_control_get</span><span class="c">,</span> <span class="w">sst_algo_control_set)</span>


<span class="pc">s</span><span class="c">truct</span> <span class="w">sst_enum</span> <span class="c">{</span>
	<span class="w">b</span><span class="pc">o</span><span class="c">ol</span> <span class="w">tx</span><span class="c">;</span>
	<span class="w">u</span><span class="pc">n</span><span class="c">signed</span> <span class="pc">s</span><span class="c">hort</span> <span class="w">r</span><span class="c">eg;</span>
	<span class="c">unsigned</span> <span class="pc">i</span><span class="c">nt</span> <span class="w">m</span><span class="pc">ax</span><span class="c">;</span>
	<span class="w">c</span><span class="c">onst</span> <span class="pc">c</span><span class="c">har</span> <span class="c">*</span> <span class="w">c</span><span class="c">onst</span> <span class="w">*texts</span><span class="c">;</span>
	<span class="pc">s</span><span class="c">truct</span> <span class="w">snd_soc_dapm_widget</span> <span class="c">*</span><span class="w">w</span><span class="c">;</span>
<span class="pc">}</span><span class="c">;</span>


<span class="pc">#</span><span class="c">define</span> <span class="w">SST_SSP_SLOT_ENUM</span><span class="pc">(</span><span class="w">s_ch_no</span><span class="pc">,</span> <span class="w">is_tx</span><span class="c">,</span> <span class="w">xtexts</span><span class="pc">)</span><span class="c"> \</span>
	<span class="pc">(st</span><span class="c">ruct</span> <span class="c">sst_enum</span><span class="w">){ .reg</span> <span class="pc">=</span> <span class="pc">s</span><span class="c">_ch_no</span><span class="w">, </span><span class="pc">.</span><span class="w">tx</span> <span class="c">=</span> <span class="c">is_tx</span><span class="pc">,</span><span class="c"> .</span><span class="w">m</span><span class="pc">ax</span> <span class="c">=</span> <span class="w">4+</span><span class="c">1</span><span class="w">,</span><span class="pc"> </span><span class="c">.</span><span class="w">te</span><span class="pc">x</span><span class="c">ts</span> <span class="c">=</span> <span class="w">x</span><span class="c">texts</span><span class="w">, }</span>

<span class="w">#</span><span class="c">define</span> <span class="w">SST_SLOT_CTL_NAME</span><span class="c">(</span><span class="w">xpname</span><span class="c">,</span> <span class="w">xmname</span><span class="c">,</span> <span class="w">s_ch_name</span><span class="pc">)</span><span class="c"> \</span>
	<span class="w">x</span><span class="c">pname</span> <span class="w">" "</span> <span class="w">x</span><span class="pc">m</span><span class="c">name</span> <span class="w">"</span><span class="pc"> </span><span class="c">"</span> <span class="pc">s</span><span class="c">_ch_name</span>

<span class="c">#define</span> <span class="w">SST_SSP_SLOT_CTL</span><span class="c">(</span><span class="pc">xp</span><span class="c">name</span><span class="pc">,</span> <span class="c">xmname,</span> <span class="pc">s</span><span class="c">_ch_name,</span> <span class="w">s_ch_no</span><span class="c">,</span> <span class="w">i</span><span class="c">s_tx</span><span class="pc">,</span> <span class="w">x</span><span class="pc">t</span><span class="c">exts</span><span class="pc">,</span> <span class="w">xget</span><span class="c">,</span> <span class="w">xput</span><span class="pc">)</span><span class="c"> \</span>
<span class="w">{	.if</span><span class="pc">a</span><span class="c">ce</span> <span class="c">=</span> <span class="w">SNDRV_CTL_ELEM_IFACE_MIXER</span><span class="pc">, </span><span class="c">\</span>
	<span class="c">.</span><span class="w">n</span><span class="c">ame</span> <span class="c">=</span> <span class="w">SST_SLOT_CTL_NAME(x</span><span class="pc">p</span><span class="c">name,</span> <span class="c">xmname,</span> <span class="c">s_ch_name</span><span class="w">),</span><span class="pc"> </span><span class="c">\</span>
	<span class="pc">.</span><span class="w">in</span><span class="pc">f</span><span class="c">o</span> <span class="c">=</span> <span class="w">sst_slot_enum_info</span><span class="pc">, </span><span class="c">\</span>
	<span class="c">.</span><span class="w">g</span><span class="c">et</span> <span class="c">=</span> <span class="w">x</span><span class="pc">g</span><span class="c">et</span><span class="w">, </span><span class="pc">.</span><span class="w">put</span> <span class="c">=</span> <span class="pc">xp</span><span class="c">ut</span><span class="w">, </span><span class="pc">\</span>
	<span class="c">.</span><span class="w">pri</span><span class="pc">va</span><span class="c">te_value</span> <span class="pc">= (</span><span class="w">u</span><span class="pc">ns</span><span class="c">igned</span> <span class="c">long</span><span class="w">)</span><span class="pc">&amp;</span><span class="w">SST_SSP_SLOT_ENUM</span><span class="pc">(</span><span class="w">s_ch_no</span><span class="c">,</span> <span class="w">is_tx</span><span class="c">,</span> <span class="w">xtexts),</span><span class="pc"> </span><span class="c">\</span>
<span class="w">}</span>

<span class="c">#define</span> <span class="w">SST_MUX_CTL_NAME</span><span class="c">(</span><span class="w">x</span><span class="pc">p</span><span class="c">name,</span> <span class="w">xinstance</span><span class="pc">)</span><span class="c"> \</span>
	<span class="pc">x</span><span class="c">pname</span> <span class="w">" " #x</span><span class="pc">i</span><span class="c">nstance</span>

<span class="pc">#</span><span class="c">define</span> <span class="w">SST_SSP_MUX_ENUM</span><span class="c">(</span><span class="w">xreg</span><span class="pc">,</span> <span class="w">xshift</span><span class="pc">,</span> <span class="w">xt</span><span class="c">exts) \</span>
	<span class="c">(</span><span class="w">s</span><span class="pc">t</span><span class="c">ruct</span> <span class="w">soc_enum</span><span class="pc">)</span> <span class="w">SOC_ENUM_DOUBLE</span><span class="c">(</span><span class="w">x</span><span class="pc">r</span><span class="c">eg,</span> <span class="c">xshift,</span> <span class="w">x</span><span class="pc">s</span><span class="c">hift</span><span class="pc">,</span> <span class="w">A</span><span class="c">RRAY_SIZE(</span><span class="pc">xt</span><span class="c">exts</span><span class="w">),</span> <span class="w">x</span><span class="pc">t</span><span class="c">exts</span><span class="w">)</span>

<span class="c">#define</span> <span class="w">SST_SSP_MUX_CTL</span><span class="c">(</span><span class="w">x</span><span class="pc">p</span><span class="c">name,</span> <span class="pc">xi</span><span class="c">nstance,</span> <span class="c">xreg,</span> <span class="c">xshift,</span> <span class="c">xtexts</span><span class="pc">) </span><span class="c">\</span>
	<span class="w">SOC_DAPM_ENUM</span><span class="c">(</span><span class="w">SST_MUX_CTL_NAME</span><span class="pc">(</span><span class="w">x</span><span class="pc">p</span><span class="c">name,</span> <span class="pc">xi</span><span class="c">nstance</span><span class="w">),</span><span class="pc"> </span><span class="c">\</span>
			  <span class="w">SST_SSP_MUX_ENUM</span><span class="c">(</span><span class="pc">xr</span><span class="c">eg,</span> <span class="pc">xs</span><span class="c">hift,</span> <span class="pc">xt</span><span class="c">exts</span><span class="w">)</span><span class="pc">)</span>

<span class="w">i</span><span class="c">nt</span> <span class="w">sst_fill_ssp_slot</span><span class="c">(struct</span> <span class="w">snd_soc_dai</span> <span class="c">*</span><span class="w">da</span><span class="pc">i</span><span class="c">,</span> <span class="pc">u</span><span class="c">nsigned</span> <span class="pc">i</span><span class="c">nt</span> <span class="w">tx_mask</span><span class="c">,</span>
				<span class="c">unsigned</span> <span class="c">int</span> <span class="w">rx_mask</span><span class="c">,</span> <span class="pc">i</span><span class="c">nt</span> <span class="w">sl</span><span class="pc">ots</span><span class="c">,</span> <span class="c">int</span> <span class="w">slot_width</span><span class="pc">)</span><span class="c">;</span>
<span class="c">int</span> <span class="w">sst_fill_ssp_config</span><span class="c">(struct</span> <span class="c">snd_soc_dai</span> <span class="c">*</span><span class="w">da</span><span class="pc">i</span><span class="c">,</span> <span class="c">unsigned</span> <span class="c">int</span> <span class="w">fm</span><span class="c">t</span><span class="pc">)</span><span class="c">;</span>
<span class="pc">v</span><span class="c">oid</span> <span class="w">sst_fill_ssp_defaults</span><span class="c">(struct</span> <span class="c">snd_soc_dai</span> <span class="c">*</span><span class="w">da</span><span class="pc">i)</span><span class="c">;</span>

<span class="pc">#en</span><span class="c">dif</span>

</pre>
</body>
</html>

