<!DOCTYPE html>
<html>
<head>
<style>
span.c {
    background-color: #CCFFCC;
}
span.pc {
    background-color: #FFEEBB;
}
span.w {
    background-color: #FFCCCC;
}
</style>
</head>
<body>
<pre>




<span class="w">#ifndef</span> <span class="w">__LEGION_LOGGING_H__</span>
<span class="w">#define</span> <span class="w">__LEGION_LOGGING_H__</span>

<span class="w">#ifdef</span> <span class="w">LEGION_LOGGING</span>

<span class="w">#include</span> <span class="w">"lowlevel.h"</span>
<span class="w">#include</span> <span class="w">"utilities.h"</span>
<span class="w">#include</span> <span class="w">"legion_types.h"</span>
<span class="w">#include</span> <span class="w">"legion_utilities.h"</span>

<span class="w">#include</span> <span class="w">&lt;cassert</span><span class="pc">&gt;</span>
<span class="c">#include</span> <span class="c">&lt;</span><span class="pc">d</span><span class="c">eque&gt;</span>
<span class="pc">#</span><span class="c">include</span> <span class="c">&lt;</span><span class="w">sstream</span><span class="c">&gt;</span>
<span class="pc">#</span><span class="c">include</span> <span class="c">&lt;</span><span class="w">string</span><span class="c">&gt;</span>
<span class="c">#include</span> <span class="c">&lt;</span><span class="w">iostream</span><span class="pc">&gt;</span>

<span class="c">#</span><span class="pc">d</span><span class="c">efine</span> <span class="w">LEGION_LOGGING_CHECK_NO_EVENT</span>

<span class="w">n</span><span class="c">amespace</span> <span class="pc">L</span><span class="c">egionRuntime</span> <span class="pc">{</span>

  
  
  
  <span class="w">e</span><span class="c">num</span> <span class="w">TimingKind</span> <span class="c">{</span>
    
    <span class="w">BEGIN_DEPENDENCE_ANALYSIS</span> <span class="pc">=</span> <span class="c">0</span><span class="pc">,</span>
    <span class="w">END_DEPENDENCE_ANALYSIS</span> <span class="c">=</span> <span class="pc">1,</span>
    <span class="w">BEGIN_PRE_MAPPING</span> <span class="c">=</span> <span class="pc">2</span><span class="c">,</span>
    <span class="w">END_PRE_MAPPING</span> <span class="c">=</span> <span class="c">3,</span>
    <span class="w">BEGIN_MAPPING</span> <span class="c">=</span> <span class="pc">4</span><span class="c">,</span>
    <span class="w">END_MAPPING</span> <span class="c">=</span> <span class="w">5</span><span class="c">,</span>
    <span class="w">BEGIN_SLICING</span> <span class="pc">=</span> <span class="w">6</span><span class="c">,</span>
    <span class="w">END_SLICING</span> <span class="c">=</span> <span class="w">7</span><span class="c">,</span>
    <span class="w">BEGIN_EXECUTION</span> <span class="c">=</span> <span class="w">8</span><span class="c">,</span>
    <span class="w">END_EXECUTION</span> <span class="c">=</span> <span class="w">9</span><span class="c">,</span>
    <span class="w">LAUNCH_TASK</span> <span class="c">=</span> <span class="w">10</span><span class="c">,</span>
    <span class="w">RESOLVE_SPECULATION</span> <span class="c">=</span> <span class="w">11</span><span class="c">,</span>
    <span class="w">COMPLETE_OPERATION</span> <span class="c">=</span> <span class="w">12</span><span class="c">,</span>
    <span class="w">COMMIT_OPERATION</span> <span class="c">=</span> <span class="w">13</span><span class="c">,</span>
    <span class="w">BEGIN_WINDOW_WAIT</span> <span class="c">=</span> <span class="w">14</span><span class="c">,</span>
    <span class="w">END_WINDOW_WAIT</span> <span class="c">=</span> <span class="w">15</span><span class="c">,</span>
    <span class="w">BEGIN_SCHEDULING</span> <span class="c">=</span> <span class="w">16</span><span class="c">,</span>
    <span class="w">END_SCHEDULING</span> <span class="c">=</span> <span class="w">17</span><span class="c">,</span>
    
    <span class="w">COPY_INIT</span> <span class="c">=</span> <span class="w">18</span><span class="c">,</span>
    <span class="w">COPY_READY</span> <span class="c">=</span> <span class="w">19</span><span class="c">,</span>
    <span class="w">COPY_BEGIN</span> <span class="c">=</span> <span class="w">20</span><span class="c">,</span>
    <span class="w">COPY_END</span> <span class="c">=</span> <span class="w">21</span><span class="c">,</span>
    
    <span class="w">BEGIN_GC</span> <span class="c">=</span> <span class="w">22</span><span class="c">,</span>
    <span class="w">END_GC</span> <span class="c">=</span> <span class="w">23</span><span class="c">,</span>
    <span class="w">BEGIN_POST_EXEC</span> <span class="c">=</span> <span class="w">24</span><span class="c">,</span>
    <span class="w">END_POST_EXEC</span> <span class="c">=</span> <span class="w">25</span><span class="c">,</span>
  <span class="w">}</span><span class="c">;</span>
  
  <span class="w">n</span><span class="c">amespace</span> <span class="w">HighLevel</span> <span class="pc">{</span> 

    
    <span class="w">n</span><span class="pc">a</span><span class="c">mespace</span> <span class="w">L</span><span class="pc">egionL</span><span class="c">ogging</span> <span class="pc">{</span>

      
      
      

      <span class="w">s</span><span class="pc">t</span><span class="c">ruct</span> <span class="w">LogMsgProcessor</span> <span class="pc">{</span>
      <span class="pc">p</span><span class="c">ublic:</span>
        <span class="pc">L</span><span class="c">ogMsgProcessor</span><span class="pc">(</span><span class="w">A</span><span class="c">ddressSpaceID</span> <span class="w">address_space</span><span class="c">,</span> <span class="w">P</span><span class="c">rocessor</span> <span class="w">p) :</span>
            <span class="w">a</span><span class="pc">d</span><span class="c">dress_space</span><span class="w">(a</span><span class="c">ddress_space</span><span class="pc">),</span> <span class="w">pr</span><span class="pc">o</span><span class="c">c</span><span class="pc">(</span><span class="w">p</span><span class="c">)</span>
        <span class="c">{</span>
        <span class="pc">}</span>
      <span class="w">p</span><span class="c">ublic:</span>
        <span class="w">A</span><span class="pc">d</span><span class="c">dressSpaceID</span> <span class="w">a</span><span class="c">ddress_space</span><span class="pc">;</span>
        <span class="w">P</span><span class="c">rocessor</span> <span class="pc">pr</span><span class="c">oc;</span>
      <span class="w">}</span><span class="c">;</span>

      <span class="pc">s</span><span class="c">truct</span> <span class="w">LogMsgMemory</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="c">LogMsgMemory(</span><span class="w">M</span><span class="pc">e</span><span class="c">mory</span> <span class="w">m</span><span class="pc">e</span><span class="c">m,</span> <span class="pc">M</span><span class="c">emory</span><span class="w">:</span><span class="c">:</span><span class="pc">K</span><span class="c">ind</span> <span class="c">kind</span><span class="w">,</span> <span class="pc">s</span><span class="c">ize_t</span> <span class="w">capacity) </span><span class="pc">:</span>
            <span class="w">m</span><span class="pc">e</span><span class="c">m</span><span class="w">(m</span><span class="c">em</span><span class="pc">),</span> <span class="w">k</span><span class="c">ind(</span><span class="w">k</span><span class="c">ind</span><span class="pc">),</span> <span class="w">c</span><span class="c">apacity(</span><span class="w">c</span><span class="pc">a</span><span class="c">pacity</span><span class="pc">)</span>
        <span class="c">{</span>
        <span class="pc">}</span>
      <span class="w">pu</span><span class="c">blic:</span>
        <span class="w">M</span><span class="c">emory</span> <span class="w">m</span><span class="pc">em</span><span class="c">;</span>
        <span class="pc">M</span><span class="c">emory::</span><span class="pc">K</span><span class="c">ind</span> <span class="pc">k</span><span class="c">ind;</span>
        <span class="pc">si</span><span class="c">ze_t</span> <span class="w">c</span><span class="pc">a</span><span class="c">pacity;</span>
      <span class="pc">}</span><span class="c">;</span>

      <span class="pc">str</span><span class="c">uct</span> <span class="w">LogMsgProcMemAffinity</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="c">LogMsgProcMemAffinity(</span><span class="pc">P</span><span class="c">rocessor</span> <span class="w">p</span><span class="pc">r</span><span class="c">oc,</span> <span class="pc">M</span><span class="c">emory</span> <span class="w">m</span><span class="pc">em</span><span class="c">,</span> <span class="pc">s</span><span class="c">ize_t</span> <span class="w">bandwidth</span><span class="c">,</span>
                              <span class="pc">si</span><span class="c">ze_t</span> <span class="w">latency) :</span>
            <span class="w">pr</span><span class="pc">oc(</span><span class="w">p</span><span class="pc">r</span><span class="c">oc</span><span class="pc">),</span> <span class="w">m</span><span class="c">em</span><span class="w">(m</span><span class="pc">e</span><span class="c">m</span><span class="pc">)</span><span class="c">,</span> <span class="pc">b</span><span class="c">andwidth(</span><span class="w">b</span><span class="c">andwidth),</span> <span class="w">l</span><span class="c">atency(</span><span class="w">l</span><span class="pc">a</span><span class="c">tency</span><span class="pc">)</span>
        <span class="pc">{</span>
        <span class="w">}</span>
      <span class="w">pu</span><span class="c">blic:</span>
        <span class="w">P</span><span class="c">rocessor</span> <span class="w">p</span><span class="pc">r</span><span class="c">oc;</span>
        <span class="w">M</span><span class="c">emory</span> <span class="w">m</span><span class="pc">em</span><span class="c">;</span>
        <span class="c">size_t</span> <span class="w">b</span><span class="pc">a</span><span class="c">ndwidth;</span>
        <span class="c">size_t</span> <span class="w">l</span><span class="c">atency;</span>
      <span class="c">};</span>

      <span class="c">struct</span> <span class="w">LogMsgMemMemAffinity</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="c">LogMsgMemMemAffinity(</span><span class="w">M</span><span class="pc">emory</span> <span class="w">mem1</span><span class="c">,</span> <span class="pc">M</span><span class="c">emory</span> <span class="w">mem2</span><span class="c">,</span> <span class="pc">s</span><span class="c">ize_t</span> <span class="w">b</span><span class="pc">a</span><span class="c">ndwidth,</span>
                             <span class="c">size_t</span> <span class="w">l</span><span class="c">atency</span><span class="w">) :</span>
            <span class="w">m</span><span class="pc">em1</span><span class="c">(</span><span class="pc">m</span><span class="c">em1</span><span class="pc">),</span> <span class="pc">m</span><span class="c">em2(</span><span class="w">m</span><span class="pc">em2</span><span class="c">),</span> <span class="w">b</span><span class="c">andwidth(</span><span class="w">b</span><span class="c">andwidth),</span> <span class="pc">l</span><span class="c">atency(</span><span class="w">l</span><span class="c">atency</span><span class="pc">)</span>
        <span class="pc">{</span>
        <span class="pc">}</span>
      <span class="w">p</span><span class="pc">u</span><span class="c">blic:</span>
        <span class="w">M</span><span class="c">emory</span> <span class="w">m</span><span class="c">em1;</span>
        <span class="w">M</span><span class="c">emory</span> <span class="w">me</span><span class="pc">m2</span><span class="c">;</span>
        <span class="pc">s</span><span class="c">ize_t</span> <span class="pc">b</span><span class="c">andwidth;</span>
        <span class="c">size_t</span> <span class="w">l</span><span class="c">atency;</span>
      <span class="c">};</span>

      <span class="w">e</span><span class="c">num</span> <span class="w">LogMsgOperationKind</span> <span class="c">{</span>
        <span class="w">MAPPING_OPERATION</span> <span class="pc">=</span> <span class="c">0</span><span class="pc">,</span>
        <span class="w">COPY_OPERATION</span> <span class="pc">=</span> <span class="w">1</span><span class="pc">,</span>
        <span class="w">FENCE_OPERATION</span> <span class="pc">=</span> <span class="pc">2,</span>
        <span class="w">DELETION_OPERATION</span> <span class="pc">=</span> <span class="pc">3,</span>
        <span class="w">CLOSE_OPERATION</span> <span class="c">=</span> <span class="pc">4</span><span class="c">,</span>
      <span class="c">};</span>

      <span class="pc">s</span><span class="c">truct</span> <span class="w">LogMsgOperation</span> <span class="c">{</span>
      <span class="pc">p</span><span class="c">ublic:</span>
        <span class="pc">L</span><span class="c">ogMsgOperation(</span><span class="w">P</span><span class="c">rocessor</span> <span class="w">p</span><span class="pc">r</span><span class="c">oc,</span> <span class="w">Lo</span><span class="pc">gMsgOperationK</span><span class="c">ind</span> <span class="w">k</span><span class="pc">,</span> <span class="w">U</span><span class="pc">n</span><span class="c">iqueID</span> <span class="w">i</span><span class="pc">d</span><span class="c">,</span> <span class="w">U</span><span class="c">niqueID</span> <span class="w">con</span><span class="pc">t</span><span class="c">ext,</span> <span class="w">u</span><span class="c">nsigned</span> <span class="w">l</span><span class="c">ong</span> <span class="w">l</span><span class="c">ong</span> <span class="w">time) :</span>
            <span class="w">pro</span><span class="pc">c</span><span class="w">(p</span><span class="c">roc</span><span class="pc">),</span> <span class="w">k</span><span class="pc">i</span><span class="c">nd(</span><span class="w">k</span><span class="c">),</span> <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id(</span><span class="w">i</span><span class="c">d),</span> <span class="w">c</span><span class="pc">o</span><span class="c">ntext(</span><span class="w">c</span><span class="pc">o</span><span class="c">ntext),</span> <span class="w">t</span><span class="pc">im</span><span class="c">e(</span><span class="w">t</span><span class="c">ime)</span>
        <span class="c">{</span>
        <span class="c">}</span>
      <span class="w">p</span><span class="c">ublic:</span>
        <span class="w">P</span><span class="c">rocessor</span> <span class="w">p</span><span class="pc">r</span><span class="c">oc;</span>
        <span class="w">LogMsgOperationKind</span> <span class="w">k</span><span class="pc">i</span><span class="c">nd</span><span class="pc">;</span>
        <span class="w">U</span><span class="c">niqueID</span> <span class="w">u</span><span class="pc">n</span><span class="c">ique_op_id;</span>
        <span class="w">U</span><span class="c">niqueID</span> <span class="w">c</span><span class="pc">ont</span><span class="c">ext;</span>
        <span class="pc">u</span><span class="c">nsigned</span> <span class="c">long</span> <span class="c">long</span> <span class="pc">t</span><span class="c">ime</span><span class="pc">;</span>
      <span class="c">};</span>

      <span class="pc">str</span><span class="c">uct</span> <span class="w">LogMsgTaskOperation</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="pc">L</span><span class="c">ogMsgTaskOperation(</span><span class="pc">P</span><span class="c">rocessor</span> <span class="w">p</span><span class="pc">r</span><span class="c">oc,</span> <span class="w">b</span><span class="c">ool</span> <span class="w">i</span><span class="c">,</span> <span class="w">U</span><span class="pc">n</span><span class="c">iqueID</span> <span class="w">i</span><span class="pc">d</span><span class="c">,</span> <span class="pc">P</span><span class="c">rocessor::TaskFuncID</span> <span class="w">t</span><span class="pc">id</span><span class="c">,</span> <span class="w">U</span><span class="c">niqueID</span> <span class="w">c</span><span class="pc">ont</span><span class="c">ext,</span> <span class="pc">u</span><span class="c">nsigned</span> <span class="w">l</span><span class="c">ong</span> <span class="w">l</span><span class="c">ong</span> <span class="w">t</span><span class="pc">i</span><span class="c">me</span><span class="pc">,</span> <span class="w">M</span><span class="pc">a</span><span class="c">ppingTagID</span> <span class="w">t</span><span class="pc">ag</span><span class="w">) :</span>
            <span class="w">p</span><span class="pc">roc</span><span class="w">(p</span><span class="pc">r</span><span class="c">oc</span><span class="pc">)</span><span class="c">,</span> <span class="w">isIndividual</span><span class="c">(</span><span class="w">i</span><span class="c">),</span> <span class="w">u</span><span class="c">nique_op_id(</span><span class="w">i</span><span class="pc">d</span><span class="c">),</span> <span class="w">t</span><span class="pc">a</span><span class="c">sk_id(</span><span class="w">t</span><span class="pc">id</span><span class="c">),</span> <span class="w">co</span><span class="pc">n</span><span class="c">text(</span><span class="w">c</span><span class="pc">ont</span><span class="c">ext),</span> <span class="c">time(</span><span class="w">t</span><span class="c">ime),</span> <span class="w">t</span><span class="pc">ag</span><span class="c">(</span><span class="w">ta</span><span class="pc">g)</span>
        <span class="c">{</span>
        <span class="c">}</span>
      <span class="w">p</span><span class="pc">u</span><span class="c">blic:</span>
        <span class="w">P</span><span class="pc">r</span><span class="c">ocessor</span> <span class="w">p</span><span class="pc">r</span><span class="c">oc</span><span class="pc">;</span>
        <span class="pc">b</span><span class="c">ool</span> <span class="w">is</span><span class="pc">I</span><span class="c">ndividual</span><span class="pc">;</span>
        <span class="w">U</span><span class="c">niqueID</span> <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id;</span>
        <span class="pc">P</span><span class="c">rocessor</span><span class="pc">:</span><span class="c">:</span><span class="pc">T</span><span class="c">askFuncID</span> <span class="c">task_id;</span>
        <span class="w">U</span><span class="pc">n</span><span class="c">iqueID</span> <span class="w">c</span><span class="pc">ont</span><span class="c">ext;</span>
        <span class="w">u</span><span class="c">nsigned</span> <span class="pc">l</span><span class="c">ong</span> <span class="c">long</span> <span class="w">ti</span><span class="pc">m</span><span class="c">e</span><span class="pc">;</span>
        <span class="w">Ma</span><span class="pc">ppi</span><span class="c">ngTagID</span> <span class="w">t</span><span class="pc">ag</span><span class="c">;</span>
      <span class="pc">}</span><span class="c">;</span>

      <span class="pc">s</span><span class="c">truct</span> <span class="w">LogMsgTaskInstanceVariant</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="c">LogMsgTaskInstanceVariant(</span><span class="w">U</span><span class="pc">n</span><span class="c">iqueID</span> <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id,</span> <span class="w">VariantID</span> <span class="w">vid) :</span>
            <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id</span><span class="w">(u</span><span class="pc">ni</span><span class="c">que_op_id</span><span class="w">)</span><span class="pc">,</span> <span class="w">v</span><span class="pc">i</span><span class="c">d(</span><span class="pc">v</span><span class="c">id</span><span class="pc">)</span>
        <span class="c">{</span>
        <span class="pc">}</span>
      <span class="w">p</span><span class="pc">u</span><span class="c">blic:</span>
        <span class="w">U</span><span class="c">niqueID</span> <span class="w">u</span><span class="pc">n</span><span class="c">ique_op_id</span><span class="pc">;</span>
        <span class="w">V</span><span class="c">ariantID</span> <span class="w">v</span><span class="c">id</span><span class="pc">;</span>
      <span class="pc">}</span><span class="c">;</span>

      <span class="pc">s</span><span class="c">truct</span> <span class="w">LogMsgTaskCollection</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="c">LogMsgTaskCollection(</span><span class="pc">P</span><span class="c">rocessor::</span><span class="pc">T</span><span class="c">askFuncID</span> <span class="c">task_id,</span> <span class="w">b</span><span class="c">ool</span> <span class="w">le</span><span class="c">af</span><span class="pc">,</span>
                             <span class="c">bool</span> <span class="w">idempotent</span><span class="c">,</span> <span class="c">const</span> <span class="c">char</span> <span class="c">*name</span><span class="w">) :</span>
            <span class="w">ta</span><span class="pc">sk_</span><span class="c">id</span><span class="pc">(</span><span class="w">t</span><span class="pc">ask_</span><span class="c">id</span><span class="pc">),</span> <span class="w">le</span><span class="pc">a</span><span class="c">f</span><span class="pc">(</span><span class="w">le</span><span class="pc">a</span><span class="c">f),</span> <span class="w">i</span><span class="c">dempotent(idempotent),</span> <span class="w">n</span><span class="pc">a</span><span class="c">me(</span><span class="w">n</span><span class="c">ame</span><span class="pc">)</span>
        <span class="c">{</span>
        <span class="c">}</span>
      <span class="w">p</span><span class="pc">u</span><span class="c">blic:</span>
        <span class="pc">P</span><span class="c">rocessor::</span><span class="pc">T</span><span class="c">askFuncID</span> <span class="c">task_id</span><span class="pc">;</span>
        <span class="w">b</span><span class="c">ool</span> <span class="w">le</span><span class="pc">a</span><span class="c">f</span><span class="pc">;</span>
        <span class="c">bool</span> <span class="pc">i</span><span class="c">dempotent;</span>
        <span class="pc">c</span><span class="c">onst</span> <span class="c">char</span> <span class="c">*</span><span class="w">n</span><span class="c">ame;</span>
      <span class="w">}</span><span class="c">;</span>

      <span class="pc">s</span><span class="c">truct</span> <span class="w">LogMsgTaskVariant</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="c">LogMsgTaskVariant(</span><span class="pc">P</span><span class="c">rocessor::TaskFuncID</span> <span class="c">task_id</span><span class="pc">,</span>
                          <span class="pc">P</span><span class="c">rocessor::</span><span class="pc">K</span><span class="c">ind</span> <span class="w">proc_kind</span><span class="pc">,</span> <span class="pc">b</span><span class="c">ool</span> <span class="w">single_task</span><span class="c">,</span>
                          <span class="c">bool</span> <span class="w">index_task</span><span class="c">,</span> <span class="w">VariantID</span> <span class="w">vid) :</span>
            <span class="w">t</span><span class="pc">a</span><span class="c">sk_id</span><span class="w">(t</span><span class="pc">as</span><span class="c">k_id</span><span class="pc">),</span> <span class="w">p</span><span class="c">roc_kind</span><span class="pc">(</span><span class="w">p</span><span class="pc">r</span><span class="c">oc_kind),</span> <span class="pc">s</span><span class="c">ingle_task(</span><span class="w">s</span><span class="c">ingle_task),</span> <span class="c">index_task(</span>
                <span class="w">i</span><span class="c">ndex_task),</span> <span class="w">v</span><span class="pc">i</span><span class="c">d(</span><span class="w">v</span><span class="c">id</span><span class="pc">)</span>
        <span class="c">{</span>
        <span class="c">}</span>
      <span class="w">p</span><span class="pc">u</span><span class="c">blic:</span>
        <span class="w">P</span><span class="c">rocessor</span><span class="pc">:</span><span class="c">:</span><span class="pc">T</span><span class="c">askFuncID</span> <span class="c">task_id</span><span class="pc">;</span>
        <span class="pc">P</span><span class="c">rocessor::</span><span class="pc">K</span><span class="c">ind</span> <span class="pc">p</span><span class="c">roc_kind;</span>
        <span class="pc">b</span><span class="c">ool</span> <span class="w">s</span><span class="pc">in</span><span class="c">gle_task;</span>
        <span class="c">bool</span> <span class="c">index_task;</span>
        <span class="w">VariantID</span> <span class="w">v</span><span class="c">id;</span>
      <span class="c">};</span>

      <span class="w">s</span><span class="c">truct</span> <span class="w">LogMsgTopLevelTask</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="c">LogMsgTopLevelTask(</span><span class="pc">P</span><span class="c">rocessor::TaskFuncID</span> <span class="c">task_id</span><span class="pc">,</span> <span class="w">U</span><span class="c">niqueID</span> <span class="w">u</span><span class="pc">n</span><span class="c">ique_op_id</span><span class="w">) :</span>
            <span class="w">t</span><span class="pc">ask_</span><span class="c">id</span><span class="w">(t</span><span class="pc">ask_</span><span class="c">id</span><span class="pc">),</span> <span class="w">u</span><span class="c">nique_op_id(</span><span class="w">u</span><span class="c">nique_op_id</span><span class="pc">)</span>
        <span class="c">{</span>
        <span class="pc">}</span>
      <span class="w">p</span><span class="c">ublic:</span>
        <span class="w">P</span><span class="c">rocessor::TaskFuncID</span> <span class="c">task_id;</span>
        <span class="w">U</span><span class="c">niqueID</span> <span class="w">u</span><span class="c">nique_op_id;</span>
      <span class="w">}</span><span class="c">;</span>

      <span class="c">struct</span> <span class="w">LogMsgIndexSlice</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="c">LogMsgIndexSlice(</span><span class="w">U</span><span class="c">niqueID</span> <span class="w">index_id</span><span class="c">,</span> <span class="w">U</span><span class="c">niqueID</span> <span class="w">slice_id) :</span>
            <span class="w">i</span><span class="c">ndex_id</span><span class="pc">(</span><span class="w">i</span><span class="c">ndex_id</span><span class="w">)</span><span class="pc">,</span> <span class="w">s</span><span class="pc">l</span><span class="c">ice_id(</span><span class="pc">s</span><span class="c">lice_id</span><span class="pc">)</span>
        <span class="c">{</span>
        <span class="w">}</span>
      <span class="w">p</span><span class="pc">u</span><span class="c">blic:</span>
        <span class="w">U</span><span class="c">niqueID</span> <span class="w">i</span><span class="pc">n</span><span class="c">dex_id</span><span class="pc">;</span>
        <span class="w">U</span><span class="c">niqueID</span> <span class="w">s</span><span class="c">lice_id;</span>
      <span class="pc">}</span><span class="c">;</span>

      <span class="c">struct</span> <span class="w">LogMsgSliceSlice</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="c">LogMsgSliceSlice(</span><span class="w">U</span><span class="c">niqueID</span> <span class="w">slice_parent</span><span class="c">,</span> <span class="w">U</span><span class="c">niqueID</span> <span class="w">slice_subslice)</span><span class="pc"> :</span>
            <span class="w">s</span><span class="pc">lice_p</span><span class="c">arent</span><span class="w">(</span><span class="pc">slice_p</span><span class="c">arent</span><span class="w">)</span><span class="pc">,</span> <span class="pc">s</span><span class="c">lice_subslice(</span><span class="w">s</span><span class="c">lice_subslice</span><span class="pc">)</span>
        <span class="c">{</span>
        <span class="pc">}</span>
      <span class="w">p</span><span class="pc">u</span><span class="c">blic:</span>
        <span class="w">U</span><span class="c">niqueID</span> <span class="pc">s</span><span class="c">lice_parent</span><span class="pc">;</span>
        <span class="w">U</span><span class="c">niqueID</span> <span class="w">s</span><span class="pc">lice_s</span><span class="c">ubslice;</span>
      <span class="pc">}</span><span class="c">;</span>

      <span class="c">struct</span> <span class="w">LogMsgPointPoint</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="c">LogMsgPointPoint(</span><span class="w">U</span><span class="c">niqueID</span> <span class="w">orig_point</span><span class="c">,</span> <span class="w">U</span><span class="c">niqueID</span> <span class="w">new_point)</span><span class="pc"> :</span>
            <span class="w">o</span><span class="c">rig_point</span><span class="w">(</span><span class="pc">o</span><span class="c">rig_point</span><span class="w">)</span><span class="pc">,</span> <span class="pc">n</span><span class="c">ew_point(</span><span class="w">n</span><span class="c">ew_point</span><span class="pc">)</span>
        <span class="c">{</span>
        <span class="pc">}</span>
      <span class="w">p</span><span class="pc">u</span><span class="c">blic:</span>
        <span class="w">U</span><span class="c">niqueID</span> <span class="pc">o</span><span class="c">rig_point</span><span class="pc">;</span>
        <span class="w">U</span><span class="c">niqueID</span> <span class="w">n</span><span class="pc">e</span><span class="c">w_point;</span>
      <span class="pc">}</span><span class="c">;</span>

      <span class="c">struct</span> <span class="w">LogMsgSlicePoint</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="c">LogMsgSlicePoint(</span><span class="w">U</span><span class="c">niqueID</span> <span class="w">slice_id</span><span class="c">,</span> <span class="w">U</span><span class="c">niqueID</span> <span class="w">point_id</span><span class="c">,</span>
                         <span class="w">c</span><span class="c">onst</span> <span class="w">D</span><span class="pc">omainP</span><span class="c">oint</span> <span class="c">&amp;</span><span class="w">p</span><span class="c">oint</span><span class="w">) </span><span class="pc">:</span>
            <span class="w">s</span><span class="pc">l</span><span class="c">ice_id</span><span class="pc">(</span><span class="c">slice_id</span><span class="pc">),</span> <span class="pc">p</span><span class="c">oint_id(</span><span class="w">po</span><span class="c">int_id</span><span class="pc">),</span> <span class="w">po</span><span class="pc">int(</span><span class="w">p</span><span class="pc">oint)</span>
        <span class="c">{</span>
        <span class="pc">}</span>
      <span class="w">p</span><span class="pc">u</span><span class="c">blic:</span>
        <span class="w">U</span><span class="c">niqueID</span> <span class="pc">s</span><span class="c">lice_id</span><span class="pc">;</span>
        <span class="w">U</span><span class="c">niqueID</span> <span class="w">p</span><span class="pc">o</span><span class="c">int_id;</span>
        <span class="pc">c</span><span class="c">onst</span> <span class="w">D</span><span class="c">omainPoint</span> <span class="c">&amp;</span><span class="w">p</span><span class="pc">oint</span><span class="w">;</span>
      <span class="c">};</span>

      <span class="w">s</span><span class="c">truct</span> <span class="w">LogMsgOperationTiming</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="c">LogMsgOperationTiming(</span><span class="pc">P</span><span class="c">rocessor</span> <span class="w">pr</span><span class="c">oc</span><span class="pc">,</span> <span class="w">U</span><span class="c">niqueID</span> <span class="w">u</span><span class="c">nique_op_id,</span> <span class="w">TimingKind</span> <span class="w">k</span><span class="c">ind</span><span class="pc">,</span>
                              <span class="w">u</span><span class="c">nsigned</span> <span class="w">l</span><span class="pc">on</span><span class="c">g</span> <span class="pc">l</span><span class="c">ong</span> <span class="w">time) :</span>
            <span class="w">pro</span><span class="pc">c</span><span class="w">(p</span><span class="pc">r</span><span class="c">oc</span><span class="w">)</span><span class="pc">,</span> <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id(</span><span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id</span><span class="pc">),</span> <span class="w">k</span><span class="c">ind(</span><span class="w">k</span><span class="c">ind),</span> <span class="w">t</span><span class="c">ime(</span><span class="w">t</span><span class="pc">i</span><span class="c">me</span><span class="pc">)</span>
        <span class="c">{</span>
        <span class="c">}</span>
      <span class="w">p</span><span class="pc">u</span><span class="c">blic:</span>
        <span class="w">P</span><span class="c">rocessor</span> <span class="w">p</span><span class="pc">r</span><span class="c">oc;</span>
        <span class="w">U</span><span class="c">niqueID</span> <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id;</span>
        <span class="w">T</span><span class="c">imingKind</span> <span class="w">k</span><span class="c">ind;</span>
        <span class="c">unsigned</span> <span class="c">long</span> <span class="c">long</span> <span class="c">time</span><span class="pc">;</span>
      <span class="c">};</span>

      <span class="pc">s</span><span class="c">truct</span> <span class="w">LogMsgEventTiming</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="c">LogMsgEventTiming(</span><span class="pc">P</span><span class="c">rocessor</span> <span class="w">p</span><span class="pc">r</span><span class="c">oc,</span> <span class="w">E</span><span class="pc">vent</span> <span class="w">e</span><span class="c">vent</span><span class="pc">,</span> <span class="w">T</span><span class="pc">i</span><span class="c">mingKind</span> <span class="w">k</span><span class="c">ind,</span> <span class="c">unsigned</span> <span class="pc">l</span><span class="c">ong</span> <span class="pc">l</span><span class="c">ong</span> <span class="w">ti</span><span class="pc">m</span><span class="c">e</span><span class="w">) :</span>
            <span class="w">pro</span><span class="pc">c</span><span class="w">(p</span><span class="pc">r</span><span class="c">oc</span><span class="w">)</span><span class="pc">,</span> <span class="w">e</span><span class="pc">v</span><span class="c">ent</span><span class="pc">(</span><span class="w">e</span><span class="c">vent</span><span class="pc">),</span> <span class="w">k</span><span class="c">ind(</span><span class="w">k</span><span class="c">ind),</span> <span class="w">t</span><span class="c">ime(</span><span class="pc">t</span><span class="c">ime</span><span class="pc">)</span>
        <span class="c">{</span>
        <span class="c">}</span>
      <span class="w">p</span><span class="pc">u</span><span class="c">blic:</span>
        <span class="w">P</span><span class="c">rocessor</span> <span class="w">p</span><span class="pc">r</span><span class="c">oc;</span>
        <span class="pc">E</span><span class="c">vent</span> <span class="w">e</span><span class="pc">v</span><span class="c">ent;</span>
        <span class="w">T</span><span class="c">imingKind</span> <span class="w">k</span><span class="c">ind;</span>
        <span class="pc">u</span><span class="c">nsigned</span> <span class="c">long</span> <span class="c">long</span> <span class="c">time</span><span class="pc">;</span>
      <span class="c">};</span>

      <span class="w">e</span><span class="c">num</span> <span class="w">WaitKind</span> <span class="c">{</span>
        <span class="w">WAIT_BEGIN</span> <span class="w">=</span> <span class="c">0</span><span class="pc">,</span>
        <span class="w">WAIT_END</span> <span class="pc">=</span> <span class="pc">1,</span>
        <span class="w">WAIT_NOWAIT</span> <span class="c">=</span> <span class="pc">2</span><span class="c">,</span> 
      <span class="pc">}</span><span class="c">;</span>

      <span class="pc">str</span><span class="c">uct</span> <span class="w">LogMsgFutureWait</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="c">LogMsgFutureWait(</span><span class="pc">P</span><span class="c">rocessor</span> <span class="w">p</span><span class="pc">r</span><span class="c">oc,</span> <span class="w">U</span><span class="c">niqueID</span> <span class="w">c</span><span class="pc">on</span><span class="c">text,</span> <span class="w">U</span><span class="c">niqueID</span> <span class="w">w</span><span class="c">ait_on,</span> <span class="pc">W</span><span class="c">aitKind</span> <span class="w">k</span><span class="c">ind</span><span class="pc">,</span> <span class="w">u</span><span class="c">nsigned</span> <span class="w">l</span><span class="c">ong</span> <span class="w">l</span><span class="c">ong</span> <span class="w">time) :</span>
            <span class="w">pr</span><span class="pc">oc</span><span class="w">(p</span><span class="pc">r</span><span class="c">oc</span><span class="pc">),</span> <span class="w">c</span><span class="pc">ont</span><span class="c">ext</span><span class="pc">(</span><span class="w">c</span><span class="pc">ont</span><span class="c">ext</span><span class="pc">),</span> <span class="w">w</span><span class="pc">ait_</span><span class="c">on</span><span class="pc">(</span><span class="w">w</span><span class="c">ait_on),</span> <span class="w">k</span><span class="c">ind(</span><span class="w">k</span><span class="c">ind),</span> <span class="w">t</span><span class="pc">im</span><span class="c">e(</span><span class="w">t</span><span class="pc">i</span><span class="c">me)</span>
        <span class="c">{</span>
        <span class="c">}</span>
      <span class="w">p</span><span class="pc">u</span><span class="c">blic:</span>
        <span class="w">P</span><span class="c">rocessor</span> <span class="w">p</span><span class="pc">r</span><span class="c">oc;</span>
        <span class="w">U</span><span class="c">niqueID</span> <span class="w">c</span><span class="c">ontext;</span>
        <span class="w">U</span><span class="c">niqueID</span> <span class="w">w</span><span class="c">ait_on;</span>
        <span class="w">WaitKind</span> <span class="w">k</span><span class="c">ind;</span>
        <span class="pc">u</span><span class="c">nsigned</span> <span class="c">long</span> <span class="c">long</span> <span class="pc">t</span><span class="c">ime</span><span class="pc">;</span>
      <span class="pc">}</span><span class="c">;</span>

      <span class="pc">str</span><span class="c">uct</span> <span class="w">LogMsgInlineWait</span> <span class="pc">{</span>
      <span class="c">public:</span>
        <span class="pc">L</span><span class="c">ogMsgInlineWait(</span><span class="pc">P</span><span class="c">rocessor</span> <span class="w">p</span><span class="pc">r</span><span class="c">oc,</span> <span class="w">U</span><span class="c">niqueID</span> <span class="w">c</span><span class="pc">o</span><span class="c">ntext,</span> <span class="w">E</span><span class="c">vent</span> <span class="pc">w</span><span class="c">ait_on,</span> <span class="w">W</span><span class="c">aitKind</span> <span class="w">k</span><span class="c">ind</span><span class="pc">,</span> <span class="pc">u</span><span class="c">nsigned</span> <span class="pc">l</span><span class="c">ong</span> <span class="pc">l</span><span class="c">ong</span> <span class="pc">t</span><span class="c">ime</span><span class="w">) :</span>
            <span class="w">pr</span><span class="pc">oc</span><span class="w">(p</span><span class="pc">r</span><span class="c">oc</span><span class="pc">),</span> <span class="w">c</span><span class="pc">o</span><span class="c">ntext</span><span class="pc">(</span><span class="w">c</span><span class="pc">ont</span><span class="c">ext</span><span class="pc">),</span> <span class="w">w</span><span class="c">ait_on(</span><span class="w">w</span><span class="c">ait_on),</span> <span class="w">k</span><span class="c">ind(</span><span class="w">k</span><span class="c">ind),</span> <span class="w">t</span><span class="pc">i</span><span class="c">me(</span><span class="w">t</span><span class="pc">i</span><span class="c">me)</span>
        <span class="c">{</span>
        <span class="c">}</span>
      <span class="w">p</span><span class="pc">u</span><span class="c">blic:</span>
        <span class="w">P</span><span class="c">rocessor</span> <span class="w">p</span><span class="pc">r</span><span class="c">oc;</span>
        <span class="w">U</span><span class="c">niqueID</span> <span class="w">c</span><span class="c">ontext;</span>
        <span class="pc">E</span><span class="c">vent</span> <span class="c">wait_on;</span>
        <span class="w">WaitKind</span> <span class="w">k</span><span class="c">ind;</span>
        <span class="pc">u</span><span class="c">nsigned</span> <span class="c">long</span> <span class="c">long</span> <span class="pc">t</span><span class="c">ime;</span>
      <span class="c">};</span>

      <span class="pc">str</span><span class="c">uct</span> <span class="w">LogMsgTopIndexSpace</span> <span class="pc">{</span>
      <span class="c">public:</span>
        <span class="pc">L</span><span class="c">ogMsgTopIndexSpace(</span><span class="w">I</span><span class="pc">n</span><span class="c">dexSpace</span> <span class="w">s</span><span class="pc">pa</span><span class="c">ce</span><span class="w">) :</span>
            <span class="w">sp</span><span class="pc">a</span><span class="c">ce</span><span class="pc">(</span><span class="w">sp</span><span class="c">ace</span><span class="pc">)</span>
        <span class="pc">{</span>
        <span class="w">}</span>
      <span class="w">p</span><span class="pc">u</span><span class="c">blic:</span>
        <span class="w">I</span><span class="pc">n</span><span class="c">dexSpace</span> <span class="w">sp</span><span class="pc">a</span><span class="c">ce;</span>
      <span class="w">}</span><span class="c">;</span>

      <span class="pc">s</span><span class="c">truct</span> <span class="w">LogMsgIndexPartition</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="pc">L</span><span class="c">ogMsgIndexPartition(</span><span class="w">I</span><span class="pc">n</span><span class="c">dexSpace</span> <span class="w">p</span><span class="pc">a</span><span class="c">rent,</span> <span class="w">I</span><span class="pc">ndexP</span><span class="c">artition</span> <span class="w">h</span><span class="c">andle,</span>
                             <span class="w">b</span><span class="pc">o</span><span class="c">ol</span> <span class="w">disjoint</span><span class="c">,</span> <span class="w">C</span><span class="pc">ol</span><span class="c">or</span> <span class="w">c</span><span class="pc">o</span><span class="c">lor</span><span class="w">) :</span>
            <span class="w">p</span><span class="pc">a</span><span class="c">rent</span><span class="pc">(</span><span class="w">p</span><span class="pc">a</span><span class="c">rent</span><span class="pc">),</span> <span class="w">h</span><span class="c">andle</span><span class="pc">(h</span><span class="c">andle</span><span class="pc">),</span> <span class="w">d</span><span class="c">isjoint(</span><span class="pc">d</span><span class="c">isjoint),</span> <span class="w">c</span><span class="pc">o</span><span class="c">lor</span><span class="pc">(</span><span class="w">co</span><span class="pc">lor)</span>
        <span class="c">{</span>
        <span class="pc">}</span>
      <span class="w">pu</span><span class="c">blic:</span>
        <span class="w">I</span><span class="pc">ndexS</span><span class="c">pace</span> <span class="w">p</span><span class="pc">a</span><span class="c">rent</span><span class="pc">;</span>
        <span class="pc">I</span><span class="c">ndexPartition</span> <span class="pc">h</span><span class="c">andle;</span>
        <span class="w">b</span><span class="c">ool</span> <span class="w">d</span><span class="pc">is</span><span class="c">joint;</span>
        <span class="w">C</span><span class="c">olor</span> <span class="w">c</span><span class="pc">ol</span><span class="c">or;</span>
      <span class="pc">}</span><span class="c">;</span>

      <span class="pc">s</span><span class="c">truct</span> <span class="w">LogMsgIndexSubspace</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="c">LogMsgIndexSubspace(</span><span class="w">I</span><span class="pc">ndexP</span><span class="c">artition</span> <span class="w">p</span><span class="pc">a</span><span class="c">rent,</span> <span class="pc">I</span><span class="c">ndexSpace</span> <span class="pc">h</span><span class="c">andle,</span>
                            <span class="w">C</span><span class="pc">ol</span><span class="c">or</span> <span class="w">c</span><span class="pc">o</span><span class="c">lor</span><span class="w">) :</span>
            <span class="w">pa</span><span class="c">rent</span><span class="pc">(</span><span class="w">p</span><span class="pc">a</span><span class="c">rent</span><span class="pc">),</span> <span class="w">h</span><span class="c">andle</span><span class="pc">(</span><span class="c">handle),</span> <span class="w">c</span><span class="pc">o</span><span class="c">lor(</span><span class="w">c</span><span class="c">olor</span><span class="pc">)</span>
        <span class="c">{</span>
        <span class="c">}</span>
      <span class="w">pu</span><span class="c">blic:</span>
        <span class="w">I</span><span class="c">ndexPartition</span> <span class="w">p</span><span class="pc">a</span><span class="c">rent</span><span class="pc">;</span>
        <span class="pc">IndexS</span><span class="c">pace</span> <span class="c">handle;</span>
        <span class="w">C</span><span class="c">olor</span> <span class="w">c</span><span class="pc">ol</span><span class="c">or;</span>
      <span class="pc">}</span><span class="c">;</span>

      <span class="c">struct</span> <span class="w">LogMsgFieldSpace</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="c">LogMsgFieldSpace(</span><span class="w">F</span><span class="c">ieldSpace</span> <span class="c">handle</span><span class="w">) </span><span class="pc">:</span>
            <span class="w">h</span><span class="c">andle</span><span class="pc">(</span><span class="w">h</span><span class="c">andle</span><span class="pc">)</span>
        <span class="pc">{</span>
        <span class="w">}</span>
      <span class="w">pu</span><span class="c">blic:</span>
        <span class="w">F</span><span class="c">ieldSpace</span> <span class="pc">h</span><span class="c">andle;</span>
      <span class="w">}</span><span class="c">;</span>

      <span class="pc">s</span><span class="c">truct</span> <span class="w">LogMsgFieldCreation</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="pc">L</span><span class="c">ogMsgFieldCreation(</span><span class="w">F</span><span class="c">ieldSpace</span> <span class="c">handle</span><span class="pc">,</span> <span class="w">F</span><span class="pc">ieldI</span><span class="c">D</span> <span class="c">fid,</span> <span class="w">b</span><span class="pc">o</span><span class="c">ol</span> <span class="w">l</span><span class="c">ocal</span><span class="w">) :</span>
            <span class="w">h</span><span class="c">andle(</span><span class="w">h</span><span class="c">andle</span><span class="pc">),</span> <span class="pc">f</span><span class="c">id</span><span class="pc">(</span><span class="w">f</span><span class="pc">i</span><span class="c">d</span><span class="pc">),</span> <span class="w">l</span><span class="pc">ocal(</span><span class="w">l</span><span class="pc">ocal)</span>
        <span class="c">{</span>
        <span class="c">}</span>
      <span class="w">p</span><span class="pc">u</span><span class="c">blic:</span>
        <span class="w">F</span><span class="c">ieldSpace</span> <span class="w">h</span><span class="c">andle;</span>
        <span class="w">F</span><span class="c">ieldID</span> <span class="pc">f</span><span class="c">id;</span>
        <span class="w">b</span><span class="c">ool</span> <span class="w">l</span><span class="pc">oca</span><span class="c">l;</span>
      <span class="c">};</span>

      <span class="pc">str</span><span class="c">uct</span> <span class="w">LogMsgTopRegion</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="c">LogMsgTopRegion(</span><span class="w">I</span><span class="pc">n</span><span class="c">dexSpace</span> <span class="w">ispace</span><span class="c">,</span> <span class="w">F</span><span class="pc">ieldS</span><span class="c">pace</span> <span class="w">fspace</span><span class="c">,</span> <span class="w">RegionTreeID</span> <span class="pc">t</span><span class="c">id</span><span class="w">) :</span>
            <span class="w">i</span><span class="c">space(</span><span class="w">i</span><span class="pc">s</span><span class="c">pace</span><span class="pc">),</span> <span class="pc">f</span><span class="c">space(</span><span class="w">f</span><span class="pc">s</span><span class="c">pace),</span> <span class="w">t</span><span class="c">id</span><span class="pc">(</span><span class="w">t</span><span class="pc">i</span><span class="c">d</span><span class="pc">)</span>
        <span class="c">{</span>
        <span class="pc">}</span>
      <span class="w">p</span><span class="pc">u</span><span class="c">blic:</span>
        <span class="pc">I</span><span class="c">ndexSpace</span> <span class="w">i</span><span class="pc">s</span><span class="c">pace</span><span class="pc">;</span>
        <span class="w">F</span><span class="pc">ieldS</span><span class="c">pace</span> <span class="pc">f</span><span class="c">space;</span>
        <span class="w">R</span><span class="pc">eg</span><span class="c">ionTreeID</span> <span class="w">t</span><span class="c">id;</span>
      <span class="c">};</span>

      <span class="pc">s</span><span class="c">truct</span> <span class="w">LogMsgLogicalRequirement</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="c">LogMsgLogicalRequirement(</span><span class="w">U</span><span class="c">niqueID</span> <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id,</span> <span class="w">u</span><span class="c">nsigned</span> <span class="w">i</span><span class="pc">n</span><span class="c">dex,</span>
                                 <span class="pc">b</span><span class="c">ool</span> <span class="w">reg</span><span class="pc">ion</span><span class="c">,</span> <span class="pc">u</span><span class="c">nsigned</span> <span class="w">index_component</span><span class="c">,</span>
                                 <span class="c">unsigned</span> <span class="w">field_component</span><span class="pc">,</span> <span class="w">R</span><span class="pc">eg</span><span class="c">ionTreeID</span> <span class="w">t</span><span class="pc">i</span><span class="c">d</span><span class="pc">,</span>
                                 <span class="w">PrivilegeMode</span> <span class="w">privilege</span><span class="pc">,</span>
                                 <span class="w">CoherenceProperty</span> <span class="w">prop</span><span class="c">,</span> <span class="pc">R</span><span class="c">eductionOpID</span> <span class="pc">r</span><span class="c">edop</span><span class="w">) :</span>
            <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id</span><span class="w">(u</span><span class="pc">ni</span><span class="c">que_op_id</span><span class="pc">),</span> <span class="w">i</span><span class="pc">ndex(</span><span class="w">i</span><span class="pc">ndex</span><span class="c">),</span> <span class="w">reg</span><span class="c">ion</span><span class="pc">(</span><span class="w">reg</span><span class="pc">ion)</span><span class="c">,</span> <span class="w">i</span><span class="pc">nd</span><span class="c">ex_component(</span>
                <span class="pc">i</span><span class="c">ndex_component),</span> <span class="pc">f</span><span class="c">ield_component(</span><span class="pc">f</span><span class="c">ield_component),</span> <span class="w">t</span><span class="pc">i</span><span class="c">d(</span><span class="w">t</span><span class="pc">i</span><span class="c">d</span><span class="pc">),</span> <span class="w">p</span><span class="pc">r</span><span class="c">ivilege(</span>
                <span class="pc">p</span><span class="c">rivilege),</span> <span class="w">p</span><span class="pc">ro</span><span class="c">p(</span><span class="w">p</span><span class="pc">ro</span><span class="c">p),</span> <span class="w">r</span><span class="c">edop(</span><span class="w">r</span><span class="pc">e</span><span class="c">dop</span><span class="pc">)</span>
        <span class="c">{</span>
        <span class="c">}</span>
      <span class="w">pu</span><span class="c">blic:</span>
        <span class="w">U</span><span class="c">niqueID</span> <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id</span><span class="pc">;</span>
        <span class="w">u</span><span class="c">nsigned</span> <span class="pc">ind</span><span class="c">ex;</span>
        <span class="c">bool</span> <span class="w">reg</span><span class="c">ion;</span>
        <span class="pc">u</span><span class="c">nsigned</span> <span class="w">ind</span><span class="pc">ex_c</span><span class="c">omponent;</span>
        <span class="pc">u</span><span class="c">nsigned</span> <span class="w">f</span><span class="pc">ie</span><span class="c">ld_component;</span>
        <span class="w">RegionTreeID</span> <span class="w">t</span><span class="c">id;</span>
        <span class="w">PrivilegeMode</span> <span class="w">p</span><span class="c">rivilege;</span>
        <span class="w">CoherenceProperty</span> <span class="w">pr</span><span class="pc">op</span><span class="c">;</span>
        <span class="w">R</span><span class="pc">ed</span><span class="c">uctionOpID</span> <span class="pc">r</span><span class="c">edop;</span>
      <span class="pc">}</span><span class="c">;</span>

      <span class="c">struct</span> <span class="w">LogMsgRequirementFields</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="c">LogMsgRequirementFields</span><span class="pc">(</span><span class="w">U</span><span class="c">niqueID</span> <span class="w">u</span><span class="pc">n</span><span class="c">ique_op_id,</span> <span class="c">unsigned</span> <span class="pc">i</span><span class="c">ndex,</span>
                                <span class="w">c</span><span class="c">onst</span> <span class="pc">s</span><span class="c">td::</span><span class="pc">s</span><span class="c">et&lt;</span><span class="w">F</span><span class="c">ieldID&gt; &amp;</span><span class="w">logical_fields) :</span>
            <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id</span><span class="w">(u</span><span class="pc">ni</span><span class="c">que_op_id</span><span class="w">)</span><span class="pc">,</span> <span class="w">i</span><span class="c">ndex</span><span class="pc">(</span><span class="w">i</span><span class="c">ndex</span><span class="pc">),</span> <span class="c">logical_fields</span><span class="pc">(</span>
                <span class="c">logical_fields)</span>
        <span class="c">{</span>
        <span class="pc">}</span>
      <span class="w">pu</span><span class="pc">b</span><span class="c">lic:</span>
        <span class="w">U</span><span class="c">niqueID</span> <span class="w">un</span><span class="pc">i</span><span class="c">que_op_id</span><span class="pc">;</span>
        <span class="w">u</span><span class="c">nsigned</span> <span class="pc">ind</span><span class="c">ex;</span>
        <span class="w">c</span><span class="c">onst</span> <span class="c">std::</span><span class="pc">s</span><span class="c">et&lt;</span><span class="w">F</span><span class="c">ieldID&gt; &amp;</span><span class="pc">l</span><span class="c">ogical_fields</span><span class="w">;</span>
      <span class="w">}</span><span class="pc">;</span>

      <span class="pc">s</span><span class="c">truct</span> <span class="w">LogMsgMappingDependence</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="pc">L</span><span class="c">ogMsgMappingDependence(</span><span class="w">U</span><span class="c">niqueID</span> <span class="w">parent_context</span><span class="c">,</span> <span class="w">U</span><span class="c">niqueID</span> <span class="w">previous_id</span><span class="c">,</span>
                                <span class="pc">u</span><span class="c">nsigned</span> <span class="w">previous_index</span><span class="c">,</span> <span class="w">U</span><span class="c">niqueID</span> <span class="w">next_id</span><span class="c">,</span>
                                <span class="c">unsigned</span> <span class="w">next_index</span><span class="pc">,</span> <span class="w">DependenceType</span> <span class="w">dep_type) :</span>
            <span class="w">p</span><span class="c">arent_context</span><span class="w">(pa</span><span class="c">rent_context</span><span class="pc">),</span> <span class="w">p</span><span class="pc">revious_id</span><span class="c">(</span><span class="pc">pr</span><span class="c">evious_id),</span> <span class="w">p</span><span class="pc">revious_in</span><span class="c">dex(</span>
                <span class="c">previous_index),</span> <span class="pc">next_id</span><span class="c">(</span><span class="pc">next_id</span><span class="c">),</span> <span class="pc">next_in</span><span class="c">dex(</span><span class="pc">n</span><span class="c">ext_index</span><span class="pc">),</span> <span class="w">d</span><span class="c">ep_type(</span>
                <span class="pc">d</span><span class="c">ep_type</span><span class="pc">)</span>
        <span class="c">{</span>
        <span class="c">}</span>
      <span class="w">pu</span><span class="c">blic:</span>
        <span class="w">U</span><span class="c">niqueID</span> <span class="w">p</span><span class="pc">a</span><span class="c">rent_context</span><span class="pc">;</span>
        <span class="w">U</span><span class="c">niqueID</span> <span class="c">previous_id;</span>
        <span class="w">u</span><span class="c">nsigned</span> <span class="w">p</span><span class="pc">r</span><span class="c">evious_index;</span>
        <span class="w">U</span><span class="c">niqueID</span> <span class="w">n</span><span class="pc">ext_id</span><span class="c">;</span>
        <span class="pc">u</span><span class="c">nsigned</span> <span class="w">n</span><span class="pc">ext_in</span><span class="c">dex;</span>
        <span class="w">DependenceType</span> <span class="w">d</span><span class="pc">e</span><span class="c">p_type;</span>
      <span class="pc">}</span><span class="c">;</span>

      <span class="pc">s</span><span class="c">truct</span> <span class="w">LogMsgTaskInstanceRequirement</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="pc">L</span><span class="c">ogMsgTaskInstanceRequirement(</span><span class="w">U</span><span class="c">niqueID</span> <span class="w">unique_id</span><span class="c">,</span> <span class="pc">u</span><span class="c">nsigned</span> <span class="pc">in</span><span class="c">dex,</span>
                                      <span class="w">I</span><span class="c">ndexSpace</span> <span class="w">h</span><span class="c">andle</span><span class="w">) :</span>
            <span class="w">u</span><span class="pc">ni</span><span class="c">que_id</span><span class="w">(u</span><span class="pc">ni</span><span class="c">que_id</span><span class="w">)</span><span class="pc">,</span> <span class="w">in</span><span class="pc">d</span><span class="c">ex</span><span class="pc">(</span><span class="w">i</span><span class="pc">n</span><span class="c">dex),</span> <span class="w">h</span><span class="c">andle</span><span class="pc">(</span><span class="w">h</span><span class="c">andle</span><span class="pc">)</span>
        <span class="c">{</span>
        <span class="c">}</span>
      <span class="w">p</span><span class="pc">u</span><span class="c">blic:</span>
        <span class="w">U</span><span class="c">niqueID</span> <span class="w">u</span><span class="c">nique_id</span><span class="pc">;</span>
        <span class="c">unsigned</span> <span class="pc">ind</span><span class="c">ex;</span>
        <span class="w">I</span><span class="c">ndexSpace</span> <span class="c">handle;</span>
      <span class="c">};</span>

      <span class="c">struct</span> <span class="w">LogMsgEventDependency</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="c">LogMsgEventDependency(</span><span class="w">E</span><span class="pc">vent</span> <span class="w">one</span><span class="c">,</span> <span class="w">E</span><span class="c">vent</span> <span class="w">two) :</span>
            <span class="w">o</span><span class="c">ne</span><span class="pc">(</span><span class="w">o</span><span class="c">ne</span><span class="pc">),</span> <span class="w">t</span><span class="pc">w</span><span class="c">o(</span><span class="pc">t</span><span class="c">wo</span><span class="pc">)</span>
        <span class="c">{</span>
        <span class="c">}</span>
      <span class="w">p</span><span class="pc">u</span><span class="c">blic:</span>
        <span class="w">E</span><span class="c">vent</span> <span class="w">o</span><span class="pc">n</span><span class="c">e</span><span class="pc">;</span>
        <span class="c">Event</span> <span class="w">t</span><span class="c">wo</span><span class="pc">;</span>
      <span class="c">};</span>

      <span class="c">struct</span> <span class="w">LogMsgOperationEvents</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="c">LogMsgOperationEvents(</span><span class="w">U</span><span class="pc">n</span><span class="c">iqueID</span> <span class="w">u</span><span class="c">nique_op_id,</span> <span class="pc">E</span><span class="c">vent</span> <span class="w">start_event</span><span class="c">,</span>
                              <span class="w">E</span><span class="c">vent</span> <span class="w">end_event) :</span>
            <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id</span><span class="pc">(</span><span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id</span><span class="w">)</span><span class="pc">,</span> <span class="w">s</span><span class="c">tart_event(</span><span class="pc">s</span><span class="c">tart_event),</span> <span class="w">e</span><span class="c">nd_event</span><span class="pc">(</span>
                <span class="c">end_event)</span>
        <span class="c">{</span>
        <span class="c">}</span>
      <span class="w">p</span><span class="pc">u</span><span class="c">blic:</span>
        <span class="pc">U</span><span class="c">niqueID</span> <span class="w">u</span><span class="pc">n</span><span class="c">ique_op_id</span><span class="pc">;</span>
        <span class="c">Event</span> <span class="w">s</span><span class="c">tart_event;</span>
        <span class="pc">E</span><span class="c">vent</span> <span class="w">e</span><span class="c">nd_event;</span>
      <span class="c">};</span>

      <span class="pc">str</span><span class="c">uct</span> <span class="w">LogMsgPhysicalInstance</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="c">LogMsgPhysicalInstance(</span><span class="w">PhysicalInstance</span> <span class="w">ins</span><span class="pc">ta</span><span class="c">nce</span><span class="pc">,</span> <span class="pc">M</span><span class="c">emory</span> <span class="w">m</span><span class="c">emory,</span>
                               <span class="w">I</span><span class="c">ndexSpace</span> <span class="w">index_handle</span><span class="c">,</span> <span class="w">F</span><span class="pc">ieldS</span><span class="c">pace</span> <span class="w">field_handle</span><span class="c">,</span>
                               <span class="w">RegionTreeID</span> <span class="w">tr</span><span class="c">ee_id</span><span class="pc">,</span> <span class="pc">R</span><span class="c">eductionOpID</span> <span class="pc">r</span><span class="c">edop</span><span class="pc">,</span> <span class="pc">b</span><span class="c">ool</span> <span class="w">fold</span><span class="pc">,</span>
                               <span class="w">D</span><span class="pc">o</span><span class="c">main</span> <span class="w">indirect_domain) :</span>
            <span class="w">ins</span><span class="pc">ta</span><span class="c">nce</span><span class="w">(ins</span><span class="pc">ta</span><span class="c">nce</span><span class="pc">),</span> <span class="w">m</span><span class="pc">emo</span><span class="c">ry(</span><span class="w">m</span><span class="pc">emo</span><span class="c">ry</span><span class="pc">)</span><span class="c">,</span> <span class="w">i</span><span class="pc">n</span><span class="c">dex_handle(</span><span class="w">i</span><span class="pc">nde</span><span class="c">x_handle</span><span class="pc">)</span><span class="c">,</span> <span class="w">f</span><span class="pc">i</span><span class="c">eld_handle(</span>
                <span class="c">field_handle),</span> <span class="w">t</span><span class="pc">r</span><span class="c">ee_id(</span><span class="w">t</span><span class="pc">r</span><span class="c">ee_id),</span> <span class="pc">r</span><span class="c">edop(</span><span class="w">r</span><span class="pc">e</span><span class="c">dop),</span> <span class="w">f</span><span class="pc">o</span><span class="c">ld(</span><span class="pc">f</span><span class="c">old),</span> <span class="pc">i</span><span class="c">ndirect_domain(</span>
                <span class="pc">i</span><span class="c">ndirect_domain</span><span class="pc">)</span>
        <span class="c">{</span>
        <span class="c">}</span>
      <span class="w">p</span><span class="pc">u</span><span class="c">blic:</span>
        <span class="w">PhysicalInstance</span> <span class="w">ins</span><span class="pc">t</span><span class="c">ance</span><span class="pc">;</span>
        <span class="w">M</span><span class="pc">emory</span> <span class="w">m</span><span class="pc">emo</span><span class="c">ry;</span>
        <span class="w">I</span><span class="c">ndexSpace</span> <span class="pc">i</span><span class="c">ndex_handle;</span>
        <span class="w">F</span><span class="c">ieldSpace</span> <span class="w">f</span><span class="pc">ie</span><span class="c">ld_handle;</span>
        <span class="w">RegionTreeID</span> <span class="w">tr</span><span class="pc">e</span><span class="c">e_id;</span>
        <span class="w">Re</span><span class="pc">d</span><span class="c">uctionOpID</span> <span class="w">r</span><span class="pc">ed</span><span class="c">op;</span>
        <span class="w">b</span><span class="c">ool</span> <span class="w">f</span><span class="c">old;</span>
        <span class="w">D</span><span class="c">omain</span> <span class="w">in</span><span class="pc">di</span><span class="c">rect_domain;</span>
      <span class="c">};</span>

      <span class="c">struct</span> <span class="w">LogMsgPhysicalUser</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="c">LogMsgPhysicalUser(</span><span class="w">P</span><span class="pc">h</span><span class="c">ysicalInstance</span> <span class="w">ins</span><span class="pc">ta</span><span class="c">nce</span><span class="pc">,</span> <span class="w">U</span><span class="c">niqueID</span> <span class="w">u</span><span class="c">nique_op_id,</span>
                           <span class="pc">u</span><span class="c">nsigned</span> <span class="pc">i</span><span class="c">ndex</span><span class="w">) :</span>
            <span class="w">ins</span><span class="pc">ta</span><span class="c">nce</span><span class="w">(ins</span><span class="pc">ta</span><span class="c">nce</span><span class="w">)</span><span class="pc">,</span> <span class="w">u</span><span class="c">nique_op_id(</span><span class="w">u</span><span class="c">nique_op_id</span><span class="pc">),</span> <span class="w">in</span><span class="pc">de</span><span class="c">x(</span><span class="w">i</span><span class="pc">nde</span><span class="c">x</span><span class="pc">)</span>
        <span class="c">{</span>
        <span class="c">}</span>
      <span class="w">pu</span><span class="c">blic:</span>
        <span class="w">P</span><span class="c">hysicalInstance</span> <span class="w">in</span><span class="pc">s</span><span class="c">tance</span><span class="pc">;</span>
        <span class="w">U</span><span class="c">niqueID</span> <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id;</span>
        <span class="c">unsigned</span> <span class="w">i</span><span class="pc">nd</span><span class="c">ex;</span>
      <span class="pc">};</span>

      <span class="pc">str</span><span class="c">uct</span> <span class="w">LogMsgLowlevelCopy</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="c">LogMsgLowlevelCopy(</span><span class="w">P</span><span class="pc">h</span><span class="c">ysicalInstance</span> <span class="w">src_instance</span><span class="c">,</span>
                           <span class="w">P</span><span class="pc">h</span><span class="c">ysicalInstance</span> <span class="w">dst_instance</span><span class="pc">,</span>
                           <span class="w">I</span><span class="pc">ndexS</span><span class="c">pace</span> <span class="w">index_handle</span><span class="c">,</span> <span class="w">F</span><span class="pc">ieldS</span><span class="c">pace</span> <span class="w">field_handle</span><span class="c">,</span>
                           <span class="w">RegionTreeID</span> <span class="w">t</span><span class="pc">r</span><span class="c">ee_id</span><span class="pc">,</span> <span class="w">E</span><span class="c">vent</span> <span class="w">start_event</span><span class="pc">,</span>
                           <span class="w">E</span><span class="c">vent</span> <span class="w">termination_event</span><span class="pc">,</span>
                           <span class="w">s</span><span class="pc">t</span><span class="c">d::</span><span class="w">string</span> <span class="w">f</span><span class="pc">ields</span><span class="c">,</span> <span class="w">R</span><span class="c">eductionOpID</span> <span class="w">r</span><span class="pc">edop</span><span class="w">) :</span>
            <span class="w">sr</span><span class="c">c_instance</span><span class="pc">(</span><span class="w">s</span><span class="pc">r</span><span class="c">c_instance</span><span class="pc">),</span> <span class="w">d</span><span class="pc">st_</span><span class="c">instance(</span><span class="w">d</span><span class="c">st_instance</span><span class="pc">),</span> <span class="w">i</span><span class="c">ndex_handle(</span>
                <span class="pc">i</span><span class="c">ndex_handle</span><span class="pc">),</span> <span class="c">field_handle(field_handle</span><span class="pc">)</span><span class="c">,</span> <span class="w">tr</span><span class="c">ee_id(</span><span class="w">tr</span><span class="c">ee_id</span><span class="pc">),</span> <span class="w">s</span><span class="pc">ta</span><span class="c">rt_event(</span>
                <span class="w">s</span><span class="c">tart_event),</span> <span class="w">t</span><span class="c">ermination_event(</span><span class="w">t</span><span class="c">ermination_event),</span> <span class="w">fie</span><span class="pc">lds</span><span class="c">(</span>
                <span class="w">fie</span><span class="pc">lds</span><span class="c">),</span> <span class="pc">r</span><span class="c">edop(</span><span class="w">r</span><span class="pc">e</span><span class="c">dop</span><span class="pc">)</span>
        <span class="c">{</span>
        <span class="c">}</span>
      <span class="w">p</span><span class="pc">u</span><span class="c">blic:</span>
        <span class="w">PhysicalInstance</span> <span class="w">s</span><span class="pc">r</span><span class="c">c_instance</span><span class="pc">;</span>
        <span class="w">P</span><span class="c">hysicalInstance</span> <span class="w">d</span><span class="pc">s</span><span class="c">t_instance;</span>
        <span class="w">I</span><span class="c">ndexSpace</span> <span class="w">i</span><span class="pc">nd</span><span class="c">ex_handle;</span>
        <span class="w">F</span><span class="pc">ieldS</span><span class="c">pace</span> <span class="w">f</span><span class="pc">ie</span><span class="c">ld_handle;</span>
        <span class="w">RegionTreeID</span> <span class="w">tr</span><span class="pc">e</span><span class="c">e_id;</span>
        <span class="w">E</span><span class="c">vent</span> <span class="w">st</span><span class="pc">art_</span><span class="c">event;</span>
        <span class="pc">E</span><span class="c">vent</span> <span class="w">t</span><span class="c">ermination_event;</span>
        <span class="w">s</span><span class="pc">td</span><span class="c">::</span><span class="w">string</span> <span class="w">fi</span><span class="pc">elds</span><span class="c">;</span>
        <span class="w">R</span><span class="pc">ed</span><span class="c">uctionOpID</span> <span class="w">r</span><span class="pc">edop</span><span class="c">;</span>
      <span class="c">};</span>

      <span class="pc">s</span><span class="c">truct</span> <span class="w">LogMsgLowlevelCopyAssoc</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="c">LogMsgLowlevelCopyAssoc(</span><span class="w">E</span><span class="pc">vent</span> <span class="w">highlevel_end_event</span><span class="c">,</span> <span class="w">E</span><span class="c">vent</span> <span class="w">lowlevel_end_event</span><span class="c">,</span> <span class="c">unsigned</span> <span class="w">channel_id) :</span>
            <span class="w">h</span><span class="c">ighlevel_end_event</span><span class="w">(h</span><span class="c">ighlevel_end_event</span><span class="w">)</span><span class="pc">,</span> <span class="w">l</span><span class="c">owlevel_end_event</span><span class="pc">(</span><span class="w">l</span><span class="c">owlevel_end_event</span><span class="pc">),</span> <span class="w">c</span><span class="c">hannel_id</span><span class="pc">(</span><span class="c">channel_id</span><span class="pc">)</span>
        <span class="c">{</span>
        <span class="c">}</span>
      <span class="w">p</span><span class="pc">u</span><span class="c">blic:</span>
        <span class="w">E</span><span class="pc">v</span><span class="c">ent</span> <span class="w">h</span><span class="c">ighlevel_end_event</span><span class="pc">;</span>
        <span class="pc">E</span><span class="c">vent</span> <span class="w">l</span><span class="pc">ow</span><span class="c">level_end_event;</span>
        <span class="pc">u</span><span class="c">nsigned</span> <span class="pc">c</span><span class="c">hannel_id;</span>
      <span class="c">};</span>

      <span class="pc">str</span><span class="c">uct</span> <span class="w">LogMsgLowlevelCopyChannel</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="c">LogMsgLowlevelCopyChannel(</span><span class="w">u</span><span class="c">nsigned</span> <span class="pc">id</span><span class="c">,</span> <span class="pc">c</span><span class="c">onst</span> <span class="c">char*</span> <span class="c">name</span><span class="w">) :</span>
            <span class="w">id</span><span class="pc">(</span><span class="w">id</span><span class="pc">),</span> <span class="w">n</span><span class="pc">a</span><span class="c">me(</span><span class="w">n</span><span class="pc">a</span><span class="c">me)</span>
        <span class="c">{</span>
        <span class="pc">}</span>
      <span class="w">p</span><span class="c">ublic:</span>
        <span class="w">u</span><span class="c">nsigned</span> <span class="w">i</span><span class="pc">d</span><span class="c">;</span>
        <span class="w">c</span><span class="c">onst</span> <span class="c">char*</span> <span class="pc">n</span><span class="c">ame</span><span class="pc">;</span>
      <span class="pc">}</span><span class="c">;</span>

      
      
      

      
      
      <span class="c">struct</span> <span class="w">ProcessorProfiler</span> <span class="c">{</span>
      <span class="c">public:</span>
        <span class="c">ProcessorProfiler</span><span class="w">() {</span>

        <span class="w">}</span>
      <span class="c">public:</span>
        <span class="w">v</span><span class="pc">o</span><span class="c">id</span> <span class="w">add_msg</span><span class="c">(</span><span class="w">c</span><span class="c">onst</span> <span class="w">LogMsgOperation</span> <span class="pc">&amp;</span><span class="w">m</span><span class="pc">s</span><span class="c">g</span><span class="w">)</span><span class="pc"> {</span> <span class="w">msgs_operation.p</span><span class="c">ush_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
        <span class="w">v</span><span class="pc">o</span><span class="c">id</span> <span class="w">a</span><span class="c">dd_msg(</span><span class="pc">c</span><span class="c">onst</span> <span class="w">LogMsgTaskOperation</span> <span class="c">&amp;</span><span class="w">m</span><span class="pc">sg</span><span class="w">)</span><span class="pc"> </span><span class="c">{</span> <span class="w">msgs_task_operation.</span><span class="c">push_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
        <span class="w">v</span><span class="c">oid</span> <span class="w">a</span><span class="c">dd_msg(const</span> <span class="w">LogMsgTaskInstanceVariant</span> <span class="c">&amp;</span><span class="w">ms</span><span class="pc">g</span><span class="w">)</span><span class="pc"> </span><span class="c">{</span> <span class="w">msgs_task_instance_variant</span><span class="pc">.</span><span class="c">push_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
        <span class="w">v</span><span class="c">oid</span> <span class="w">a</span><span class="c">dd_msg(const</span> <span class="w">LogMsgIndexSlice</span> <span class="c">&amp;</span><span class="w">ms</span><span class="pc">g</span><span class="w">)</span><span class="pc"> </span><span class="c">{</span> <span class="w">msgs_index_slice</span><span class="pc">.</span><span class="c">push_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
        <span class="w">v</span><span class="c">oid</span> <span class="w">a</span><span class="c">dd_msg(const</span> <span class="w">LogMsgSliceSlice</span> <span class="c">&amp;</span><span class="w">ms</span><span class="pc">g</span><span class="w">)</span><span class="pc"> </span><span class="c">{</span> <span class="w">msgs_slice_slice</span><span class="pc">.</span><span class="c">push_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
        <span class="w">v</span><span class="c">oid</span> <span class="w">a</span><span class="c">dd_msg(const</span> <span class="w">LogMsgPointPoint</span> <span class="c">&amp;</span><span class="w">ms</span><span class="pc">g</span><span class="w">)</span><span class="pc"> </span><span class="c">{</span> <span class="w">msgs_point_point</span><span class="pc">.</span><span class="c">push_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
        <span class="w">v</span><span class="c">oid</span> <span class="w">a</span><span class="c">dd_msg(const</span> <span class="w">LogMsgSlicePoint</span> <span class="c">&amp;</span><span class="w">ms</span><span class="pc">g</span><span class="w">)</span><span class="pc"> </span><span class="c">{</span> <span class="w">msgs_slice_point</span><span class="pc">.</span><span class="c">push_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
        <span class="w">v</span><span class="c">oid</span> <span class="w">a</span><span class="c">dd_msg(const</span> <span class="w">LogMsgOperationTiming</span> <span class="c">&amp;</span><span class="w">ms</span><span class="pc">g</span><span class="w">)</span><span class="pc"> </span><span class="c">{</span> <span class="w">msgs_operation_timing</span><span class="pc">.</span><span class="c">push_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
        <span class="w">v</span><span class="c">oid</span> <span class="w">a</span><span class="c">dd_msg(const</span> <span class="w">LogMsgEventTiming</span> <span class="c">&amp;</span><span class="w">ms</span><span class="pc">g</span><span class="w">)</span><span class="pc"> </span><span class="c">{</span> <span class="w">msgs_event_timing</span><span class="pc">.</span><span class="c">push_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
        <span class="w">v</span><span class="c">oid</span> <span class="w">a</span><span class="c">dd_msg(const</span> <span class="w">LogMsgFutureWait</span> <span class="c">&amp;</span><span class="w">ms</span><span class="pc">g</span><span class="w">)</span><span class="pc"> </span><span class="c">{</span> <span class="w">msgs_future_wait</span><span class="pc">.</span><span class="c">push_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
        <span class="w">v</span><span class="c">oid</span> <span class="w">a</span><span class="c">dd_msg(const</span> <span class="w">LogMsgInlineWait</span> <span class="c">&amp;</span><span class="w">ms</span><span class="pc">g</span><span class="w">)</span><span class="pc"> </span><span class="c">{</span> <span class="w">msgs_inline_wait</span><span class="pc">.</span><span class="c">push_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
        <span class="w">v</span><span class="c">oid</span> <span class="w">a</span><span class="c">dd_msg(const</span> <span class="w">LogMsgTopIndexSpace</span> <span class="c">&amp;</span><span class="w">ms</span><span class="pc">g</span><span class="w">)</span><span class="pc"> </span><span class="c">{</span> <span class="w">msgs_top_index_space</span><span class="pc">.</span><span class="c">push_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
        <span class="w">v</span><span class="c">oid</span> <span class="w">a</span><span class="c">dd_msg(const</span> <span class="w">LogMsgIndexPartition</span> <span class="c">&amp;</span><span class="w">ms</span><span class="pc">g</span><span class="w">)</span><span class="pc"> </span><span class="c">{</span> <span class="w">msgs_index_partition</span><span class="pc">.</span><span class="c">push_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
        <span class="w">v</span><span class="c">oid</span> <span class="w">a</span><span class="c">dd_msg(const</span> <span class="w">LogMsgIndexSubspace</span> <span class="c">&amp;</span><span class="w">ms</span><span class="pc">g</span><span class="w">)</span><span class="pc"> </span><span class="c">{</span> <span class="w">msgs_index_subspace</span><span class="pc">.</span><span class="c">push_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
        <span class="w">v</span><span class="c">oid</span> <span class="w">a</span><span class="c">dd_msg(const</span> <span class="w">LogMsgFieldSpace</span> <span class="c">&amp;</span><span class="w">ms</span><span class="pc">g</span><span class="w">)</span><span class="pc"> </span><span class="c">{</span> <span class="w">msgs_field_space</span><span class="pc">.</span><span class="c">push_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
        <span class="w">v</span><span class="c">oid</span> <span class="w">a</span><span class="c">dd_msg(const</span> <span class="w">LogMsgFieldCreation</span> <span class="c">&amp;</span><span class="w">ms</span><span class="pc">g</span><span class="w">)</span><span class="pc"> </span><span class="c">{</span> <span class="w">msgs_field_creation</span><span class="pc">.</span><span class="c">push_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
        <span class="w">v</span><span class="c">oid</span> <span class="w">a</span><span class="c">dd_msg(const</span> <span class="w">LogMsgTopRegion</span> <span class="c">&amp;</span><span class="w">ms</span><span class="pc">g</span><span class="w">)</span><span class="pc"> </span><span class="c">{</span> <span class="w">msgs_top_region</span><span class="pc">.</span><span class="c">push_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
        <span class="w">v</span><span class="c">oid</span> <span class="w">a</span><span class="c">dd_msg(const</span> <span class="w">LogMsgLogicalRequirement</span> <span class="c">&amp;</span><span class="w">ms</span><span class="pc">g</span><span class="w">)</span><span class="pc"> </span><span class="c">{</span> <span class="w">msgs_logical_requirement</span><span class="pc">.</span><span class="c">push_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
        <span class="w">v</span><span class="c">oid</span> <span class="w">a</span><span class="c">dd_msg(const</span> <span class="w">LogMsgRequirementFields</span> <span class="c">&amp;</span><span class="w">ms</span><span class="pc">g</span><span class="w">)</span><span class="pc"> </span><span class="c">{</span> <span class="w">msgs_requirement_fields</span><span class="pc">.</span><span class="c">push_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
        <span class="w">v</span><span class="c">oid</span> <span class="w">a</span><span class="c">dd_msg(const</span> <span class="w">LogMsgMappingDependence</span> <span class="c">&amp;</span><span class="w">ms</span><span class="pc">g</span><span class="w">)</span><span class="pc"> </span><span class="c">{</span> <span class="w">msgs_mapping_dependence</span><span class="pc">.</span><span class="c">push_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
        <span class="w">v</span><span class="c">oid</span> <span class="w">a</span><span class="c">dd_msg(const</span> <span class="w">LogMsgTaskInstanceRequirement</span> <span class="c">&amp;</span><span class="w">ms</span><span class="pc">g</span><span class="w">)</span><span class="pc"> </span><span class="c">{</span> <span class="w">msgs_task_instance_requirement</span><span class="pc">.</span><span class="c">push_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
        <span class="w">v</span><span class="c">oid</span> <span class="w">a</span><span class="c">dd_msg(const</span> <span class="w">LogMsgEventDependency</span> <span class="c">&amp;</span><span class="w">ms</span><span class="pc">g</span><span class="w">)</span><span class="pc"> </span><span class="c">{</span> <span class="w">msgs_event_dependency</span><span class="pc">.</span><span class="c">push_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
        <span class="w">v</span><span class="c">oid</span> <span class="w">a</span><span class="c">dd_msg(const</span> <span class="w">LogMsgOperationEvents</span> <span class="c">&amp;</span><span class="w">ms</span><span class="pc">g</span><span class="w">)</span><span class="pc"> </span><span class="c">{</span> <span class="w">msgs_operation_events</span><span class="pc">.</span><span class="c">push_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
        <span class="w">v</span><span class="c">oid</span> <span class="w">a</span><span class="c">dd_msg(const</span> <span class="w">LogMsgPhysicalInstance</span> <span class="c">&amp;</span><span class="w">ms</span><span class="pc">g</span><span class="w">)</span><span class="pc"> </span><span class="c">{</span> <span class="w">msgs_physical_instance</span><span class="pc">.</span><span class="c">push_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
        <span class="w">v</span><span class="c">oid</span> <span class="w">a</span><span class="c">dd_msg(const</span> <span class="w">LogMsgPhysicalUser</span> <span class="c">&amp;</span><span class="w">ms</span><span class="pc">g</span><span class="w">)</span><span class="pc"> </span><span class="c">{</span> <span class="w">msgs_phyiscal_user</span><span class="pc">.</span><span class="c">push_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
        <span class="w">v</span><span class="c">oid</span> <span class="w">a</span><span class="c">dd_msg(const</span> <span class="w">LogMsgLowlevelCopy</span> <span class="c">&amp;</span><span class="w">ms</span><span class="pc">g</span><span class="w">)</span><span class="pc"> </span><span class="c">{</span> <span class="w">msgs_lowlevel_copy</span><span class="pc">.</span><span class="c">push_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
        <span class="w">v</span><span class="c">oid</span> <span class="w">a</span><span class="c">dd_msg(const</span> <span class="w">LogMsgLowlevelCopyAssoc</span> <span class="c">&amp;</span><span class="w">ms</span><span class="pc">g</span><span class="w">)</span><span class="pc"> </span><span class="c">{</span> <span class="w">msgs_lowlevel_copy_assoc</span><span class="pc">.</span><span class="c">push_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
        <span class="w">v</span><span class="c">oid</span> <span class="w">a</span><span class="c">dd_msg(const</span> <span class="w">LogMsgLowlevelCopyChannel</span> <span class="c">&amp;</span><span class="w">ms</span><span class="pc">g</span><span class="w">)</span><span class="pc"> </span><span class="c">{</span> <span class="w">msgs_lowlevel_copy_channel</span><span class="pc">.</span><span class="c">push_back(</span><span class="w">ms</span><span class="pc">g</span><span class="w">);</span><span class="pc"> </span><span class="c">}</span>
      <span class="w">p</span><span class="pc">r</span><span class="c">ivate</span><span class="pc">:</span>
        
        <span class="w">ProcessorProfiler</span><span class="c">(</span><span class="w">c</span><span class="c">onst</span> <span class="w">P</span><span class="pc">roc</span><span class="c">essorProfiler&amp;</span> <span class="w">copy_from)</span><span class="pc"> </span><span class="c">{</span><span class="w">a</span><span class="pc">s</span><span class="c">sert(</span><span class="w">f</span><span class="c">alse</span><span class="w">);}</span>
        <span class="w">P</span><span class="c">rocessorProfiler</span><span class="w">&amp;</span> <span class="w">o</span><span class="pc">p</span><span class="c">erator</span><span class="pc">=</span><span class="c">(const</span> <span class="w">P</span><span class="pc">roc</span><span class="c">essorProfiler&amp;</span> <span class="w">c</span><span class="c">opy_from</span><span class="pc">) </span><span class="c">{</span><span class="w">a</span><span class="pc">s</span><span class="c">sert(</span><span class="w">f</span><span class="c">alse</span><span class="w">);</span><span class="pc">}</span>
      <span class="w">pu</span><span class="c">blic:</span>
        <span class="w">P</span><span class="pc">rocessor</span> <span class="w">p</span><span class="pc">r</span><span class="c">oc;</span>
        <span class="pc">s</span><span class="c">td::</span><span class="pc">d</span><span class="c">eque&lt;</span><span class="w">LogMsgOperation</span><span class="c">&gt;</span> <span class="w">msgs_operation</span><span class="c">;</span>
        <span class="pc">s</span><span class="c">td::</span><span class="pc">d</span><span class="c">eque&lt;</span><span class="w">LogMsgTaskOperation</span><span class="c">&gt;</span> <span class="w">msgs_task_operation</span><span class="c">;</span>
        <span class="c">std::</span><span class="pc">d</span><span class="c">eque&lt;</span><span class="w">LogMsgTaskInstanceVariant</span><span class="c">&gt;</span> <span class="w">msgs_task_instance_variant</span><span class="c">;</span>
        <span class="c">std::deque&lt;</span><span class="w">LogMsgIndexSlice</span><span class="c">&gt;</span> <span class="w">msgs_index_slice</span><span class="c">;</span>
        <span class="c">std::deque&lt;</span><span class="w">LogMsgSliceSlice</span><span class="c">&gt;</span> <span class="w">msgs_slice_slice</span><span class="c">;</span>
        <span class="c">std::deque&lt;</span><span class="w">LogMsgPointPoint</span><span class="c">&gt;</span> <span class="w">msgs_point_point</span><span class="c">;</span>  
        <span class="c">std::deque&lt;</span><span class="w">LogMsgSlicePoint</span><span class="c">&gt;</span> <span class="w">msgs_slice_point</span><span class="c">;</span>
        <span class="c">std::deque&lt;</span><span class="w">LogMsgOperationTiming</span><span class="c">&gt;</span> <span class="w">msgs_operation_timing</span><span class="c">;</span>
        <span class="c">std::deque&lt;</span><span class="w">LogMsgEventTiming</span><span class="c">&gt;</span> <span class="w">msgs_event_timing</span><span class="c">;</span>
        <span class="c">std::deque&lt;</span><span class="w">LogMsgFutureWait</span><span class="c">&gt;</span> <span class="w">msgs_future_wait</span><span class="c">;</span>
        <span class="c">std::deque&lt;</span><span class="w">LogMsgInlineWait</span><span class="c">&gt;</span> <span class="w">msgs_inline_wait</span><span class="c">;</span>
        <span class="c">std::deque&lt;</span><span class="w">LogMsgTopIndexSpace</span><span class="c">&gt;</span> <span class="w">msgs_top_index_space</span><span class="c">;</span>
        <span class="c">std::deque&lt;</span><span class="w">LogMsgIndexPartition</span><span class="c">&gt;</span> <span class="w">msgs_index_partition</span><span class="c">;</span>
        <span class="c">std::deque&lt;</span><span class="w">LogMsgIndexSubspace</span><span class="c">&gt;</span> <span class="w">msgs_index_subspace</span><span class="c">;</span>
        <span class="c">std::deque&lt;</span><span class="w">LogMsgFieldSpace</span><span class="c">&gt;</span> <span class="w">msgs_field_space</span><span class="c">;</span>
        <span class="c">std::deque&lt;</span><span class="w">LogMsgFieldCreation</span><span class="c">&gt;</span> <span class="w">msgs_field_creation</span><span class="c">;</span>
        <span class="c">std::deque&lt;</span><span class="w">LogMsgTopRegion</span><span class="c">&gt;</span> <span class="w">msgs_top_region</span><span class="c">;</span>
        <span class="c">std::deque&lt;</span><span class="w">LogMsgLogicalRequirement</span><span class="c">&gt;</span> <span class="w">msgs_logical_requirement</span><span class="c">;</span>
        <span class="c">std::deque&lt;</span><span class="w">LogMsgRequirementFields</span><span class="c">&gt;</span> <span class="w">msgs_requirement_fields</span><span class="c">;</span>
        <span class="c">std::deque&lt;</span><span class="w">LogMsgMappingDependence</span><span class="c">&gt;</span> <span class="w">msgs_mapping_dependence</span><span class="c">;</span>
        <span class="c">std::deque&lt;</span><span class="w">LogMsgTaskInstanceRequirement</span><span class="c">&gt;</span> <span class="w">msgs_task_instance_requirement</span><span class="c">;</span>
        <span class="c">std::deque&lt;</span><span class="w">LogMsgEventDependency</span><span class="c">&gt;</span> <span class="w">msgs_event_dependency</span><span class="c">;</span>
        <span class="c">std::deque&lt;</span><span class="w">LogMsgOperationEvents</span><span class="c">&gt;</span> <span class="w">msgs_operation_events</span><span class="c">;</span>
        <span class="c">std::deque&lt;</span><span class="w">LogMsgPhysicalInstance</span><span class="c">&gt;</span> <span class="w">msgs_physical_instance</span><span class="c">;</span>
        <span class="c">std::deque&lt;</span><span class="w">LogMsgPhysicalUser</span><span class="c">&gt;</span> <span class="w">msgs_phyiscal_user</span><span class="c">;</span>
        <span class="c">std::deque&lt;</span><span class="w">LogMsgLowlevelCopy</span><span class="c">&gt;</span> <span class="w">msgs_lowlevel_copy</span><span class="c">;</span>
        <span class="c">std::deque&lt;</span><span class="w">LogMsgLowlevelCopyAssoc</span><span class="c">&gt;</span> <span class="w">msgs_lowlevel_copy_assoc</span><span class="c">;</span>
        <span class="c">std::deque&lt;</span><span class="w">LogMsgLowlevelCopyChannel</span><span class="c">&gt;</span> <span class="w">msgs_lowlevel_copy_channel</span><span class="c">;</span>
      <span class="pc">}</span><span class="c">;</span>

      <span class="w">e</span><span class="pc">x</span><span class="c">tern</span> <span class="w">L</span><span class="pc">ogg</span><span class="c">er::</span><span class="w">Category</span> <span class="w">log_logging</span><span class="c">;</span>
      
      <span class="w">e</span><span class="pc">x</span><span class="c">tern</span> <span class="pc">s</span><span class="c">td::</span><span class="w">l</span><span class="c">ist&lt;</span><span class="w">ProcessorProfiler</span> <span class="pc">*</span><span class="c">&gt;</span> <span class="w">processor_profilers</span><span class="c">;</span>
      <span class="w">e</span><span class="pc">x</span><span class="c">tern</span> <span class="w">pthread_key_t</span> <span class="w">pthread_profiler_key;</span>
      <span class="w">e</span><span class="pc">xt</span><span class="c">ern</span> <span class="w">pthread_mutex_t</span> <span class="w">profiler_mutex</span><span class="pc">;</span>
      
      <span class="w">e</span><span class="pc">x</span><span class="c">tern</span> <span class="w">s</span><span class="c">td::</span><span class="pc">d</span><span class="c">eque&lt;</span><span class="w">LogMsgProcessor</span><span class="c">&gt;</span> <span class="w">msgs_processor</span><span class="c">;</span>
      <span class="w">e</span><span class="pc">x</span><span class="c">tern</span> <span class="w">s</span><span class="pc">td</span><span class="c">::deque&lt;</span><span class="w">LogMsgMemory&gt;</span> <span class="w">msgs_memory</span><span class="c">;</span>
      <span class="w">e</span><span class="pc">x</span><span class="c">tern</span> <span class="w">s</span><span class="pc">td</span><span class="c">::</span><span class="pc">d</span><span class="c">eque&lt;</span><span class="w">LogMsgProcMemAffinity&gt;</span> <span class="w">msgs_proc_mem_affinity</span><span class="c">;</span>
      <span class="w">e</span><span class="pc">x</span><span class="c">tern</span> <span class="w">s</span><span class="pc">td</span><span class="c">::</span><span class="pc">d</span><span class="c">eque&lt;</span><span class="w">LogMsgMemMemAffinity</span><span class="pc">&gt;</span> <span class="w">msgs_mem_mem_affinity</span><span class="c">;</span>
      <span class="w">e</span><span class="pc">x</span><span class="c">tern</span> <span class="w">s</span><span class="pc">td</span><span class="c">::</span><span class="pc">d</span><span class="c">eque&lt;</span><span class="w">LogMsgTaskCollection&gt;</span> <span class="w">msgs_task_collection</span><span class="c">;</span>
      <span class="w">e</span><span class="pc">x</span><span class="c">tern</span> <span class="w">s</span><span class="pc">td</span><span class="c">::</span><span class="pc">d</span><span class="c">eque&lt;</span><span class="w">LogMsgTaskVariant&gt;</span> <span class="w">msgs_task_variant</span><span class="c">;</span>
      <span class="w">e</span><span class="pc">x</span><span class="c">tern</span> <span class="w">s</span><span class="pc">td</span><span class="c">::</span><span class="pc">d</span><span class="c">eque&lt;</span><span class="w">LogMsgTopLevelTask&gt;</span> <span class="w">msgs_top_level_task</span><span class="c">;</span>
      <span class="w">e</span><span class="pc">x</span><span class="c">tern</span> <span class="w">u</span><span class="pc">n</span><span class="c">signed</span> <span class="w">l</span><span class="c">ong</span> <span class="w">l</span><span class="c">ong</span> <span class="w">init_time</span><span class="c">;</span>
      <span class="w">e</span><span class="pc">x</span><span class="c">tern</span> <span class="w">A</span><span class="pc">d</span><span class="c">dressSpaceID</span> <span class="w">address_space</span><span class="c">;</span>

      <span class="pc">sta</span><span class="c">tic</span> <span class="w">inl</span><span class="c">ine</span> <span class="w">ProcessorProfiler&amp;</span> <span class="w">get_profiler()</span>
      <span class="pc">{</span>
        <span class="w">P</span><span class="c">rocessorProfiler</span> <span class="w">*profiler</span> <span class="w">=</span><span class="pc"> </span><span class="c">(</span><span class="w">P</span><span class="pc">rocessorP</span><span class="c">rofiler</span><span class="pc">*</span><span class="c">)</span> <span class="w">pthread_getspecific</span><span class="pc">(</span><span class="w">pthread_profiler_key</span><span class="pc">)</span><span class="c">;</span>
        <span class="pc">i</span><span class="c">f</span><span class="pc">(!p</span><span class="c">rofiler</span><span class="pc">) </span><span class="c">{</span>
          <span class="w">p</span><span class="pc">r</span><span class="c">ofiler</span> <span class="pc">=</span> <span class="w">n</span><span class="c">ew</span> <span class="c">ProcessorProfiler</span><span class="w">()</span><span class="pc">;</span>
          <span class="w">pthread_setspecific</span><span class="c">(</span><span class="w">p</span><span class="pc">t</span><span class="c">hread_profiler_key,</span> <span class="c">profiler</span><span class="pc">)</span><span class="c">;</span>
          <span class="w">pthread_mutex_lock(</span><span class="pc">&amp;</span><span class="w">profiler_mutex</span><span class="pc">)</span><span class="c">;</span>
          
          <span class="w">processor_profilers</span><span class="pc">.</span><span class="c">push_back(profiler);</span>
          <span class="w">pthread_mutex_unlock(</span><span class="pc">&amp;</span><span class="w">pr</span><span class="pc">ofiler_</span><span class="c">mutex);</span>
        <span class="c">}</span>
        <span class="w">r</span><span class="c">eturn</span> <span class="w">*p</span><span class="pc">rofiler</span><span class="c">;</span>
      <span class="c">}</span>

      
      
      
      
      <span class="w">s</span><span class="pc">t</span><span class="c">atic</span> <span class="c">void</span> <span class="w">initialize_legion_logging</span><span class="c">(</span><span class="w">A</span><span class="c">ddressSpaceID</span> <span class="w">sid</span><span class="c">,</span>
                                            <span class="pc">c</span><span class="c">onst</span> <span class="w">Pr</span><span class="pc">ocessor</span> <span class="w">processor</span><span class="pc">)</span>
      <span class="c">{</span>
        <span class="w">f</span><span class="c">or(</span><span class="pc">st</span><span class="c">d::</span><span class="pc">d</span><span class="c">eque&lt;</span><span class="w">LogMsgProcessor</span><span class="pc">&gt;</span><span class="c">::iterator</span> <span class="pc">i</span><span class="c">t</span> <span class="c">=</span> <span class="w">msgs_processor</span><span class="c">.begin();</span> <span class="c">it</span> <span class="c">!=</span> <span class="c">msgs_processor.end</span><span class="w">(); ++</span><span class="c">it</span><span class="pc">)</span><span class="c"> {</span>
          <span class="c">if</span> <span class="c">(it</span><span class="pc">-</span><span class="c">&gt;</span><span class="w">pr</span><span class="pc">oc.id</span> <span class="w">=</span><span class="pc">=</span> <span class="w">p</span><span class="pc">ro</span><span class="c">cessor</span><span class="pc">.i</span><span class="c">d</span> <span class="w">&amp;&amp;</span> <span class="c">it</span><span class="pc">-</span><span class="c">&gt;</span><span class="w">address_space</span> <span class="w">=</span><span class="pc">=</span> <span class="w">sid</span><span class="pc">)</span>
            <span class="pc">r</span><span class="c">eturn;</span> 
        <span class="c">}</span>
        <span class="w">ProcessorProfiler</span> <span class="w">&amp;p</span> <span class="pc">=</span> <span class="w">get_profiler(</span><span class="pc">)</span><span class="c">;</span>
        <span class="pc">m</span><span class="c">sgs_processor.</span><span class="w">p</span><span class="c">ush_back(</span><span class="w">LogMsgProcessor</span><span class="pc">(</span><span class="w">s</span><span class="c">id</span><span class="pc">,</span> <span class="w">p</span><span class="pc">r</span><span class="c">ocessor</span><span class="pc">))</span><span class="c">;</span>
      <span class="c">}</span>
      
      
      <span class="w">s</span><span class="c">tatic</span> <span class="pc">v</span><span class="c">oid</span> <span class="w">initialize_legion_logging</span><span class="c">(</span><span class="w">A</span><span class="pc">d</span><span class="c">dressSpaceID</span> <span class="w">s</span><span class="pc">id</span><span class="c">,</span>
                                        <span class="w">c</span><span class="c">onst</span> <span class="pc">s</span><span class="c">td::</span><span class="w">s</span><span class="c">et&lt;</span><span class="w">P</span><span class="pc">rocessor</span><span class="c">&gt; &amp;</span><span class="w">processors</span><span class="c">)</span>
      <span class="c">{</span>
        <span class="w">init_time</span> <span class="w">=</span> <span class="w">TimeStamp:</span><span class="c">:</span><span class="w">get_current_time_in_micros(</span><span class="pc">)</span><span class="c">;</span>
        <span class="w">address_space</span> <span class="c">=</span> <span class="w">s</span><span class="c">id</span><span class="pc">;</span>
        <span class="w">pthread_key_create(</span><span class="pc">&amp;</span><span class="w">pthread_profiler_key</span><span class="pc">,</span> <span class="w">N</span><span class="c">ULL);</span>
        <span class="pc">f</span><span class="c">or(</span><span class="pc">st</span><span class="c">d::set&lt;</span><span class="pc">P</span><span class="c">rocessor&gt;::</span><span class="pc">i</span><span class="c">terator</span> <span class="c">it</span> <span class="c">=</span> <span class="pc">p</span><span class="c">rocessors.begin();</span> <span class="c">it</span> <span class="c">!=</span> <span class="w">p</span><span class="pc">r</span><span class="c">ocessors.end</span><span class="w">(); ++</span><span class="c">it</span><span class="w">)</span>
        <span class="c">{</span>
          <span class="w">initialize_legion_logging(s</span><span class="c">id</span><span class="w">,</span><span class="pc"> </span><span class="c">*</span><span class="pc">i</span><span class="c">t);</span>
        <span class="c">}</span>
      <span class="pc">}</span>
      
      
      <span class="w">s</span><span class="pc">ta</span><span class="c">tic</span> <span class="c">void</span> <span class="w">finalize_legion_logging</span><span class="c">(</span><span class="w">c</span><span class="pc">o</span><span class="c">nst</span> <span class="pc">s</span><span class="c">td::set&lt;Processor</span><span class="pc">&gt; </span><span class="c">&amp;</span><span class="w">pr</span><span class="pc">o</span><span class="c">cessors</span><span class="pc">)</span>
      <span class="c">{</span>
        <span class="w">log_logging</span><span class="pc">.i</span><span class="c">nfo("</span><span class="w">nodeinfo: {\"address_space\": %u, \"init_time\</span><span class="pc">":%</span><span class="w">llu}",</span> <span class="w">a</span><span class="c">ddress_space</span><span class="w">,</span> <span class="pc">in</span><span class="c">it_time</span><span class="pc">)</span><span class="c">;</span>
        
        <span class="w">f</span><span class="pc">o</span><span class="c">r</span> <span class="c">(</span><span class="pc">u</span><span class="c">nsigned</span> <span class="c">idx</span> <span class="c">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">msgs_processor</span><span class="pc">.</span><span class="c">size();</span> <span class="pc">id</span><span class="c">x++)</span>
        <span class="c">{</span>
          <span class="w">LogMsgProcessor</span> <span class="w">&amp;m</span><span class="pc">sg</span> <span class="pc">=</span> <span class="w">m</span><span class="pc">s</span><span class="c">gs_processor</span><span class="pc">[</span><span class="c">idx];</span>
          <span class="w">Ma</span><span class="pc">c</span><span class="c">hine</span> <span class="w">*ma</span><span class="pc">c</span><span class="c">hine</span> <span class="c">=</span> <span class="w">M</span><span class="pc">a</span><span class="c">chine::</span><span class="w">get_machine</span><span class="pc">()</span><span class="c">;</span>
          <span class="w">log_logging</span><span class="pc">.i</span><span class="c">nfo("</span><span class="w">processor: {\"address_space\": %d, \"i</span><span class="pc">d</span><span class="w">\</span><span class="pc">":%</span><span class="w">u,</span><span class="pc"> </span><span class="c">\"</span><span class="w">utility\</span><span class="pc">":%</span><span class="w">u</span><span class="pc">,</span><span class="c"> \"</span><span class="w">k</span><span class="c">ind</span><span class="w">\</span><span class="pc">":%</span><span class="w">d}",</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">a</span><span class="c">ddress_space</span><span class="w">,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">pr</span><span class="pc">oc.</span><span class="c">id,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">pr</span><span class="pc">oc</span><span class="c">.</span><span class="w">get_utility_processor()</span><span class="pc">.i</span><span class="c">d,</span> <span class="w">ma</span><span class="pc">c</span><span class="c">hine</span><span class="pc">-</span><span class="c">&gt;</span><span class="w">get_processor_kind(m</span><span class="pc">s</span><span class="c">g.</span><span class="w">pr</span><span class="pc">o</span><span class="c">c</span><span class="w">)</span><span class="pc">)</span><span class="c">;</span>
        <span class="c">}</span>
        <span class="w">f</span><span class="pc">o</span><span class="c">r</span> <span class="c">(</span><span class="pc">u</span><span class="c">nsigned</span> <span class="c">idx</span> <span class="c">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">msgs_memory</span><span class="c">.size();</span> <span class="c">idx++)</span>
        <span class="c">{</span>
          <span class="w">LogMsgMemory</span> <span class="w">&amp;ms</span><span class="pc">g</span> <span class="pc">=</span> <span class="w">m</span><span class="c">sgs_memory</span><span class="pc">[</span><span class="c">idx];</span>
          <span class="w">log_logging</span><span class="pc">.inf</span><span class="c">o("</span><span class="w">m</span><span class="pc">e</span><span class="c">mory</span><span class="w">: {\"id\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d, \"k</span><span class="c">ind</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d,</span><span class="pc"> </span><span class="c">\"</span><span class="w">capacity\</span><span class="pc">"</span><span class="c">:%</span><span class="w">l</span><span class="pc">d</span><span class="w">}",</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">me</span><span class="pc">m</span><span class="c">.id</span><span class="pc">,</span> <span class="w">ms</span><span class="pc">g</span><span class="c">.</span><span class="w">k</span><span class="c">ind</span><span class="pc">,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">c</span><span class="c">apacity);</span>
        <span class="pc">}</span>
        <span class="w">f</span><span class="c">or</span> <span class="c">(unsigned</span> <span class="c">idx</span> <span class="c">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">msgs_proc_mem_affinity</span><span class="c">.size();</span> <span class="c">idx++)</span>
        <span class="c">{</span>
          <span class="w">LogMsgProcMemAffinity</span> <span class="w">&amp;ms</span><span class="pc">g</span> <span class="pc">=</span> <span class="w">m</span><span class="c">sgs_proc_mem_affinity</span><span class="pc">[</span><span class="c">idx];</span>
          <span class="w">log_logging</span><span class="c">.</span><span class="pc">i</span><span class="c">nfo("</span><span class="w">proc_mem_affinity: {\"pr</span><span class="pc">oc</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">u, \"me</span><span class="pc">m</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d,</span><span class="pc"> </span><span class="c">\"</span><span class="w">bandwidth\</span><span class="pc">"</span><span class="c">:%</span><span class="w">l</span><span class="pc">d</span><span class="c">, \"</span><span class="w">latency\</span><span class="pc">"</span><span class="c">:%</span><span class="w">l</span><span class="pc">d</span><span class="w">}",</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">pr</span><span class="pc">oc</span><span class="c">.id</span><span class="pc">,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">m</span><span class="pc">em</span><span class="c">.id,</span> <span class="w">ms</span><span class="pc">g</span><span class="c">.</span><span class="w">b</span><span class="pc">a</span><span class="c">ndwidth,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">l</span><span class="c">atency</span><span class="pc">)</span><span class="c">;</span>
        <span class="pc">}</span>
        <span class="w">f</span><span class="pc">o</span><span class="c">r</span> <span class="c">(</span><span class="pc">u</span><span class="c">nsigned</span> <span class="c">idx</span> <span class="c">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">msgs_mem_mem_affinity</span><span class="c">.size();</span> <span class="c">idx++)</span>
        <span class="c">{</span>
          <span class="w">LogMsgMemMemAffinity</span> <span class="w">&amp;m</span><span class="pc">sg</span> <span class="pc">=</span> <span class="w">m</span><span class="c">sgs_mem_mem_affinity</span><span class="pc">[</span><span class="c">idx];</span>
          <span class="w">log_logging</span><span class="c">.</span><span class="pc">i</span><span class="c">nfo("</span><span class="w">mem_mem_affinity: {\"mem1\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d, \"mem2\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d,</span><span class="pc"> </span><span class="c">\"</span><span class="w">bandwidth\</span><span class="pc">"</span><span class="c">:%</span><span class="w">l</span><span class="pc">d</span><span class="c">, \"</span><span class="w">latency\</span><span class="pc">"</span><span class="c">:%</span><span class="w">l</span><span class="pc">d</span><span class="w">}",</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="pc">m</span><span class="c">em1</span><span class="pc">.</span><span class="c">id,</span> <span class="w">ms</span><span class="pc">g</span><span class="c">.</span><span class="w">me</span><span class="pc">m2.</span><span class="c">id</span><span class="pc">,</span> <span class="w">ms</span><span class="pc">g</span><span class="c">.</span><span class="w">b</span><span class="pc">a</span><span class="c">ndwidth,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">l</span><span class="c">atency</span><span class="pc">)</span><span class="c">;</span>
        <span class="pc">}</span>
        <span class="w">f</span><span class="c">or</span> <span class="c">(</span><span class="pc">u</span><span class="c">nsigned</span> <span class="c">idx</span> <span class="c">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">msgs_task_collection</span><span class="c">.size();</span> <span class="c">idx++)</span>
        <span class="c">{</span>
          <span class="w">LogMsgTaskCollection</span> <span class="w">&amp;ms</span><span class="pc">g</span> <span class="pc">=</span> <span class="w">m</span><span class="pc">s</span><span class="c">gs_task_collection</span><span class="pc">[</span><span class="c">idx];</span>
          <span class="w">log_logging</span><span class="c">.</span><span class="pc">i</span><span class="c">nfo("</span><span class="w">task_collection: {\"ta</span><span class="pc">sk_i</span><span class="c">d</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d, \"le</span><span class="pc">a</span><span class="c">f</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d,</span><span class="pc"> </span><span class="c">\"</span><span class="w">idempotent\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d</span><span class="pc">, </span><span class="c">\"</span><span class="w">n</span><span class="pc">a</span><span class="c">me</span><span class="w">\":\"%s\"}",</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">t</span><span class="c">ask_id</span><span class="w">,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">l</span><span class="pc">e</span><span class="c">af,</span> <span class="w">ms</span><span class="pc">g</span><span class="c">.</span><span class="w">i</span><span class="pc">de</span><span class="c">mpotent,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">n</span><span class="pc">a</span><span class="c">me</span><span class="pc">)</span><span class="c">;</span>
        <span class="c">}</span>
        <span class="w">f</span><span class="pc">o</span><span class="c">r</span> <span class="c">(</span><span class="pc">u</span><span class="c">nsigned</span> <span class="pc">id</span><span class="c">x</span> <span class="pc">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">msgs_task_variant</span><span class="pc">.</span><span class="c">size();</span> <span class="c">idx++)</span>
        <span class="c">{</span>
          <span class="w">LogMsgTaskVariant</span> <span class="w">&amp;ms</span><span class="pc">g</span> <span class="pc">=</span> <span class="w">m</span><span class="pc">s</span><span class="c">gs_task_variant</span><span class="pc">[</span><span class="c">idx];</span>
          <span class="w">log_logging</span><span class="c">.</span><span class="pc">inf</span><span class="c">o("</span><span class="w">task_variant: {\"ta</span><span class="pc">sk_i</span><span class="c">d</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d, \"proc_kind\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d,</span><span class="pc"> </span><span class="c">\"</span><span class="w">single_task\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d</span><span class="pc">, </span><span class="c">\"</span><span class="w">index_task\</span><span class="pc">"</span><span class="c">:%</span><span class="pc">d</span><span class="c">, \"</span><span class="w">vid\</span><span class="pc">"</span><span class="c">:%</span><span class="w">l</span><span class="pc">d</span><span class="w">}",</span> <span class="w">ms</span><span class="pc">g.</span><span class="w">t</span><span class="pc">a</span><span class="c">sk_id</span><span class="pc">,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">p</span><span class="pc">r</span><span class="c">oc_kind,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">s</span><span class="pc">in</span><span class="c">gle_task,</span> <span class="w">m</span><span class="c">sg.</span><span class="w">i</span><span class="pc">n</span><span class="c">dex_task,</span> <span class="w">m</span><span class="c">sg.</span><span class="pc">v</span><span class="c">id</span><span class="pc">)</span><span class="c">;</span>
        <span class="pc">}</span>
        <span class="w">f</span><span class="pc">o</span><span class="c">r</span> <span class="c">(</span><span class="pc">u</span><span class="c">nsigned</span> <span class="pc">id</span><span class="c">x</span> <span class="c">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">msgs_top_level_task</span><span class="c">.size();</span> <span class="c">idx++)</span>
        <span class="c">{</span>
          <span class="w">LogMsgTopLevelTask</span> <span class="w">&amp;ms</span><span class="pc">g</span> <span class="pc">=</span> <span class="w">m</span><span class="c">sgs_top_level_task</span><span class="pc">[</span><span class="c">idx];</span>
          <span class="w">log_logging</span><span class="c">.</span><span class="pc">inf</span><span class="c">o("</span><span class="w">top_level_task: {\"ta</span><span class="pc">sk_</span><span class="c">id</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d, \"u</span><span class="pc">n</span><span class="c">ique_op_id</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">ll</span><span class="c">d</span><span class="w">}",</span> <span class="w">ms</span><span class="pc">g.</span><span class="w">t</span><span class="pc">a</span><span class="c">sk_id</span><span class="w">,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">u</span><span class="c">nique_op_id</span><span class="pc">)</span><span class="c">;</span>
        <span class="c">}</span>
        
        <span class="w">f</span><span class="pc">o</span><span class="c">r</span> <span class="c">(</span><span class="pc">st</span><span class="c">d::</span><span class="w">l</span><span class="c">ist&lt;</span><span class="w">ProcessorProfiler</span> <span class="pc">*</span><span class="c">&gt;::iterator</span> <span class="c">it=</span><span class="w">processor_profilers</span><span class="c">.begin();</span> <span class="c">it</span> <span class="c">!=</span> <span class="c">processor_profilers.end</span><span class="w">(); ++</span><span class="c">it</span><span class="w">)</span>
        <span class="c">{</span>
          <span class="w">P</span><span class="pc">rocessorP</span><span class="c">rofiler</span> <span class="w">&amp;prof</span> <span class="w">= **</span><span class="pc">i</span><span class="c">t</span><span class="w">;</span>
          <span class="c">for</span> <span class="c">(unsigned</span> <span class="c">idx</span> <span class="c">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">p</span><span class="pc">rof.</span><span class="w">msgs_task_operation</span><span class="pc">.</span><span class="c">size();</span> <span class="c">idx++)</span>
          <span class="c">{</span>
            <span class="w">LogMsgTaskOperation</span> <span class="w">&amp;m</span><span class="pc">sg</span> <span class="pc">=</span> <span class="w">p</span><span class="pc">rof.</span><span class="w">m</span><span class="c">sgs_task_operation</span><span class="pc">[</span><span class="c">idx];</span>
            <span class="w">log_logging</span><span class="c">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o("</span><span class="w">task_operation: {\"processor\</span><span class="pc">"</span><span class="c">:%</span><span class="w">u, \"is_individual\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d,</span><span class="pc"> </span><span class="c">\"</span><span class="w">u</span><span class="pc">n</span><span class="c">ique_op_id</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">ll</span><span class="c">d</span><span class="pc">,</span><span class="c"> \"</span><span class="w">t</span><span class="pc">ask_i</span><span class="c">d</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d,</span><span class="c"> \"</span><span class="w">c</span><span class="c">ontext</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">l</span><span class="pc">l</span><span class="c">d</span><span class="pc">,</span><span class="c"> \"</span><span class="w">time\</span><span class="pc">"</span><span class="c">:%</span><span class="w">l</span><span class="pc">l</span><span class="c">d</span><span class="pc">,</span><span class="c"> \"</span><span class="w">ta</span><span class="pc">g</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">lu}",</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">pr</span><span class="pc">oc.</span><span class="c">id,</span> <span class="w">ms</span><span class="c">g.</span><span class="w">isIndividual</span><span class="pc">,</span> <span class="w">m</span><span class="c">sg.</span><span class="w">u</span><span class="pc">n</span><span class="c">ique_op_id,</span> <span class="w">m</span><span class="c">sg.</span><span class="w">ta</span><span class="pc">s</span><span class="c">k_id</span><span class="pc">,</span> <span class="w">m</span><span class="c">sg.</span><span class="w">c</span><span class="pc">o</span><span class="c">ntext,</span> <span class="w">m</span><span class="c">sg.</span><span class="pc">t</span><span class="c">ime,</span> <span class="w">m</span><span class="c">sg.</span><span class="w">t</span><span class="pc">ag)</span><span class="c">;</span>
          <span class="c">}</span>
          <span class="w">f</span><span class="pc">o</span><span class="c">r</span> <span class="c">(</span><span class="pc">u</span><span class="c">nsigned</span> <span class="c">idx</span> <span class="c">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">prof</span><span class="pc">.</span><span class="w">msgs_operation</span><span class="pc">.</span><span class="c">size();</span> <span class="pc">i</span><span class="c">dx++)</span>
          <span class="c">{</span>
            <span class="w">LogMsgOperation</span> <span class="w">&amp;m</span><span class="pc">sg</span> <span class="pc">=</span> <span class="pc">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">m</span><span class="c">sgs_operation</span><span class="w">[</span><span class="c">idx];</span>
            <span class="w">c</span><span class="pc">on</span><span class="c">st</span> <span class="pc">c</span><span class="c">har</span> <span class="c">*</span> <span class="w">k</span><span class="c">ind</span><span class="pc">;</span>
            <span class="w">s</span><span class="pc">w</span><span class="c">itch</span> <span class="c">(</span><span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">k</span><span class="c">ind)</span>
            <span class="c">{</span>
              <span class="pc">c</span><span class="c">ase</span> <span class="w">MAPPING_OPERATION</span><span class="c">:</span> <span class="w">k</span><span class="c">ind</span> <span class="w">= "</span><span class="pc">M</span><span class="c">APPING_OPERATION</span><span class="w">"</span><span class="pc">;</span> <span class="w">b</span><span class="pc">r</span><span class="c">eak;</span>
              <span class="w">c</span><span class="c">ase</span> <span class="w">COPY_OPERATION</span><span class="c">:</span> <span class="w">k</span><span class="c">ind</span> <span class="w">=</span><span class="pc"> "</span><span class="w">C</span><span class="c">OPY_OPERATION</span><span class="w">"</span><span class="pc">;</span> <span class="w">b</span><span class="c">reak;</span>
              <span class="pc">c</span><span class="c">ase</span> <span class="w">FENCE_OPERATION</span><span class="c">:</span> <span class="w">k</span><span class="c">ind</span> <span class="pc">=</span><span class="c"> "</span><span class="pc">F</span><span class="c">ENCE_OPERATION</span><span class="w">"</span><span class="pc">;</span> <span class="w">b</span><span class="c">reak;</span>
              <span class="pc">c</span><span class="c">ase</span> <span class="w">DELETION_OPERATION</span><span class="c">:</span> <span class="w">k</span><span class="c">ind</span> <span class="w">=</span><span class="pc"> "D</span><span class="c">ELETION_OPERATION</span><span class="w">"</span><span class="pc">;</span> <span class="w">b</span><span class="c">reak;</span>
              <span class="pc">c</span><span class="c">ase</span> <span class="w">CLOSE_OPERATION</span><span class="c">:</span> <span class="w">k</span><span class="c">ind</span> <span class="c">= "</span><span class="w">C</span><span class="pc">L</span><span class="c">OSE_OPERATION</span><span class="w">"</span><span class="pc">;</span> <span class="w">b</span><span class="c">reak;</span>
              <span class="pc">d</span><span class="c">efault</span><span class="pc">:</span> <span class="w">k</span><span class="c">ind</span> <span class="w">=</span><span class="pc"> "</span><span class="w">UNKNOWN_OPERATION"</span><span class="pc">;</span> <span class="w">b</span><span class="c">reak;</span>
            <span class="c">}</span>
            <span class="w">log_logging</span><span class="c">.</span><span class="pc">i</span><span class="c">nfo("</span><span class="w">operation: {\"processor\</span><span class="pc">"</span><span class="c">:%</span><span class="w">u, \"k</span><span class="c">ind</span><span class="w">\":\"%s\", \"u</span><span class="pc">n</span><span class="c">ique_op_id</span><span class="w">\</span><span class="pc">":%</span><span class="w">l</span><span class="pc">l</span><span class="c">d</span><span class="w">,</span><span class="pc"> </span><span class="c">\"</span><span class="w">c</span><span class="pc">on</span><span class="c">text</span><span class="w">\</span><span class="pc">":%</span><span class="w">l</span><span class="pc">l</span><span class="c">d</span><span class="pc">,</span><span class="c"> \"</span><span class="w">time\</span><span class="pc">":%</span><span class="w">l</span><span class="pc">l</span><span class="c">d</span><span class="w">}",</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">pr</span><span class="pc">oc</span><span class="c">.id</span><span class="pc">,</span> <span class="w">k</span><span class="c">ind</span><span class="pc">,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">u</span><span class="c">nique_op_id,</span> <span class="w">m</span><span class="c">sg.</span><span class="w">c</span><span class="pc">ont</span><span class="c">ext,</span> <span class="w">m</span><span class="c">sg.</span><span class="w">t</span><span class="c">ime</span><span class="pc">)</span><span class="c">;</span>
          <span class="pc">}</span>
          <span class="w">f</span><span class="c">or</span> <span class="c">(</span><span class="pc">u</span><span class="c">nsigned</span> <span class="c">idx</span> <span class="c">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">prof</span><span class="c">.</span><span class="w">msgs_task_instance_variant</span><span class="pc">.</span><span class="c">size();</span> <span class="pc">i</span><span class="c">dx</span><span class="pc">++) </span><span class="c">{</span>
            <span class="w">LogMsgTaskInstanceVariant</span> <span class="w">&amp;ms</span><span class="pc">g</span> <span class="pc">=</span> <span class="c">prof.</span><span class="w">m</span><span class="c">sgs_task_instance_variant</span><span class="w">[</span><span class="c">idx</span><span class="pc">];</span>
            <span class="w">log_logging</span><span class="c">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o("</span><span class="w">task_instance_variant: {\"u</span><span class="pc">ni</span><span class="c">que_op_id</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">ll</span><span class="c">d</span><span class="w">, \"vid\</span><span class="pc">"</span><span class="c">:%</span><span class="w">l</span><span class="pc">d</span><span class="w">}",</span> <span class="w">ms</span><span class="pc">g</span><span class="c">.</span><span class="w">u</span><span class="c">nique_op_id</span><span class="w">,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">v</span><span class="c">id</span><span class="pc">)</span><span class="c">;</span>
          <span class="c">}</span>
          <span class="w">f</span><span class="pc">o</span><span class="c">r</span> <span class="c">(unsigned</span> <span class="c">idx</span> <span class="c">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">msgs_index_slice</span><span class="pc">.</span><span class="c">size();</span> <span class="c">idx++)</span>
          <span class="c">{</span>
            <span class="w">LogMsgIndexSlice</span> <span class="w">&amp;m</span><span class="pc">sg</span> <span class="c">=</span> <span class="w">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">m</span><span class="c">sgs_index_slice</span><span class="w">[</span><span class="c">idx];</span>
            <span class="w">log_logging</span><span class="c">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o("</span><span class="w">index_slice: {\"index_id\</span><span class="pc">"</span><span class="c">:%</span><span class="w">ll</span><span class="c">d</span><span class="w">, \"slice_id\</span><span class="pc">"</span><span class="c">:%</span><span class="w">ll</span><span class="c">d</span><span class="w">}",</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">i</span><span class="pc">ndex_i</span><span class="c">d</span><span class="w">,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">s</span><span class="pc">l</span><span class="c">ice_id);</span>
          <span class="c">}</span>
          <span class="w">f</span><span class="pc">o</span><span class="c">r</span> <span class="c">(</span><span class="pc">u</span><span class="c">nsigned</span> <span class="c">idx</span> <span class="c">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">msgs_slice_slice</span><span class="pc">.</span><span class="c">size();</span> <span class="c">idx++)</span>
          <span class="c">{</span>
            <span class="w">LogMsgSliceSlice</span> <span class="w">&amp;m</span><span class="pc">sg</span> <span class="pc">=</span> <span class="w">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">m</span><span class="c">sgs_slice_slice</span><span class="w">[</span><span class="c">idx];</span>
            <span class="w">log_logging</span><span class="c">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o("</span><span class="w">slice_slice: {\"slice_parent\</span><span class="pc">"</span><span class="c">:%</span><span class="w">ll</span><span class="c">d</span><span class="w">, \"slice_subslice\</span><span class="pc">"</span><span class="c">:%</span><span class="w">ll</span><span class="c">d</span><span class="w">}",</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">s</span><span class="pc">lice_p</span><span class="c">arent</span><span class="w">,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">s</span><span class="pc">lice_s</span><span class="c">ubslice);</span>
          <span class="c">}</span>
          <span class="w">f</span><span class="pc">o</span><span class="c">r</span> <span class="c">(</span><span class="pc">u</span><span class="c">nsigned</span> <span class="c">idx</span> <span class="c">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">msgs_point_point</span><span class="pc">.</span><span class="c">size();</span> <span class="c">idx++)</span>
          <span class="c">{</span>
            <span class="w">LogMsgPointPoint</span> <span class="w">&amp;m</span><span class="pc">sg</span> <span class="pc">=</span> <span class="w">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">m</span><span class="c">sgs_point_point</span><span class="w">[</span><span class="c">idx];</span>
            <span class="w">log_logging</span><span class="c">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o("</span><span class="w">point_point: {\"orig_point\</span><span class="pc">"</span><span class="c">:%</span><span class="w">ll</span><span class="c">d</span><span class="w">, \"new_point\</span><span class="pc">"</span><span class="c">:%</span><span class="w">ll</span><span class="c">d</span><span class="w">}",</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">o</span><span class="c">rig_point</span><span class="w">,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">n</span><span class="pc">e</span><span class="c">w_point);</span>
          <span class="c">}</span>
          <span class="w">f</span><span class="pc">o</span><span class="c">r</span> <span class="c">(</span><span class="pc">u</span><span class="c">nsigned</span> <span class="c">idx</span> <span class="c">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">p</span><span class="pc">r</span><span class="c">of</span><span class="pc">.</span><span class="w">msgs_slice_point</span><span class="pc">.</span><span class="c">size();</span> <span class="c">idx++)</span>
          <span class="c">{</span>
            <span class="w">LogMsgSlicePoint</span> <span class="w">&amp;m</span><span class="pc">sg</span> <span class="pc">=</span> <span class="w">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">m</span><span class="c">sgs_slice_point</span><span class="w">[</span><span class="c">idx];</span>
            <span class="w">log_logging</span><span class="c">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o("</span><span class="w">slice_point: {\"slice_id\</span><span class="pc">"</span><span class="c">:%</span><span class="w">ll</span><span class="c">d</span><span class="w">, \"point_id\</span><span class="pc">"</span><span class="c">:%</span><span class="w">ll</span><span class="c">d</span><span class="w">,</span><span class="pc"> </span><span class="c">\"</span><span class="w">di</span><span class="c">m</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d</span><span class="pc">,</span><span class="c"> \"</span><span class="w">d0\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d,</span><span class="c"> \"</span><span class="w">d1\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d</span><span class="pc">,</span><span class="c"> \"</span><span class="w">d2\</span><span class="pc">"</span><span class="c">:%</span><span class="pc">d</span><span class="w">}",</span> <span class="w">ms</span><span class="pc">g</span><span class="c">.</span><span class="w">s</span><span class="pc">l</span><span class="c">ice_id</span><span class="pc">,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="pc">p</span><span class="c">oint_id,</span> <span class="w">m</span><span class="c">sg.</span><span class="w">p</span><span class="pc">oint.</span><span class="w">di</span><span class="c">m,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">p</span><span class="pc">oint</span><span class="c">.</span><span class="w">point_data[</span><span class="c">0</span><span class="pc">],</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">po</span><span class="pc">int</span><span class="c">.</span><span class="w">p</span><span class="pc">oint_d</span><span class="c">ata[</span><span class="pc">1],</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">po</span><span class="pc">int</span><span class="c">.</span><span class="w">p</span><span class="pc">oint_d</span><span class="c">ata[2</span><span class="pc">])</span><span class="c">;</span>
          <span class="c">}</span>
          <span class="w">f</span><span class="c">or</span> <span class="c">(unsigned</span> <span class="c">idx</span> <span class="c">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">prof</span><span class="c">.</span><span class="w">msgs_lowlevel_copy</span><span class="pc">.</span><span class="c">size();</span> <span class="c">idx++)</span>
          <span class="c">{</span>
            <span class="w">LogMsgLowlevelCopy</span> <span class="w">&amp;m</span><span class="pc">s</span><span class="c">g</span> <span class="pc">=</span> <span class="w">p</span><span class="pc">r</span><span class="c">of</span><span class="pc">.</span><span class="w">m</span><span class="c">sgs_lowlevel_copy</span><span class="pc">[</span><span class="c">idx];</span>
            <span class="w">log_logging</span><span class="pc">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o("</span><span class="w">lowlevel_copy: {\"src_instance\</span><span class="pc">"</span><span class="c">:%</span><span class="w">u, \"dst_instance\</span><span class="pc">"</span><span class="c">:%</span><span class="w">u,</span><span class="pc"> </span><span class="c">\"</span><span class="w">index_handle\</span><span class="pc">"</span><span class="c">:%</span><span class="w">u</span><span class="pc">,</span><span class="c"> \"</span><span class="w">field_handle\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d,</span><span class="pc"> </span><span class="c">\"</span><span class="w">tr</span><span class="pc">e</span><span class="c">e_id</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">u</span><span class="pc">,</span><span class="c"> \"</span><span class="w">begin_event_id\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d</span><span class="pc">,</span><span class="c"> \"</span><span class="w">begin_event_gen\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d</span><span class="pc">, </span><span class="c">\"</span><span class="w">end_event_id\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d,</span><span class="pc"> </span><span class="c">\"</span><span class="w">end_event_gen\</span><span class="pc">"</span><span class="c">:%d, \"</span><span class="w">red</span><span class="c">op</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="pc">d</span><span class="c">, \"</span><span class="w">fie</span><span class="pc">lds</span><span class="w">\":\"%s\"}",</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">src_instance.</span><span class="c">id,</span> <span class="w">ms</span><span class="c">g.</span><span class="w">dst_instance</span><span class="pc">.</span><span class="c">id,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">index_handle</span><span class="pc">.</span><span class="c">id,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">field_handle</span><span class="pc">.</span><span class="w">get_id</span><span class="pc">(),</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">t</span><span class="pc">r</span><span class="c">ee_id,</span> <span class="w">m</span><span class="c">sg.</span><span class="w">start_event</span><span class="c">.id,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="pc">st</span><span class="c">art_event.</span><span class="pc">g</span><span class="c">en,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">termination_event</span><span class="pc">.i</span><span class="c">d,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="pc">t</span><span class="c">ermination_event.</span><span class="w">g</span><span class="pc">en</span><span class="c">,</span> <span class="w">ms</span><span class="c">g.</span><span class="w">r</span><span class="c">edop</span><span class="pc">,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">fields</span><span class="pc">.</span><span class="w">c_str(</span><span class="pc">))</span><span class="c">;</span>
          <span class="pc">}</span>
          <span class="w">f</span><span class="c">or</span> <span class="c">(</span><span class="pc">u</span><span class="c">nsigned</span> <span class="c">idx</span> <span class="pc">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">prof</span><span class="c">.</span><span class="w">msgs_operation_timing</span><span class="pc">.</span><span class="c">size();</span> <span class="c">idx++)</span>
          <span class="c">{</span>
            <span class="w">LogMsgOperationTiming</span> <span class="w">&amp;m</span><span class="pc">sg</span> <span class="pc">=</span> <span class="w">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">m</span><span class="c">sgs_operation_timing</span><span class="pc">[</span><span class="c">idx];</span>
            <span class="w">log_logging</span><span class="c">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o("</span><span class="w">operation_timing: {\"processor\</span><span class="pc">"</span><span class="c">:%</span><span class="w">u, \"u</span><span class="pc">ni</span><span class="c">que_op_id</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">ll</span><span class="c">d</span><span class="w">,</span><span class="pc"> </span><span class="c">\"</span><span class="w">k</span><span class="c">ind</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d</span><span class="pc">, </span><span class="c">\"</span><span class="w">time\</span><span class="pc">"</span><span class="c">:%</span><span class="w">ll</span><span class="c">d</span><span class="w">}",</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">pr</span><span class="pc">oc.</span><span class="c">id,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id</span><span class="pc">,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">k</span><span class="c">ind</span><span class="pc">,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">t</span><span class="c">ime</span><span class="pc">)</span><span class="c">;</span>
          <span class="pc">}</span>
          <span class="w">f</span><span class="pc">o</span><span class="c">r</span> <span class="c">(</span><span class="pc">u</span><span class="c">nsigned</span> <span class="c">idx</span> <span class="c">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">prof</span><span class="pc">.</span><span class="w">msgs_event_timing</span><span class="pc">.</span><span class="c">size();</span> <span class="c">idx++)</span>
          <span class="c">{</span>
            <span class="w">LogMsgEventTiming</span> <span class="w">&amp;m</span><span class="pc">sg</span> <span class="pc">=</span> <span class="w">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">m</span><span class="c">sgs_event_timing</span><span class="w">[</span><span class="c">idx];</span>
            <span class="w">log_logging</span><span class="c">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o("</span><span class="w">event_timing: {\"address_space\": %u, \"processor\</span><span class="pc">":%</span><span class="w">u,</span><span class="pc"> </span><span class="c">\"</span><span class="w">event_id\</span><span class="pc">":%</span><span class="w">d</span><span class="pc">, </span><span class="c">\"</span><span class="w">event_gen\</span><span class="pc">":%</span><span class="w">d</span><span class="pc">,</span><span class="c"> \"</span><span class="w">k</span><span class="c">ind</span><span class="w">\</span><span class="pc">":%</span><span class="w">d</span><span class="pc">,</span><span class="c"> \"</span><span class="w">time\</span><span class="pc">":%</span><span class="w">l</span><span class="pc">l</span><span class="c">d</span><span class="w">}",</span> <span class="w">a</span><span class="pc">d</span><span class="c">dress_space</span><span class="w">,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">pro</span><span class="pc">c.</span><span class="c">id,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">e</span><span class="pc">vent</span><span class="c">.id,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">e</span><span class="c">vent</span><span class="pc">.g</span><span class="c">en</span><span class="pc">,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">k</span><span class="c">ind,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">t</span><span class="pc">i</span><span class="c">me</span><span class="pc">)</span><span class="c">;</span>
          <span class="pc">}</span>
          <span class="w">f</span><span class="pc">o</span><span class="c">r</span> <span class="c">(</span><span class="pc">u</span><span class="c">nsigned</span> <span class="c">idx</span> <span class="pc">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">prof</span><span class="c">.</span><span class="w">msgs_future_wait.</span><span class="c">size();</span> <span class="pc">i</span><span class="c">dx++)</span>
          <span class="c">{</span>
            <span class="w">LogMsgFutureWait</span> <span class="w">&amp;ms</span><span class="pc">g</span> <span class="pc">=</span> <span class="w">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">m</span><span class="c">sgs_future_wait</span><span class="w">[</span><span class="c">idx];</span>
            <span class="w">log_logging</span><span class="c">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o("</span><span class="w">future_wait: {\"processor\</span><span class="pc">"</span><span class="c">:%</span><span class="w">u, \"co</span><span class="pc">nte</span><span class="c">xt</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">l</span><span class="pc">l</span><span class="c">d</span><span class="w">,</span><span class="pc"> </span><span class="c">\"</span><span class="w">w</span><span class="pc">ait_</span><span class="c">on</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">ll</span><span class="c">d</span><span class="pc">,</span><span class="c"> \"</span><span class="w">k</span><span class="c">ind</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d</span><span class="pc">, </span><span class="c">\"</span><span class="w">time\</span><span class="pc">"</span><span class="c">:%</span><span class="w">l</span><span class="pc">l</span><span class="c">d</span><span class="w">}",</span> <span class="w">ms</span><span class="pc">g</span><span class="c">.</span><span class="w">pr</span><span class="pc">oc</span><span class="c">.id</span><span class="pc">,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">c</span><span class="pc">on</span><span class="c">text</span><span class="pc">,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">w</span><span class="pc">ait_</span><span class="c">on</span><span class="pc">,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">k</span><span class="c">ind</span><span class="pc">,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">t</span><span class="c">ime</span><span class="pc">)</span><span class="c">;</span>
          <span class="c">}</span>
          <span class="w">f</span><span class="pc">o</span><span class="c">r</span> <span class="c">(</span><span class="pc">u</span><span class="c">nsigned</span> <span class="c">idx</span> <span class="c">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">prof</span><span class="c">.</span><span class="w">msgs_inline_wait.</span><span class="c">size();</span> <span class="c">idx++)</span>
          <span class="c">{</span>
            <span class="w">LogMsgInlineWait</span> <span class="w">&amp;m</span><span class="pc">sg</span> <span class="pc">=</span> <span class="w">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">m</span><span class="c">sgs_inline_wait</span><span class="w">[</span><span class="c">idx];</span>
            <span class="w">log_logging</span><span class="c">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o("</span><span class="w">inline_wait: {\"processor\</span><span class="pc">"</span><span class="c">:%</span><span class="w">u, \"co</span><span class="pc">nte</span><span class="c">xt</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">l</span><span class="pc">l</span><span class="c">d</span><span class="w">,</span><span class="pc"> </span><span class="c">\"</span><span class="w">event_id\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d</span><span class="pc">,</span><span class="c"> \"</span><span class="w">event_gen\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d</span><span class="pc">, </span><span class="c">\"</span><span class="w">k</span><span class="c">ind</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d</span><span class="pc">,</span><span class="c"> \"</span><span class="w">time\</span><span class="pc">"</span><span class="c">:%</span><span class="w">l</span><span class="pc">l</span><span class="c">d</span><span class="w">}",</span> <span class="w">ms</span><span class="pc">g</span><span class="c">.</span><span class="w">pr</span><span class="pc">oc.</span><span class="c">id</span><span class="pc">,</span> <span class="w">ms</span><span class="pc">g</span><span class="c">.</span><span class="w">c</span><span class="pc">o</span><span class="c">ntext,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">w</span><span class="c">ait_on.id,</span> <span class="w">ms</span><span class="c">g.</span><span class="w">w</span><span class="c">ait_on.</span><span class="pc">g</span><span class="c">en,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">k</span><span class="c">ind,</span> <span class="w">ms</span><span class="c">g.</span><span class="pc">t</span><span class="c">ime</span><span class="pc">)</span><span class="c">;</span>
          <span class="c">}</span>
          <span class="w">f</span><span class="pc">o</span><span class="c">r</span> <span class="c">(</span><span class="pc">u</span><span class="c">nsigned</span> <span class="c">idx</span> <span class="pc">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">prof</span><span class="c">.</span><span class="w">msgs_top_index_space.</span><span class="c">size();</span> <span class="pc">i</span><span class="c">dx++)</span>
          <span class="c">{</span>
            <span class="w">LogMsgTopIndexSpace</span> <span class="w">&amp;ms</span><span class="pc">g</span> <span class="pc">=</span> <span class="w">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">m</span><span class="c">sgs_top_index_space</span><span class="w">[</span><span class="c">idx];</span>
            <span class="w">log_logging</span><span class="c">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o("</span><span class="w">top_index_space: {\"id\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d}",</span> <span class="w">ms</span><span class="pc">g</span><span class="c">.</span><span class="w">sp</span><span class="pc">ac</span><span class="c">e</span><span class="w">.</span><span class="c">id</span><span class="pc">)</span><span class="c">;</span>
          <span class="c">}</span>
          <span class="w">f</span><span class="pc">o</span><span class="c">r</span> <span class="c">(</span><span class="pc">u</span><span class="c">nsigned</span> <span class="c">idx</span> <span class="c">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="pc">p</span><span class="c">rof.</span><span class="w">msgs_index_partition</span><span class="pc">.</span><span class="c">size();</span> <span class="c">idx++)</span>
          <span class="c">{</span>
            <span class="w">LogMsgIndexPartition</span> <span class="w">&amp;m</span><span class="pc">sg</span> <span class="pc">=</span> <span class="w">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">m</span><span class="c">sgs_index_partition</span><span class="pc">[</span><span class="c">idx];</span>
            <span class="w">log_logging</span><span class="c">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o("</span><span class="w">index_partition: {\"pa</span><span class="pc">rent</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d, \"h</span><span class="pc">andle</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="pc">d</span><span class="w">,</span><span class="pc"> </span><span class="c">\"</span><span class="w">disjoint\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d,</span><span class="pc"> </span><span class="c">\"</span><span class="w">col</span><span class="c">or</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d}",</span> <span class="w">ms</span><span class="pc">g</span><span class="c">.</span><span class="w">pa</span><span class="pc">rent</span><span class="c">.id,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">h</span><span class="pc">andle,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">di</span><span class="pc">s</span><span class="c">joint,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">co</span><span class="pc">l</span><span class="c">or);</span>
          <span class="pc">}</span>
          <span class="w">f</span><span class="pc">o</span><span class="c">r</span> <span class="c">(</span><span class="pc">u</span><span class="c">nsigned</span> <span class="c">idx</span> <span class="c">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">prof</span><span class="pc">.</span><span class="w">msgs_index_subspace</span><span class="pc">.</span><span class="c">size();</span> <span class="c">idx++)</span>
          <span class="c">{</span>
            <span class="w">LogMsgIndexSubspace</span> <span class="w">&amp;m</span><span class="pc">sg</span> <span class="pc">=</span> <span class="pc">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">m</span><span class="c">sgs_index_subspace</span><span class="w">[</span><span class="c">idx];</span>
            <span class="w">log_logging</span><span class="c">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o("</span><span class="w">index_subspace: {\"pa</span><span class="pc">rent</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d, \"h</span><span class="pc">andle</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="pc">d</span><span class="w">,</span><span class="pc"> </span><span class="c">\"</span><span class="w">col</span><span class="c">or</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d}",</span> <span class="w">ms</span><span class="pc">g</span><span class="c">.</span><span class="w">pa</span><span class="pc">rent,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">h</span><span class="pc">andle.</span><span class="c">id,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">col</span><span class="pc">or)</span><span class="c">;</span>
          <span class="pc">}</span>
          <span class="w">f</span><span class="pc">o</span><span class="c">r</span> <span class="c">(unsigned</span> <span class="c">idx</span> <span class="pc">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">prof</span><span class="pc">.</span><span class="w">msgs_field_space</span><span class="pc">.</span><span class="c">size();</span> <span class="c">idx++)</span>
          <span class="c">{</span>
            <span class="w">LogMsgFieldSpace</span> <span class="w">&amp;m</span><span class="pc">sg</span> <span class="c">=</span> <span class="w">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">m</span><span class="c">sgs_field_space</span><span class="w">[</span><span class="c">idx];</span>
            <span class="w">log_logging</span><span class="c">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o("</span><span class="w">fi</span><span class="pc">eld_s</span><span class="c">pace</span><span class="w">: {\"h</span><span class="pc">andle</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d}",</span> <span class="w">ms</span><span class="pc">g</span><span class="c">.</span><span class="w">h</span><span class="pc">andle.</span><span class="w">get_id(</span><span class="pc">))</span><span class="c">;</span>
          <span class="c">}</span>
          <span class="w">f</span><span class="pc">o</span><span class="c">r</span> <span class="c">(unsigned</span> <span class="c">idx</span> <span class="c">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="pc">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">msgs_field_creation</span><span class="pc">.</span><span class="c">size();</span> <span class="c">idx++)</span>
          <span class="c">{</span>
            <span class="w">LogMsgFieldCreation</span> <span class="w">&amp;m</span><span class="pc">s</span><span class="c">g</span> <span class="pc">=</span> <span class="w">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">m</span><span class="c">sgs_field_creation</span><span class="w">[</span><span class="c">idx];</span>
            <span class="w">log_logging</span><span class="pc">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o("</span><span class="w">field_creation: {\"h</span><span class="pc">andle</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d, \"fi</span><span class="pc">d</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d,</span><span class="pc"> </span><span class="c">\"</span><span class="w">loc</span><span class="pc">al</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d}",</span> <span class="w">ms</span><span class="pc">g</span><span class="c">.</span><span class="w">h</span><span class="pc">andle</span><span class="c">.</span><span class="w">get_id</span><span class="pc">(),</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">fid</span><span class="pc">,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">lo</span><span class="pc">cal</span><span class="c">);</span>
          <span class="pc">}</span>
          <span class="w">f</span><span class="c">or</span> <span class="c">(unsigned</span> <span class="c">idx</span> <span class="c">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">prof</span><span class="c">.</span><span class="w">msgs_top_region</span><span class="pc">.</span><span class="c">size();</span> <span class="c">idx++)</span>
          <span class="c">{</span>
            <span class="w">LogMsgTopRegion</span> <span class="w">&amp;m</span><span class="pc">sg</span> <span class="c">=</span> <span class="w">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">m</span><span class="c">sgs_top_region</span><span class="w">[</span><span class="c">idx];</span>
            <span class="w">log_logging</span><span class="c">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o("</span><span class="w">top_region: {\"ispace\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d, \"fspace\</span><span class="pc">"</span><span class="c">:%</span><span class="pc">d</span><span class="w">,</span><span class="pc"> </span><span class="c">\"</span><span class="w">ti</span><span class="c">d</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d}",</span> <span class="w">ms</span><span class="pc">g</span><span class="c">.</span><span class="w">i</span><span class="pc">s</span><span class="c">pace.id</span><span class="pc">,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">f</span><span class="pc">s</span><span class="c">pace.</span><span class="w">get_id</span><span class="pc">(</span><span class="c">),</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">ti</span><span class="c">d);</span>
          <span class="pc">}</span>
          <span class="w">f</span><span class="c">or</span> <span class="c">(unsigned</span> <span class="c">idx</span> <span class="c">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">prof</span><span class="c">.</span><span class="w">msgs_logical_requirement</span><span class="pc">.</span><span class="c">size();</span> <span class="pc">i</span><span class="c">dx++)</span>
          <span class="c">{</span>
            <span class="w">LogMsgLogicalRequirement</span> <span class="w">&amp;m</span><span class="pc">sg</span> <span class="pc">=</span> <span class="w">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">m</span><span class="c">sgs_logical_requirement</span><span class="w">[</span><span class="c">idx];</span>
            <span class="w">log_logging</span><span class="c">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o("</span><span class="w">logical_requirement: {\"u</span><span class="pc">n</span><span class="c">ique_op_id</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">ll</span><span class="c">d</span><span class="w">, \"in</span><span class="pc">d</span><span class="c">ex</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d,</span><span class="pc"> </span><span class="c">\"</span><span class="w">r</span><span class="pc">eg</span><span class="c">ion</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d,</span><span class="pc"> </span><span class="c">\"</span><span class="w">index_component\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d,</span><span class="pc"> </span><span class="c">\"</span><span class="w">field_component\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d</span><span class="pc">,</span><span class="c"> \"</span><span class="w">ti</span><span class="c">d</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="pc">d,</span><span class="c"> \"</span><span class="w">privilege\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d,</span><span class="pc"> </span><span class="c">\"</span><span class="w">prop\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d,</span><span class="pc"> </span><span class="c">\"</span><span class="w">red</span><span class="c">op</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="pc">d</span><span class="w">}",</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">u</span><span class="pc">n</span><span class="c">ique_op_id</span><span class="pc">,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">ind</span><span class="pc">ex</span><span class="c">,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">r</span><span class="pc">eg</span><span class="c">ion</span><span class="pc">,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">i</span><span class="pc">n</span><span class="c">dex_component,</span> <span class="w">m</span><span class="c">sg.</span><span class="w">f</span><span class="pc">ield_c</span><span class="c">omponent,</span> <span class="w">m</span><span class="c">sg.</span><span class="w">ti</span><span class="c">d,</span> <span class="w">m</span><span class="c">sg.</span><span class="w">p</span><span class="pc">r</span><span class="c">ivilege,</span> <span class="w">m</span><span class="c">sg.</span><span class="w">p</span><span class="pc">ro</span><span class="c">p,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">r</span><span class="c">edop</span><span class="pc">)</span><span class="c">;</span>
          <span class="c">}</span>
          <span class="w">f</span><span class="pc">o</span><span class="c">r</span> <span class="c">(</span><span class="pc">u</span><span class="c">nsigned</span> <span class="c">idx</span> <span class="c">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">prof</span><span class="c">.</span><span class="w">msgs_requirement_fields</span><span class="pc">.</span><span class="c">size();</span> <span class="pc">i</span><span class="c">dx++)</span>
          <span class="c">{</span>
            <span class="w">LogMsgRequirementFields</span> <span class="w">&amp;m</span><span class="pc">sg</span> <span class="pc">=</span> <span class="w">p</span><span class="pc">ro</span><span class="c">f</span><span class="pc">.</span><span class="w">m</span><span class="c">sgs_requirement_fields</span><span class="w">[</span><span class="c">idx];</span>
            <span class="w">f</span><span class="c">or</span> <span class="c">(</span><span class="w">s</span><span class="pc">t</span><span class="c">d::set&lt;</span><span class="pc">F</span><span class="c">ieldID&gt;::</span><span class="pc">i</span><span class="c">terator</span> <span class="c">it</span> <span class="c">=</span> <span class="w">ms</span><span class="pc">g</span><span class="c">.</span><span class="w">logical_fields</span><span class="c">.begin();</span> <span class="c">it!=</span><span class="w">ms</span><span class="pc">g</span><span class="c">.</span><span class="pc">l</span><span class="c">ogical_fields.end</span><span class="w">(); ++</span><span class="c">it</span><span class="w">)</span>
              <span class="w">log_logging</span><span class="c">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o</span><span class="pc">(</span><span class="c">"</span><span class="w">requirement_fields: {\"u</span><span class="c">nique_op_id</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">ll</span><span class="c">d</span><span class="w">, \"i</span><span class="pc">nd</span><span class="c">ex</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d,</span><span class="pc"> </span><span class="c">\"</span><span class="w">logical_field\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d}",</span> <span class="w">ms</span><span class="c">g.</span><span class="w">u</span><span class="pc">n</span><span class="c">ique_op_id</span><span class="w">,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">in</span><span class="pc">dex</span><span class="w">,</span><span class="pc"> </span><span class="c">*it</span><span class="pc">)</span><span class="c">;</span>
          <span class="c">}</span>
          <span class="w">f</span><span class="c">or</span> <span class="c">(</span><span class="pc">u</span><span class="c">nsigned</span> <span class="c">idx</span> <span class="c">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">prof</span><span class="c">.</span><span class="w">msgs_mapping_dependence</span><span class="pc">.</span><span class="c">size();</span> <span class="c">idx++)</span>
          <span class="c">{</span>
            <span class="w">LogMsgMappingDependence</span> <span class="w">&amp;m</span><span class="pc">sg</span> <span class="pc">=</span> <span class="pc">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">m</span><span class="c">sgs_mapping_dependence</span><span class="pc">[</span><span class="c">idx];</span>
            <span class="w">log_logging</span><span class="c">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o("</span><span class="w">mapping_dependence: {\"parent_context\</span><span class="pc">"</span><span class="c">:%</span><span class="w">ll</span><span class="c">d</span><span class="w">, \"previous_id\</span><span class="pc">"</span><span class="c">:%</span><span class="w">ll</span><span class="c">d</span><span class="w">,</span><span class="pc"> </span><span class="c">\"</span><span class="w">previous_index\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d,</span><span class="pc"> </span><span class="c">\"</span><span class="w">next_id\</span><span class="pc">"</span><span class="c">:%</span><span class="w">l</span><span class="pc">l</span><span class="c">d</span><span class="pc">,</span><span class="c"> \"</span><span class="w">next_index\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d</span><span class="pc">,</span><span class="c"> \"</span><span class="w">dep_type\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d}",</span> <span class="w">ms</span><span class="pc">g</span><span class="c">.</span><span class="w">p</span><span class="pc">a</span><span class="c">rent_context</span><span class="pc">,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="pc">p</span><span class="c">revious_id,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="pc">p</span><span class="c">revious_index,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">n</span><span class="pc">ext_id,</span> <span class="w">m</span><span class="c">sg.</span><span class="pc">n</span><span class="c">ext_index</span><span class="pc">,</span> <span class="w">m</span><span class="c">sg.</span><span class="w">d</span><span class="c">ep_type);</span>
          <span class="c">}</span>
          <span class="w">f</span><span class="pc">o</span><span class="c">r</span> <span class="c">(</span><span class="pc">u</span><span class="c">nsigned</span> <span class="pc">id</span><span class="c">x</span> <span class="pc">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">prof</span><span class="c">.</span><span class="w">msgs_task_instance_requirement</span><span class="pc">.</span><span class="c">size();</span> <span class="pc">i</span><span class="c">dx++)</span>
          <span class="c">{</span>
            <span class="w">LogMsgTaskInstanceRequirement</span> <span class="w">&amp;m</span><span class="pc">sg</span> <span class="pc">=</span> <span class="w">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">m</span><span class="c">sgs_task_instance_requirement</span><span class="w">[</span><span class="c">idx];</span>
            <span class="w">log_logging</span><span class="c">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o("</span><span class="w">task_instance_requirement: {\"unique_id\</span><span class="pc">"</span><span class="c">:%</span><span class="w">ll</span><span class="c">d</span><span class="w">, \"in</span><span class="pc">d</span><span class="c">ex</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d,</span><span class="pc"> </span><span class="c">\"</span><span class="w">h</span><span class="pc">andle</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d}",</span> <span class="w">ms</span><span class="pc">g</span><span class="c">.</span><span class="w">u</span><span class="c">nique_id</span><span class="w">,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">in</span><span class="pc">dex,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">h</span><span class="pc">andle.</span><span class="c">id</span><span class="pc">)</span><span class="c">;</span>
          <span class="pc">}</span>
          <span class="w">f</span><span class="pc">o</span><span class="c">r</span> <span class="c">(unsigned</span> <span class="c">idx</span> <span class="pc">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">prof</span><span class="c">.</span><span class="w">msgs_operation_events</span><span class="pc">.</span><span class="c">size();</span> <span class="c">idx++)</span>
          <span class="c">{</span>
            <span class="w">LogMsgOperationEvents</span> <span class="w">&amp;m</span><span class="pc">sg</span> <span class="pc">=</span> <span class="w">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">m</span><span class="c">sgs_operation_events</span><span class="pc">[</span><span class="c">idx];</span>
            <span class="w">log_logging</span><span class="c">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o("</span><span class="w">operation_events: {\"u</span><span class="pc">n</span><span class="c">ique_op_id</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">ll</span><span class="c">d</span><span class="w">, \"begin_event_id\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d,</span><span class="pc"> </span><span class="c">\"</span><span class="w">begin_event_gen\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d,</span><span class="pc"> </span><span class="c">\"</span><span class="w">end_event_id\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d,</span><span class="c"> \"</span><span class="w">end_event_gen\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d}",</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">u</span><span class="pc">n</span><span class="c">ique_op_id</span><span class="pc">,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">start_event</span><span class="pc">.</span><span class="c">id,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="pc">s</span><span class="c">tart_event.</span><span class="pc">g</span><span class="c">en,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">end_event</span><span class="pc">.</span><span class="c">id,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="pc">e</span><span class="c">nd_event</span><span class="pc">.g</span><span class="c">en</span><span class="pc">)</span><span class="c">;</span>
          <span class="c">}</span>
          <span class="w">f</span><span class="c">or</span> <span class="c">(</span><span class="pc">u</span><span class="c">nsigned</span> <span class="c">idx</span> <span class="pc">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">prof</span><span class="c">.</span><span class="w">msgs_event_dependency</span><span class="pc">.</span><span class="c">size();</span> <span class="c">idx++)</span>
          <span class="c">{</span>
            <span class="w">LogMsgEventDependency</span> <span class="w">&amp;m</span><span class="pc">sg</span> <span class="pc">=</span> <span class="w">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">m</span><span class="c">sgs_event_dependency</span><span class="w">[</span><span class="c">idx];</span>
            <span class="w">log_logging</span><span class="c">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o("</span><span class="w">event_dependency: {\"event1_id\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d, \"event1_gen\</span><span class="pc">"</span><span class="c">:%</span><span class="pc">d</span><span class="w">,</span><span class="pc"> </span><span class="c">\"</span><span class="w">event2_id\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d,</span><span class="c"> \"</span><span class="w">event2_gen\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d}",</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">one</span><span class="pc">.</span><span class="c">id,</span> <span class="w">ms</span><span class="pc">g</span><span class="c">.</span><span class="pc">o</span><span class="c">ne.</span><span class="w">g</span><span class="pc">en</span><span class="c">,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">two</span><span class="pc">.</span><span class="c">id,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="pc">t</span><span class="c">wo.</span><span class="pc">g</span><span class="c">en</span><span class="pc">)</span><span class="c">;</span>
          <span class="c">}</span>
          <span class="w">f</span><span class="pc">o</span><span class="c">r</span> <span class="c">(</span><span class="pc">u</span><span class="c">nsigned</span> <span class="c">idx</span> <span class="c">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">prof</span><span class="c">.</span><span class="w">msgs_physical_instance</span><span class="pc">.</span><span class="c">size();</span> <span class="c">idx++)</span>
          <span class="c">{</span>
            <span class="w">LogMsgPhysicalInstance</span> <span class="w">&amp;m</span><span class="pc">sg</span> <span class="pc">=</span> <span class="w">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">m</span><span class="c">sgs_physical_instance</span><span class="w">[</span><span class="c">idx];</span>
            <span class="w">log_logging</span><span class="c">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o("</span><span class="w">physical_instance: {\"in</span><span class="pc">s</span><span class="c">tance</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d, \"m</span><span class="pc">e</span><span class="c">mory</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="pc">d</span><span class="w">,</span><span class="pc"> </span><span class="c">\"</span><span class="w">index_handle\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d</span><span class="pc">,</span><span class="c"> \"</span><span class="w">field_handle\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d,</span><span class="pc"> </span><span class="c">\"</span><span class="w">tr</span><span class="pc">e</span><span class="c">e_id</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="pc">d,</span><span class="c"> \"</span><span class="w">r</span><span class="pc">ed</span><span class="c">op</span><span class="w">\</span><span class="pc">"</span><span class="c">:%d</span><span class="pc">,</span><span class="c"> \"</span><span class="w">fold\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d</span><span class="pc">, </span><span class="c">\"</span><span class="w">indirect_domain\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d}",</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">ins</span><span class="pc">t</span><span class="c">ance</span><span class="pc">.</span><span class="c">id</span><span class="pc">,</span> <span class="w">ms</span><span class="c">g.</span><span class="w">me</span><span class="pc">mo</span><span class="c">ry</span><span class="pc">.</span><span class="c">id,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">i</span><span class="pc">nd</span><span class="c">ex_handle</span><span class="pc">.</span><span class="c">id,</span> <span class="w">ms</span><span class="c">g.</span><span class="w">f</span><span class="pc">ield_h</span><span class="c">andle</span><span class="pc">.</span><span class="w">get_id</span><span class="pc">(),</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">t</span><span class="pc">r</span><span class="c">ee_id,</span> <span class="w">m</span><span class="c">sg.</span><span class="w">r</span><span class="pc">edop,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">fold</span><span class="c">,</span> <span class="w">m</span><span class="c">sg.</span><span class="w">indirect_domain</span><span class="pc">.</span><span class="w">is_id)</span><span class="pc">;</span>
          <span class="c">}</span>
          <span class="w">f</span><span class="pc">o</span><span class="c">r</span> <span class="c">(</span><span class="pc">u</span><span class="c">nsigned</span> <span class="c">idx</span> <span class="c">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">prof</span><span class="pc">.</span><span class="w">msgs_phyiscal_user</span><span class="pc">.</span><span class="c">size();</span> <span class="pc">id</span><span class="c">x++)</span>
          <span class="c">{</span>
            <span class="w">LogMsgPhysicalUser</span> <span class="w">&amp;ms</span><span class="pc">g</span> <span class="pc">=</span> <span class="w">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">m</span><span class="c">sgs_phyiscal_user</span><span class="pc">[</span><span class="c">idx];</span>
            <span class="w">log_logging</span><span class="c">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o("</span><span class="w">physical_user: {\"in</span><span class="pc">s</span><span class="c">tance</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d, \"u</span><span class="pc">ni</span><span class="c">que_op_id</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">ll</span><span class="c">d</span><span class="w">,</span><span class="pc"> </span><span class="c">\"</span><span class="w">in</span><span class="pc">d</span><span class="c">ex</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d}",</span> <span class="w">ms</span><span class="pc">g</span><span class="c">.</span><span class="w">in</span><span class="pc">st</span><span class="c">ance.id,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">u</span><span class="pc">n</span><span class="c">ique_op_id,</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">in</span><span class="pc">dex)</span><span class="c">;</span>
          <span class="pc">}</span>
          <span class="w">f</span><span class="c">or</span> <span class="c">(unsigned</span> <span class="c">idx</span> <span class="pc">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">prof</span><span class="c">.</span><span class="w">msgs_lowlevel_copy_assoc</span><span class="pc">.</span><span class="c">size();</span> <span class="c">idx++)</span>
          <span class="c">{</span>
            <span class="w">LogMsgLowlevelCopyAssoc</span> <span class="w">&amp;m</span><span class="pc">sg</span> <span class="pc">=</span> <span class="w">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">m</span><span class="c">sgs_lowlevel_copy_assoc</span><span class="w">[</span><span class="c">idx];</span>
            <span class="w">log_logging</span><span class="c">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o("</span><span class="w">llcopy_assoc: {\"highlevel_id\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d, \"highlevel_gen\</span><span class="pc">"</span><span class="c">:%</span><span class="pc">d</span><span class="w">,</span><span class="pc"> </span><span class="c">\"</span><span class="w">lowlevel_id\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d,</span><span class="c"> \"</span><span class="w">lowlevel_gen\</span><span class="pc">"</span><span class="c">:%</span><span class="w">d,</span><span class="c"> \"</span><span class="w">channel_id\</span><span class="pc">"</span><span class="c">:%</span><span class="w">u}",</span> <span class="w">m</span><span class="pc">sg</span><span class="c">.</span><span class="w">highlevel_end_event</span><span class="pc">.</span><span class="c">id,</span> <span class="w">ms</span><span class="pc">g</span><span class="c">.highlevel_end_event.</span><span class="pc">g</span><span class="c">en,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">lowlevel_end_event</span><span class="pc">.</span><span class="c">id,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="pc">l</span><span class="c">owlevel_end_event</span><span class="pc">.g</span><span class="c">en,</span> <span class="w">m</span><span class="pc">s</span><span class="c">g.</span><span class="w">c</span><span class="c">hannel_id</span><span class="pc">)</span><span class="c">;</span>
          <span class="pc">}</span>
          <span class="w">f</span><span class="c">or</span> <span class="c">(</span><span class="pc">u</span><span class="c">nsigned</span> <span class="c">idx</span> <span class="pc">=</span> <span class="c">0;</span> <span class="c">idx</span> <span class="c">&lt;</span> <span class="w">prof</span><span class="c">.</span><span class="w">msgs_lowlevel_copy_channel.</span><span class="c">size();</span> <span class="c">idx++)</span>
          <span class="c">{</span>
            <span class="w">LogMsgLowlevelCopyChannel</span> <span class="w">&amp;ms</span><span class="pc">g</span> <span class="pc">=</span> <span class="w">p</span><span class="c">rof</span><span class="pc">.</span><span class="w">m</span><span class="c">sgs_lowlevel_copy_channel</span><span class="w">[</span><span class="c">idx];</span>
            <span class="w">log_logging</span><span class="c">.</span><span class="w">i</span><span class="pc">nf</span><span class="c">o("</span><span class="w">llcopy_channel: {\"id\</span><span class="pc">"</span><span class="c">:%</span><span class="w">u, \"na</span><span class="c">me</span><span class="w">\</span><span class="pc">"</span><span class="c">:%</span><span class="w">s}",</span> <span class="w">ms</span><span class="pc">g</span><span class="c">.id,</span> <span class="w">ms</span><span class="pc">g</span><span class="c">.</span><span class="w">n</span><span class="pc">a</span><span class="c">me);</span>
          <span class="c">}</span>
        <span class="pc">}</span>
      <span class="pc">}</span>
      
      
      
      

      
      
      <span class="pc">s</span><span class="c">tatic</span> <span class="c">void</span> <span class="w">log_processor</span><span class="c">(</span><span class="w">P</span><span class="c">rocessor</span> <span class="w">p</span><span class="pc">r</span><span class="c">oc,</span> <span class="w">P</span><span class="c">rocessor</span> <span class="w">utility</span><span class="c">,</span>
                                       <span class="pc">P</span><span class="c">rocessor::</span><span class="pc">K</span><span class="c">ind</span> <span class="c">kind</span><span class="pc">)</span>
      <span class="c">{</span>
      <span class="w">}</span>

      
      
      <span class="pc">s</span><span class="c">tatic</span> <span class="w">v</span><span class="c">oid</span> <span class="w">log_memory</span><span class="c">(</span><span class="w">M</span><span class="c">emory</span> <span class="w">m</span><span class="pc">em</span><span class="c">,</span> <span class="pc">M</span><span class="c">emory</span><span class="pc">:</span><span class="c">:Kind</span> <span class="c">kind</span><span class="pc">,</span>
                                    <span class="w">s</span><span class="c">ize_t</span> <span class="w">capacity</span><span class="pc">)</span>
      <span class="c">{</span>
        <span class="w">msgs_memory</span><span class="pc">.</span><span class="w">p</span><span class="c">ush_back(</span><span class="w">LogMsgMemory</span><span class="pc">(</span><span class="w">m</span><span class="pc">e</span><span class="c">m,</span> <span class="pc">k</span><span class="c">ind</span> <span class="pc">,</span><span class="w">c</span><span class="c">apacity</span><span class="w">)</span><span class="pc">)</span><span class="c">;</span>
      <span class="c">}</span>

      
      
      <span class="pc">s</span><span class="c">tatic</span> <span class="c">void</span> <span class="w">log_proc_mem_affinity</span><span class="c">(</span><span class="w">P</span><span class="c">rocessor</span> <span class="w">p</span><span class="pc">r</span><span class="c">oc,</span> <span class="pc">M</span><span class="c">emory</span> <span class="w">m</span><span class="pc">e</span><span class="c">m,</span>
                                               <span class="c">size_t</span> <span class="w">bandwidth</span><span class="c">,</span>
                                               <span class="c">size_t</span> <span class="w">latency</span><span class="c">)</span>
      <span class="c">{</span>
        <span class="w">msgs_proc_mem_affinity</span><span class="pc">.p</span><span class="c">ush_back(</span><span class="w">LogMsgProcMemAffinity</span><span class="pc">(</span><span class="w">pr</span><span class="c">oc</span><span class="pc">,</span> <span class="w">m</span><span class="c">em,</span> <span class="w">b</span><span class="pc">a</span><span class="c">ndwidth,</span> <span class="w">l</span><span class="c">atency</span><span class="w">)</span><span class="pc">)</span><span class="c">;</span>
      <span class="c">}</span>

      
      
      <span class="pc">s</span><span class="c">tatic</span> <span class="c">void</span> <span class="w">log_mem_mem_affinity</span><span class="c">(</span><span class="w">M</span><span class="pc">e</span><span class="c">mory</span> <span class="w">mem1</span><span class="c">,</span> <span class="w">M</span><span class="c">emory</span> <span class="w">mem2</span><span class="c">,</span>
                                              <span class="c">size_t</span> <span class="w">b</span><span class="pc">a</span><span class="c">ndwidth,</span>
                                              <span class="c">size_t</span> <span class="w">l</span><span class="c">atency)</span>
      <span class="c">{</span>
        <span class="w">msgs_mem_mem_affinity</span><span class="pc">.p</span><span class="c">ush_back(</span><span class="w">LogMsgMemMemAffinity</span><span class="pc">(</span><span class="w">m</span><span class="pc">em1,</span> <span class="pc">m</span><span class="c">em2,</span> <span class="w">b</span><span class="pc">a</span><span class="c">ndwidth,</span> <span class="w">l</span><span class="c">atency</span><span class="w">)</span><span class="pc">)</span><span class="c">;</span>
      <span class="c">}</span>

      
      
      

      
      
      <span class="pc">s</span><span class="c">tatic</span> <span class="pc">i</span><span class="c">nline</span> <span class="c">void</span> <span class="w">log_mapping_operation</span><span class="c">(</span><span class="w">P</span><span class="pc">roc</span><span class="c">essor</span> <span class="w">p</span><span class="c">,</span>
                                               <span class="pc">U</span><span class="c">niqueID</span> <span class="w">co</span><span class="pc">n</span><span class="c">text,</span>
                                               <span class="w">U</span><span class="c">niqueID</span> <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id</span><span class="pc">)</span>
      <span class="c">{</span>
        <span class="w">u</span><span class="c">nsigned</span> <span class="w">l</span><span class="pc">on</span><span class="c">g</span> <span class="w">l</span><span class="pc">o</span><span class="c">ng</span> <span class="w">time</span> <span class="w">=</span> <span class="w">TimeStamp</span><span class="pc">:</span><span class="c">:</span><span class="w">get_current_time_in_micros</span><span class="pc">()</span><span class="c">;</span>
        <span class="w">get_profiler(</span><span class="pc">).</span><span class="w">add_msg</span><span class="c">(</span><span class="w">LogMsgOperation</span><span class="pc">(</span><span class="w">p</span><span class="c">,</span> <span class="w">MAPPING_OPERATION</span><span class="c">,</span> <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id</span><span class="pc">,</span> <span class="w">con</span><span class="pc">t</span><span class="c">ext,</span> <span class="pc">t</span><span class="c">ime</span><span class="pc">))</span><span class="c">;</span>
      <span class="pc">}</span>

      
      
      <span class="pc">sta</span><span class="c">tic</span> <span class="pc">i</span><span class="c">nline</span> <span class="c">void</span> <span class="w">log_copy_operation</span><span class="c">(</span><span class="w">P</span><span class="pc">r</span><span class="c">ocessor</span> <span class="pc">p</span><span class="c">,</span>
                                            <span class="pc">U</span><span class="c">niqueID</span> <span class="w">c</span><span class="pc">o</span><span class="c">ntext,</span>
                                            <span class="w">U</span><span class="c">niqueID</span> <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id</span><span class="pc">)</span>
      <span class="c">{</span>
        <span class="w">u</span><span class="pc">ns</span><span class="c">igned</span> <span class="pc">l</span><span class="c">ong</span> <span class="w">l</span><span class="c">ong</span> <span class="w">ti</span><span class="c">me</span> <span class="w">=</span> <span class="w">TimeStamp</span><span class="pc">:</span><span class="c">:</span><span class="w">get_current_time_in_micros</span><span class="pc">()</span><span class="c">;</span>
        <span class="w">get_profiler()</span><span class="pc">.</span><span class="w">add_msg</span><span class="c">(</span><span class="w">LogMsgOperation</span><span class="pc">(</span><span class="w">p</span><span class="c">,</span> <span class="w">COPY_OPERATION</span><span class="c">,</span> <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id</span><span class="pc">,</span> <span class="w">con</span><span class="pc">t</span><span class="c">ext,</span> <span class="pc">t</span><span class="c">ime</span><span class="pc">))</span><span class="c">;</span>
      <span class="pc">}</span>

      
      
      <span class="pc">sta</span><span class="c">tic</span> <span class="pc">i</span><span class="c">nline</span> <span class="c">void</span> <span class="w">log_fence_operation</span><span class="c">(</span><span class="w">P</span><span class="pc">r</span><span class="c">ocessor</span> <span class="pc">p</span><span class="c">,</span>
                                             <span class="pc">U</span><span class="c">niqueID</span> <span class="w">c</span><span class="pc">o</span><span class="c">ntext,</span>
                                             <span class="w">U</span><span class="c">niqueID</span> <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id</span><span class="pc">)</span>
      <span class="c">{</span>
        <span class="w">u</span><span class="pc">ns</span><span class="c">igned</span> <span class="pc">l</span><span class="c">ong</span> <span class="w">l</span><span class="c">ong</span> <span class="w">ti</span><span class="c">me</span> <span class="w">=</span> <span class="w">TimeStamp</span><span class="pc">:</span><span class="c">:</span><span class="w">get_current_time_in_micros</span><span class="pc">()</span><span class="c">;</span>
        <span class="w">get_profiler()</span><span class="pc">.</span><span class="w">add_msg</span><span class="c">(</span><span class="w">LogMsgOperation</span><span class="pc">(</span><span class="w">p</span><span class="c">,</span> <span class="w">FENCE_OPERATION</span><span class="c">,</span> <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id</span><span class="pc">,</span> <span class="w">con</span><span class="pc">t</span><span class="c">ext,</span> <span class="pc">t</span><span class="c">ime</span><span class="pc">))</span><span class="c">;</span>
      <span class="pc">}</span>

      
      
      <span class="pc">sta</span><span class="c">tic</span> <span class="pc">i</span><span class="c">nline</span> <span class="c">void</span> <span class="w">log_deletion_operation</span><span class="c">(</span><span class="w">P</span><span class="pc">r</span><span class="c">ocessor</span> <span class="pc">p</span><span class="c">,</span>
                                                <span class="pc">U</span><span class="c">niqueID</span> <span class="w">c</span><span class="pc">o</span><span class="c">ntext,</span>
                                                <span class="w">U</span><span class="c">niqueID</span> <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id</span><span class="pc">)</span>
      <span class="c">{</span>
        <span class="w">u</span><span class="pc">ns</span><span class="c">igned</span> <span class="pc">l</span><span class="c">ong</span> <span class="w">l</span><span class="c">ong</span> <span class="w">ti</span><span class="c">me</span> <span class="w">=</span> <span class="w">TimeStamp</span><span class="pc">:</span><span class="c">:</span><span class="w">get_current_time_in_micros</span><span class="pc">()</span><span class="c">;</span>
        <span class="w">get_profiler()</span><span class="pc">.</span><span class="w">add_msg</span><span class="c">(</span><span class="w">LogMsgOperation</span><span class="pc">(</span><span class="w">p</span><span class="c">,</span> <span class="w">DELETION_OPERATION</span><span class="c">,</span> <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id</span><span class="pc">,</span> <span class="w">con</span><span class="pc">t</span><span class="c">ext,</span> <span class="pc">t</span><span class="c">ime</span><span class="pc">))</span><span class="c">;</span>
      <span class="pc">}</span>

      
      
      <span class="pc">sta</span><span class="c">tic</span> <span class="pc">i</span><span class="c">nline</span> <span class="c">void</span> <span class="w">log_close_operation</span><span class="c">(</span><span class="w">P</span><span class="pc">r</span><span class="c">ocessor</span> <span class="pc">p</span><span class="c">,</span>
                                             <span class="pc">U</span><span class="c">niqueID</span> <span class="w">c</span><span class="pc">o</span><span class="c">ntext,</span>
                                             <span class="w">U</span><span class="c">niqueID</span> <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id</span><span class="pc">)</span>
      <span class="c">{</span>
        <span class="w">u</span><span class="pc">ns</span><span class="c">igned</span> <span class="pc">l</span><span class="c">ong</span> <span class="w">l</span><span class="c">ong</span> <span class="w">ti</span><span class="c">me</span> <span class="w">=</span> <span class="w">TimeStamp</span><span class="pc">:</span><span class="c">:</span><span class="w">get_current_time_in_micros</span><span class="pc">()</span><span class="c">;</span>
        <span class="w">get_profiler()</span><span class="pc">.</span><span class="w">add_msg</span><span class="c">(</span><span class="w">LogMsgOperation</span><span class="pc">(</span><span class="w">p</span><span class="c">,</span> <span class="w">CLOSE_OPERATION</span><span class="c">,</span> <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id</span><span class="pc">,</span> <span class="w">con</span><span class="pc">t</span><span class="c">ext,</span> <span class="pc">t</span><span class="c">ime</span><span class="pc">))</span><span class="c">;</span>
      <span class="pc">}</span>

      
      
      <span class="pc">sta</span><span class="c">tic</span> <span class="pc">i</span><span class="c">nline</span> <span class="c">void</span> <span class="w">log_individual_task</span><span class="c">(</span><span class="w">P</span><span class="pc">r</span><span class="c">ocessor</span> <span class="pc">p</span><span class="c">,</span>
                                             <span class="pc">U</span><span class="c">niqueID</span> <span class="w">c</span><span class="pc">o</span><span class="c">ntext,</span>
                                             <span class="w">U</span><span class="c">niqueID</span> <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id,</span>
                                             <span class="w">P</span><span class="c">rocessor::</span><span class="pc">T</span><span class="c">askFuncID</span> <span class="c">task_id,</span>
                                             <span class="w">M</span><span class="c">appingTagID</span> <span class="w">ta</span><span class="pc">g)</span>
      <span class="c">{</span>
        <span class="w">u</span><span class="c">nsigned</span> <span class="w">l</span><span class="c">ong</span> <span class="w">lo</span><span class="pc">n</span><span class="c">g</span> <span class="pc">t</span><span class="c">ime</span> <span class="pc">=</span> <span class="w">TimeStamp</span><span class="pc">:</span><span class="c">:</span><span class="w">get_current_time_in_micros</span><span class="pc">()</span><span class="c">;</span>
        <span class="w">get_profiler(</span><span class="pc">).</span><span class="w">add_msg</span><span class="c">(</span><span class="w">LogMsgTaskOperation</span><span class="pc">(p</span><span class="c">,</span> <span class="w">tr</span><span class="pc">u</span><span class="c">e</span><span class="pc">,</span> <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id</span><span class="pc">,</span> <span class="w">ta</span><span class="pc">s</span><span class="c">k_id,</span> <span class="w">con</span><span class="pc">t</span><span class="c">ext,</span> <span class="pc">t</span><span class="c">ime,</span> <span class="w">ta</span><span class="pc">g))</span><span class="c">;</span>
      <span class="c">}</span>

      
      
      <span class="w">s</span><span class="c">tatic</span> <span class="pc">i</span><span class="c">nline</span> <span class="c">void</span> <span class="w">log_index_space_task</span><span class="c">(</span><span class="w">P</span><span class="pc">r</span><span class="c">ocessor</span> <span class="pc">p</span><span class="c">,</span>
                                              <span class="pc">U</span><span class="c">niqueID</span> <span class="w">c</span><span class="pc">o</span><span class="c">ntext,</span>
                                              <span class="w">U</span><span class="c">niqueID</span> <span class="w">u</span><span class="pc">n</span><span class="c">ique_op_id,</span>
                                              <span class="w">P</span><span class="c">rocessor</span><span class="pc">:</span><span class="c">:</span><span class="pc">T</span><span class="c">askFuncID</span> <span class="c">task_id,</span>
                                              <span class="w">M</span><span class="c">appingTagID</span> <span class="w">t</span><span class="pc">ag)</span>
      <span class="c">{</span>
        <span class="w">u</span><span class="c">nsigned</span> <span class="w">l</span><span class="c">ong</span> <span class="w">l</span><span class="pc">on</span><span class="c">g</span> <span class="w">ti</span><span class="pc">m</span><span class="c">e</span> <span class="pc">=</span> <span class="w">TimeStamp</span><span class="pc">:</span><span class="c">:</span><span class="w">get_current_time_in_micros</span><span class="pc">()</span><span class="c">;</span>
        <span class="w">get_profiler()</span><span class="pc">.</span><span class="w">add_msg</span><span class="c">(</span><span class="w">LogMsgTaskOperation</span><span class="pc">(p</span><span class="c">,</span> <span class="w">f</span><span class="pc">a</span><span class="c">lse</span><span class="pc">,</span> <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id</span><span class="pc">,</span> <span class="w">ta</span><span class="pc">s</span><span class="c">k_id,</span> <span class="w">con</span><span class="pc">t</span><span class="c">ext,</span> <span class="pc">t</span><span class="c">ime,</span> <span class="w">ta</span><span class="pc">g))</span><span class="c">;</span>
      <span class="c">}</span>

      
      
      

      
      
      <span class="w">s</span><span class="c">tatic</span> <span class="pc">i</span><span class="c">nline</span> <span class="c">void</span> <span class="w">log_task_collection</span><span class="c">(</span><span class="w">P</span><span class="pc">r</span><span class="c">ocessor</span><span class="pc">:</span><span class="c">:TaskFuncID</span> <span class="c">task_id,</span>
                                             <span class="w">b</span><span class="c">ool</span> <span class="w">le</span><span class="c">af,</span> <span class="c">bool</span> <span class="w">idempotent</span><span class="c">,</span>
                                             <span class="pc">c</span><span class="c">onst</span> <span class="pc">c</span><span class="c">har</span> <span class="c">*name</span><span class="pc">)</span>
      <span class="c">{</span>
        <span class="w">msgs_task_collection</span><span class="c">.</span><span class="pc">p</span><span class="c">ush_back(</span><span class="w">LogMsgTaskCollection</span><span class="pc">(</span><span class="w">ta</span><span class="pc">sk_</span><span class="c">id,</span> <span class="w">le</span><span class="c">af,</span> <span class="w">i</span><span class="c">dempotent</span><span class="pc">,</span> <span class="w">n</span><span class="pc">a</span><span class="c">me</span><span class="pc">))</span><span class="c">;</span>
      <span class="c">}</span>

      
      
      <span class="pc">s</span><span class="c">tatic</span> <span class="c">inline</span> <span class="c">void</span> <span class="w">log_task_variant</span><span class="c">(</span><span class="w">P</span><span class="c">rocessor::TaskFuncID</span> <span class="c">task_id,</span>
                                          <span class="pc">P</span><span class="c">rocessor</span><span class="pc">:</span><span class="c">:</span><span class="pc">K</span><span class="c">ind</span> <span class="w">proc_kind</span><span class="c">,</span>
                                          <span class="c">bool</span> <span class="w">single_task</span><span class="pc">,</span> <span class="c">bool</span> <span class="w">index_task</span><span class="pc">,</span>
                                          <span class="w">VariantID</span> <span class="w">vid</span><span class="pc">)</span>
      <span class="c">{</span>
        <span class="w">msgs_task_variant</span><span class="pc">.</span><span class="w">p</span><span class="c">ush_back(</span><span class="w">LogMsgTaskVariant</span><span class="pc">(</span><span class="w">t</span><span class="pc">ask_</span><span class="c">id</span><span class="pc">,</span> <span class="c">proc_kind,</span> <span class="pc">s</span><span class="c">ingle_task,</span> <span class="pc">i</span><span class="c">ndex_task,</span> <span class="pc">v</span><span class="c">id</span><span class="pc">))</span><span class="c">;</span>
      <span class="pc">}</span>

      
      
      <span class="w">s</span><span class="pc">ta</span><span class="c">tic</span> <span class="pc">i</span><span class="c">nline</span> <span class="c">void</span> <span class="w">log_top_level_task</span><span class="c">(</span><span class="w">P</span><span class="c">rocessor::TaskFuncID</span> <span class="c">task_id,</span>
                                            <span class="w">U</span><span class="c">niqueID</span> <span class="w">u</span><span class="pc">n</span><span class="c">ique_op_id</span><span class="pc">)</span>
      <span class="c">{</span>
        <span class="w">msgs_top_level_task</span><span class="c">.</span><span class="w">p</span><span class="c">ush_back(</span><span class="w">LogMsgTopLevelTask</span><span class="pc">(</span><span class="w">ta</span><span class="pc">sk_</span><span class="c">id</span><span class="pc">,</span> <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id</span><span class="w">))</span><span class="pc">;</span>
      <span class="c">}</span>

      
      
      <span class="w">s</span><span class="c">tatic</span> <span class="c">inline</span> <span class="c">void</span> <span class="w">log_index_slice</span><span class="c">(</span><span class="w">P</span><span class="pc">r</span><span class="c">ocessor</span> <span class="pc">p</span><span class="c">,</span> <span class="pc">U</span><span class="c">niqueID</span> <span class="w">index_id</span><span class="pc">,</span>
                                          <span class="w">U</span><span class="c">niqueID</span> <span class="w">slice_id</span><span class="pc">)</span>
      <span class="c">{</span>
        <span class="w">get_profiler()</span><span class="pc">.</span><span class="w">add_msg</span><span class="pc">(</span><span class="w">LogMsgIndexSlice</span><span class="pc">(</span><span class="w">i</span><span class="c">ndex_id,</span> <span class="w">s</span><span class="c">lice_id</span><span class="w">)</span><span class="pc">);</span>
      <span class="c">}</span>

      
      
      
      <span class="w">s</span><span class="pc">t</span><span class="c">atic</span> <span class="c">inline</span> <span class="c">void</span> <span class="w">log_slice_slice</span><span class="c">(</span><span class="w">P</span><span class="c">rocessor</span> <span class="c">p,</span> <span class="pc">U</span><span class="c">niqueID</span> <span class="w">slice_parent</span><span class="pc">,</span>
                                          <span class="w">U</span><span class="c">niqueID</span> <span class="w">slice_subslice</span><span class="pc">)</span>
      <span class="c">{</span>
        <span class="pc">g</span><span class="c">et_profiler</span><span class="w">()</span><span class="pc">.a</span><span class="c">dd_msg(</span><span class="w">LogMsgSliceSlice</span><span class="pc">(s</span><span class="c">lice_parent,</span> <span class="w">s</span><span class="pc">lice_s</span><span class="c">ubslice</span><span class="w">)</span><span class="pc">);</span>
      <span class="c">}</span>

      
      
      
      <span class="w">s</span><span class="pc">t</span><span class="c">atic</span> <span class="c">inline</span> <span class="c">void</span> <span class="w">log_slice_point</span><span class="c">(</span><span class="w">P</span><span class="pc">r</span><span class="c">ocessor</span> <span class="c">p,</span> <span class="pc">U</span><span class="c">niqueID</span> <span class="w">sl</span><span class="pc">ice_i</span><span class="c">d</span><span class="pc">,</span>
                                          <span class="w">U</span><span class="c">niqueID</span> <span class="w">point_id</span><span class="c">,</span> 
                                          <span class="pc">c</span><span class="c">onst</span> <span class="w">D</span><span class="pc">omainP</span><span class="c">oint</span> <span class="c">&amp;</span><span class="pc">p</span><span class="c">oint)</span>
      <span class="c">{</span>
        <span class="pc">g</span><span class="c">et_profiler</span><span class="w">()</span><span class="pc">.a</span><span class="c">dd_msg(</span><span class="w">LogMsgSlicePoint</span><span class="pc">(s</span><span class="c">lice_id,</span> <span class="w">p</span><span class="c">oint_id,</span> <span class="w">po</span><span class="pc">int</span><span class="w">))</span><span class="pc">;</span>
      <span class="c">}</span>

      
      
      <span class="pc">s</span><span class="c">tatic</span> <span class="pc">i</span><span class="c">nline</span> <span class="c">void</span> <span class="w">log_point_point</span><span class="c">(</span><span class="w">P</span><span class="pc">r</span><span class="c">ocessor</span> <span class="pc">p</span><span class="c">,</span> <span class="pc">U</span><span class="c">niqueID</span> <span class="w">orig_point</span><span class="c">,</span>
                                         <span class="w">U</span><span class="c">niqueID</span> <span class="w">new_point</span><span class="pc">)</span>
      <span class="c">{</span>
        <span class="w">g</span><span class="c">et_profiler</span><span class="w">()</span><span class="pc">.</span><span class="w">a</span><span class="pc">dd_m</span><span class="c">sg(</span><span class="w">LogMsgPointPoint</span><span class="pc">(</span><span class="w">o</span><span class="c">rig_point,</span> <span class="w">n</span><span class="c">ew_point</span><span class="w">)</span><span class="pc">);</span>
      <span class="c">}</span>

      
      
      
      
      
      <span class="w">s</span><span class="pc">t</span><span class="c">atic</span> <span class="c">inline</span> <span class="c">void</span> <span class="w">log_timing_event</span><span class="c">(</span><span class="w">P</span><span class="c">rocessor</span> <span class="c">p,</span> <span class="pc">U</span><span class="c">niqueID</span> <span class="w">unique_id</span><span class="pc">,</span>
                                          <span class="w">TimingKind</span> <span class="w">k</span><span class="c">ind</span><span class="pc">)</span>
      <span class="c">{</span>
        <span class="w">u</span><span class="pc">ns</span><span class="c">igned</span> <span class="w">l</span><span class="c">ong</span> <span class="w">l</span><span class="pc">on</span><span class="c">g</span> <span class="w">time</span> <span class="w">=</span> <span class="w">TimeStamp</span><span class="pc">:</span><span class="c">:</span><span class="w">get_current_time_in_micros</span><span class="pc">()</span><span class="c">;</span>
        <span class="w">g</span><span class="c">et_profiler</span><span class="w">()</span><span class="pc">.</span><span class="c">add_msg(</span><span class="w">LogMsgOperationTiming</span><span class="pc">(</span><span class="w">p</span><span class="c">,</span> <span class="w">u</span><span class="c">nique_id,</span> <span class="w">k</span><span class="c">ind</span><span class="pc">,</span> <span class="pc">t</span><span class="c">ime</span><span class="pc">))</span><span class="c">;</span>
      <span class="c">}</span>

      
      <span class="w">s</span><span class="c">tatic</span> <span class="pc">i</span><span class="c">nline</span> <span class="c">void</span> <span class="w">l</span><span class="c">og_timing_event(</span><span class="w">P</span><span class="pc">roc</span><span class="c">essor</span> <span class="pc">p</span><span class="c">,</span> <span class="w">E</span><span class="c">vent</span> <span class="pc">e</span><span class="c">vent</span><span class="pc">,</span>
                                          <span class="w">T</span><span class="pc">imi</span><span class="c">ngKind</span> <span class="w">k</span><span class="c">ind</span><span class="pc">)</span>
      <span class="c">{</span>
<span class="pc">#</span><span class="c">ifdef</span> <span class="w">LEGION_LOGGING_CHECK_NO_EVENT</span>
        <span class="pc">a</span><span class="c">ssert(</span><span class="w">e</span><span class="pc">v</span><span class="c">ent</span><span class="pc">.</span><span class="c">exists());</span>
<span class="c">#endif</span>
        <span class="w">u</span><span class="pc">ns</span><span class="c">igned</span> <span class="w">l</span><span class="c">ong</span> <span class="pc">l</span><span class="c">ong</span> <span class="w">ti</span><span class="pc">m</span><span class="c">e</span> <span class="w">=</span> <span class="w">TimeStamp</span><span class="pc">:</span><span class="c">:</span><span class="w">get_current_time_in_micros</span><span class="pc">()</span><span class="c">;</span>
        <span class="w">get_profiler()</span><span class="pc">.</span><span class="w">add_msg</span><span class="c">(</span><span class="w">LogMsgEventTiming</span><span class="pc">(</span><span class="w">p</span><span class="c">,</span> <span class="w">e</span><span class="c">vent</span><span class="pc">,</span> <span class="w">k</span><span class="c">ind</span><span class="pc">,</span> <span class="c">time</span><span class="pc">))</span><span class="c">;</span>
      <span class="c">}</span>

      
      <span class="w">s</span><span class="c">tatic</span> <span class="pc">i</span><span class="c">nline</span> <span class="c">void</span> <span class="w">log_future_wait_begin</span><span class="c">(</span><span class="w">P</span><span class="pc">roc</span><span class="c">essor</span> <span class="pc">p</span><span class="c">,</span> <span class="pc">U</span><span class="c">niqueID</span> <span class="w">c</span><span class="pc">on</span><span class="c">text</span><span class="pc">,</span>
                                         <span class="w">U</span><span class="c">niqueID</span> <span class="w">w</span><span class="c">ait_on</span><span class="pc">)</span>
      <span class="c">{</span>
        <span class="w">u</span><span class="c">nsigned</span> <span class="pc">l</span><span class="c">ong</span> <span class="c">long</span> <span class="c">time</span> <span class="w">=</span> <span class="w">T</span><span class="c">imeStamp</span><span class="pc">:</span><span class="c">:</span><span class="pc">get_c</span><span class="c">urrent_time_in_micros</span><span class="pc">()</span><span class="c">;</span>
        <span class="w">g</span><span class="c">et_profiler</span><span class="w">()</span><span class="pc">.</span><span class="w">a</span><span class="pc">dd_m</span><span class="c">sg(</span><span class="w">LogMsgFutureWait(p</span><span class="c">,</span> <span class="w">co</span><span class="pc">nt</span><span class="c">ext,</span> <span class="w">w</span><span class="c">ait_on</span><span class="pc">,</span> <span class="w">WAIT_BEGIN</span><span class="c">,</span> <span class="pc">t</span><span class="c">ime</span><span class="pc">))</span><span class="c">;</span>
      <span class="pc">}</span>

      
      
      
      
      <span class="pc">sta</span><span class="c">tic</span> <span class="pc">i</span><span class="c">nline</span> <span class="c">void</span> <span class="w">log_future_wait_end</span><span class="c">(</span><span class="w">P</span><span class="pc">r</span><span class="c">ocessor</span> <span class="pc">p</span><span class="c">,</span> <span class="pc">U</span><span class="c">niqueID</span> <span class="w">c</span><span class="pc">o</span><span class="c">ntext,</span>
                                         <span class="w">U</span><span class="c">niqueID</span> <span class="w">w</span><span class="c">ait_on</span><span class="pc">)</span>
      <span class="c">{</span>
        <span class="w">u</span><span class="pc">ns</span><span class="c">igned</span> <span class="pc">l</span><span class="c">ong</span> <span class="pc">l</span><span class="c">ong</span> <span class="w">ti</span><span class="c">me</span> <span class="w">=</span> <span class="w">TimeStamp</span><span class="pc">:</span><span class="c">:</span><span class="w">get_current_time_in_micros</span><span class="pc">()</span><span class="c">;</span>
        <span class="w">get_profiler()</span><span class="pc">.</span><span class="w">add_msg</span><span class="c">(</span><span class="w">LogMsgFutureWait</span><span class="pc">(</span><span class="w">p</span><span class="c">,</span> <span class="w">con</span><span class="pc">t</span><span class="c">ext,</span> <span class="w">w</span><span class="c">ait_on</span><span class="pc">,</span> <span class="w">WAIT_END</span><span class="c">,</span> <span class="pc">t</span><span class="c">ime</span><span class="pc">))</span><span class="c">;</span>
      <span class="pc">}</span>

      
      <span class="pc">sta</span><span class="c">tic</span> <span class="pc">i</span><span class="c">nline</span> <span class="c">void</span> <span class="w">log_future_nowait</span><span class="c">(</span><span class="w">P</span><span class="pc">r</span><span class="c">ocessor</span> <span class="pc">p</span><span class="c">,</span> <span class="pc">U</span><span class="c">niqueID</span> <span class="w">c</span><span class="pc">o</span><span class="c">ntext,</span>
                                         <span class="w">U</span><span class="c">niqueID</span> <span class="w">w</span><span class="c">ait_on</span><span class="pc">)</span>
      <span class="c">{</span>
        <span class="w">u</span><span class="pc">ns</span><span class="c">igned</span> <span class="pc">l</span><span class="c">ong</span> <span class="pc">l</span><span class="c">ong</span> <span class="w">ti</span><span class="c">me</span> <span class="w">=</span> <span class="w">TimeStamp</span><span class="pc">:</span><span class="c">:</span><span class="w">get_current_time_in_micros</span><span class="pc">()</span><span class="c">;</span>
        <span class="w">get_profiler()</span><span class="pc">.</span><span class="w">add_msg</span><span class="c">(</span><span class="w">LogMsgFutureWait</span><span class="pc">(</span><span class="w">p</span><span class="c">,</span> <span class="w">con</span><span class="pc">t</span><span class="c">ext,</span> <span class="w">w</span><span class="c">ait_on</span><span class="pc">,</span> <span class="w">WAIT_NOWAIT</span><span class="c">,</span> <span class="pc">t</span><span class="c">ime</span><span class="pc">))</span><span class="c">;</span>
      <span class="pc">}</span>

      
      <span class="pc">sta</span><span class="c">tic</span> <span class="pc">i</span><span class="c">nline</span> <span class="c">void</span> <span class="w">log_inline_wait_begin</span><span class="c">(</span><span class="w">P</span><span class="pc">r</span><span class="c">ocessor</span> <span class="pc">p</span><span class="c">,</span> <span class="pc">U</span><span class="c">niqueID</span> <span class="w">c</span><span class="pc">o</span><span class="c">ntext,</span>
                                         <span class="w">E</span><span class="c">vent</span> <span class="c">wait_on</span><span class="pc">)</span>
      <span class="c">{</span>
        <span class="w">u</span><span class="c">nsigned</span> <span class="pc">l</span><span class="c">ong</span> <span class="c">long</span> <span class="w">ti</span><span class="c">me</span> <span class="w">=</span> <span class="w">TimeStamp</span><span class="pc">:</span><span class="c">:</span><span class="w">get_current_time_in_micros</span><span class="pc">()</span><span class="c">;</span>
        <span class="w">get_profiler()</span><span class="pc">.</span><span class="w">add_msg</span><span class="c">(</span><span class="w">LogMsgInlineWait</span><span class="pc">(</span><span class="w">p</span><span class="c">,</span> <span class="w">co</span><span class="pc">nt</span><span class="c">ext,</span> <span class="w">w</span><span class="c">ait_on</span><span class="pc">,</span> <span class="w">WAIT_BEGIN</span><span class="c">,</span> <span class="pc">t</span><span class="c">ime</span><span class="pc">))</span><span class="c">;</span>
      <span class="pc">}</span>

      
      <span class="pc">sta</span><span class="c">tic</span> <span class="pc">i</span><span class="c">nline</span> <span class="c">void</span> <span class="w">log_inline_wait_end</span><span class="c">(</span><span class="w">P</span><span class="pc">r</span><span class="c">ocessor</span> <span class="pc">p</span><span class="c">,</span> <span class="pc">U</span><span class="c">niqueID</span> <span class="w">c</span><span class="pc">o</span><span class="c">ntext,</span>
                                         <span class="w">E</span><span class="c">vent</span> <span class="c">wait_on</span><span class="pc">)</span>
      <span class="c">{</span>
        <span class="w">u</span><span class="c">nsigned</span> <span class="pc">l</span><span class="c">ong</span> <span class="c">long</span> <span class="w">ti</span><span class="c">me</span> <span class="w">=</span> <span class="w">TimeStamp</span><span class="pc">:</span><span class="c">:</span><span class="w">get_current_time_in_micros</span><span class="pc">()</span><span class="c">;</span>
        <span class="w">get_profiler()</span><span class="pc">.</span><span class="w">add_msg</span><span class="c">(</span><span class="w">LogMsgInlineWait</span><span class="pc">(</span><span class="w">p</span><span class="c">,</span> <span class="w">co</span><span class="pc">nt</span><span class="c">ext,</span> <span class="w">w</span><span class="c">ait_on</span><span class="pc">,</span> <span class="w">WAIT_END</span><span class="c">,</span> <span class="pc">t</span><span class="c">ime</span><span class="pc">))</span><span class="c">;</span>
      <span class="pc">}</span>

      
      <span class="pc">sta</span><span class="c">tic</span> <span class="pc">i</span><span class="c">nline</span> <span class="c">void</span> <span class="w">log_inline_nowait</span><span class="c">(</span><span class="w">P</span><span class="pc">r</span><span class="c">ocessor</span> <span class="pc">p</span><span class="c">,</span> <span class="pc">U</span><span class="c">niqueID</span> <span class="w">c</span><span class="pc">o</span><span class="c">ntext,</span>
                                         <span class="w">E</span><span class="c">vent</span> <span class="c">wait_on</span><span class="pc">)</span>
      <span class="c">{</span>
        <span class="w">u</span><span class="c">nsigned</span> <span class="pc">l</span><span class="c">ong</span> <span class="c">long</span> <span class="w">ti</span><span class="c">me</span> <span class="w">=</span> <span class="w">TimeStamp</span><span class="pc">:</span><span class="c">:</span><span class="w">get_current_time_in_micros</span><span class="pc">()</span><span class="c">;</span>
        <span class="w">get_profiler()</span><span class="pc">.</span><span class="w">add_msg</span><span class="c">(</span><span class="w">LogMsgInlineWait</span><span class="pc">(</span><span class="w">p</span><span class="c">,</span> <span class="w">co</span><span class="pc">nt</span><span class="c">ext,</span> <span class="w">w</span><span class="c">ait_on</span><span class="pc">,</span> <span class="w">WAIT_NOWAIT</span><span class="c">,</span> <span class="pc">t</span><span class="c">ime</span><span class="pc">))</span><span class="c">;</span>
      <span class="pc">}</span>

      
      
      

      
      
      
      <span class="pc">sta</span><span class="c">tic</span> <span class="pc">i</span><span class="c">nline</span> <span class="c">void</span> <span class="w">log_top_index_space</span><span class="c">(</span><span class="w">P</span><span class="pc">r</span><span class="c">ocessor</span> <span class="pc">p</span><span class="c">,</span> <span class="w">I</span><span class="c">ndexSpace</span> <span class="w">sp</span><span class="c">ace</span><span class="pc">)</span>
      <span class="c">{</span>
        <span class="pc">g</span><span class="c">et_profiler</span><span class="w">()</span><span class="pc">.</span><span class="w">a</span><span class="c">dd_msg(</span><span class="w">LogMsgTopIndexSpace</span><span class="pc">(</span><span class="w">sp</span><span class="c">ace</span><span class="pc">))</span><span class="c">;</span>
      <span class="c">}</span>

      
      
      <span class="w">s</span><span class="c">tatic</span> <span class="w">i</span><span class="pc">nl</span><span class="c">ine</span> <span class="c">void</span> <span class="w">log_index_partition</span><span class="c">(</span><span class="w">P</span><span class="c">rocessor</span> <span class="c">p,</span>
                                             <span class="w">I</span><span class="pc">ndexS</span><span class="c">pace</span> <span class="w">p</span><span class="pc">a</span><span class="c">rent,</span> 
                                             <span class="w">I</span><span class="c">ndexPartition</span> <span class="pc">h</span><span class="c">andle,</span>
                                             <span class="pc">b</span><span class="c">ool</span> <span class="w">disjoint</span><span class="pc">,</span> <span class="w">C</span><span class="pc">ol</span><span class="c">or</span> <span class="w">c</span><span class="pc">o</span><span class="c">lor</span><span class="pc">)</span>
      <span class="c">{</span>
        <span class="w">g</span><span class="c">et_profiler</span><span class="w">()</span><span class="pc">.a</span><span class="c">dd_msg(</span><span class="w">LogMsgIndexPartition</span><span class="pc">(</span><span class="w">p</span><span class="pc">a</span><span class="c">rent</span><span class="pc">,</span> <span class="w">h</span><span class="c">andle</span><span class="pc">,</span> <span class="w">d</span><span class="c">isjoint,</span> <span class="w">c</span><span class="pc">olor))</span><span class="c">;</span>
      <span class="c">}</span>

      
      
      <span class="pc">s</span><span class="c">tatic</span> <span class="c">inline</span> <span class="c">void</span> <span class="w">log_index_subspace</span><span class="c">(</span><span class="w">P</span><span class="pc">roc</span><span class="c">essor</span> <span class="w">p</span><span class="c">,</span> <span class="pc">IndexP</span><span class="c">artition</span> <span class="w">p</span><span class="pc">a</span><span class="c">rent,</span>
                                            <span class="w">I</span><span class="pc">ndexS</span><span class="c">pace</span> <span class="pc">h</span><span class="c">andle,</span> <span class="w">C</span><span class="pc">ol</span><span class="c">or</span> <span class="w">c</span><span class="c">olor)</span>
      <span class="c">{</span>
        <span class="w">g</span><span class="c">et_profiler</span><span class="w">().a</span><span class="c">dd_msg</span><span class="pc">(</span><span class="w">LogMsgIndexSubspace</span><span class="pc">(</span><span class="w">p</span><span class="pc">a</span><span class="c">rent,</span> <span class="w">h</span><span class="c">andle</span><span class="pc">,</span> <span class="w">c</span><span class="pc">o</span><span class="c">lor</span><span class="w">)</span><span class="pc">)</span><span class="c">;</span>
      <span class="c">}</span>

      
      
      <span class="pc">s</span><span class="c">tatic</span> <span class="c">inline</span> <span class="c">void</span> <span class="w">log_field_space</span><span class="c">(</span><span class="w">P</span><span class="pc">r</span><span class="c">ocessor</span> <span class="pc">p</span><span class="c">,</span> <span class="w">F</span><span class="pc">ieldS</span><span class="c">pace</span> <span class="pc">h</span><span class="c">andle)</span>
      <span class="c">{</span>
        <span class="w">g</span><span class="c">et_profiler</span><span class="w">()</span><span class="pc">.</span><span class="w">a</span><span class="pc">dd_m</span><span class="c">sg(</span><span class="w">LogMsgFieldSpace</span><span class="pc">(h</span><span class="c">andle</span><span class="w">)</span><span class="pc">)</span><span class="c">;</span>
      <span class="c">}</span>

      
      
      
      <span class="w">s</span><span class="c">tatic</span> <span class="w">i</span><span class="c">nline</span> <span class="c">void</span> <span class="w">log_field_creation</span><span class="c">(</span><span class="w">P</span><span class="c">rocessor</span> <span class="c">p,</span> <span class="w">F</span><span class="pc">ieldS</span><span class="c">pace</span> <span class="pc">h</span><span class="c">andle</span><span class="pc">,</span> 
                                            <span class="w">F</span><span class="c">ieldID</span> <span class="c">fid,</span> <span class="pc">b</span><span class="c">ool</span> <span class="w">l</span><span class="pc">oc</span><span class="c">al)</span>
      <span class="c">{</span>
        <span class="w">g</span><span class="c">et_profiler</span><span class="w">()</span><span class="pc">.</span><span class="w">a</span><span class="pc">dd_m</span><span class="c">sg</span><span class="pc">(</span><span class="w">LogMsgFieldCreation</span><span class="pc">(</span><span class="w">h</span><span class="c">andle</span><span class="pc">,</span> <span class="w">f</span><span class="c">id,</span> <span class="w">lo</span><span class="pc">cal))</span><span class="c">;</span>
      <span class="c">}</span>

      
      
      <span class="pc">s</span><span class="c">tatic</span> <span class="c">inline</span> <span class="c">void</span> <span class="w">log_top_region</span><span class="c">(</span><span class="w">P</span><span class="c">rocessor</span> <span class="pc">p</span><span class="c">,</span> <span class="w">I</span><span class="c">ndexSpace</span> <span class="w">ispace</span><span class="c">,</span>
                                        <span class="w">F</span><span class="pc">ieldS</span><span class="c">pace</span> <span class="w">fspace</span><span class="c">,</span> <span class="w">RegionTreeID</span> <span class="w">t</span><span class="c">id)</span>
      <span class="c">{</span>
        <span class="w">g</span><span class="c">et_profiler</span><span class="w">().a</span><span class="c">dd_msg(</span><span class="w">LogMsgTopRegion</span><span class="pc">(</span><span class="w">i</span><span class="c">space</span><span class="pc">,</span> <span class="w">f</span><span class="pc">s</span><span class="c">pace</span><span class="pc">,</span> <span class="w">ti</span><span class="c">d</span><span class="w">))</span><span class="c">;</span>
      <span class="c">}</span>

      
      
      

      
      
      
      
      
      <span class="pc">s</span><span class="c">tatic</span> <span class="c">inline</span> <span class="c">void</span> <span class="w">log_logical_requirement</span><span class="c">(</span><span class="w">P</span><span class="c">rocessor</span> <span class="pc">p</span><span class="c">,</span> 
                                                 <span class="pc">U</span><span class="c">niqueID</span> <span class="w">u</span><span class="c">nique_op_id,</span>
                                                 <span class="pc">u</span><span class="c">nsigned</span> <span class="pc">in</span><span class="c">dex,</span>
                                                 <span class="pc">b</span><span class="c">ool</span> <span class="w">r</span><span class="pc">egion,</span>
                                                 <span class="pc">u</span><span class="c">nsigned</span> <span class="w">index_component</span><span class="c">,</span>
                                                 <span class="c">unsigned</span> <span class="w">field_component</span><span class="pc">,</span>
                                                 <span class="w">R</span><span class="pc">eg</span><span class="c">ionTreeID</span> <span class="w">t</span><span class="pc">i</span><span class="c">d,</span>
                                                 <span class="w">PrivilegeMode</span> <span class="w">privilege</span><span class="pc">,</span>
                                                 <span class="w">CoherenceProperty</span> <span class="w">prop</span><span class="c">,</span>
                                                 <span class="w">R</span><span class="c">eductionOpID</span> <span class="w">r</span><span class="c">edop,</span>
                                       <span class="c">const</span> <span class="w">s</span><span class="c">td::</span><span class="pc">s</span><span class="c">et&lt;</span><span class="pc">F</span><span class="c">ieldID&gt; &amp;</span><span class="w">logical_fields</span><span class="pc">)</span>
      <span class="c">{</span>
        
        <span class="w">get_profiler()</span><span class="pc">.</span><span class="w">add_msg</span><span class="c">(</span><span class="w">LogMsgLogicalRequirement</span><span class="pc">(</span><span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id,</span> <span class="w">i</span><span class="pc">ndex</span><span class="c">,</span> <span class="w">reg</span><span class="pc">ion,</span> <span class="w">i</span><span class="pc">n</span><span class="c">dex_component,</span> <span class="w">f</span><span class="pc">ield_c</span><span class="c">omponent,</span> <span class="w">ti</span><span class="c">d,</span> <span class="pc">p</span><span class="c">rivilege</span><span class="pc">,</span> <span class="c">prop,</span> <span class="w">r</span><span class="pc">ed</span><span class="c">op</span><span class="w">)</span><span class="pc">)</span><span class="c">;</span>
      <span class="c">}</span>

      
      
      
      
      <span class="pc">s</span><span class="c">tatic</span> <span class="c">inline</span> <span class="c">void</span> <span class="w">log_mapping_dependence</span><span class="c">(</span><span class="w">P</span><span class="c">rocessor</span> <span class="c">p,</span>
                                                <span class="pc">U</span><span class="c">niqueID</span> <span class="w">parent_context</span><span class="c">,</span>
                                                <span class="w">U</span><span class="c">niqueID</span> <span class="w">previous_id</span><span class="c">,</span>
                                                <span class="c">unsigned</span> <span class="w">previous_index</span><span class="pc">,</span>
                                                <span class="w">U</span><span class="c">niqueID</span> <span class="w">next_id</span><span class="c">,</span>
                                                <span class="pc">u</span><span class="c">nsigned</span> <span class="w">next_index</span><span class="c">,</span>
                                                <span class="w">DependenceType</span> <span class="w">dep_type</span><span class="c">)</span>
      <span class="c">{</span>
        <span class="w">get_profiler()</span><span class="pc">.</span><span class="w">add_msg</span><span class="pc">(</span><span class="w">LogMsgMappingDependence</span><span class="pc">(</span><span class="w">p</span><span class="pc">a</span><span class="c">rent_context,</span> <span class="w">p</span><span class="pc">revious_id</span><span class="c">,</span> <span class="pc">pr</span><span class="c">evious_index</span><span class="pc">,</span> <span class="pc">n</span><span class="c">ext_id,</span> <span class="pc">next_in</span><span class="c">dex,</span> <span class="pc">d</span><span class="c">ep_type</span><span class="w">)</span><span class="pc">)</span><span class="c">;</span>
      <span class="c">}</span>

      
      
      

      
      
      <span class="c">static</span> <span class="c">inline</span> <span class="c">void</span> <span class="w">log_task_instance_requirement</span><span class="c">(</span><span class="w">P</span><span class="pc">ro</span><span class="c">cessor</span> <span class="pc">p</span><span class="c">,</span>
                                                       <span class="pc">U</span><span class="c">niqueID</span> <span class="w">unique_id</span><span class="c">,</span>
                                                       <span class="c">unsigned</span> <span class="pc">i</span><span class="c">ndex,</span>
                                                       <span class="w">I</span><span class="c">ndexSpace</span> <span class="w">h</span><span class="c">andle)</span>
      <span class="c">{</span>
        <span class="c">get_profiler</span><span class="w">()</span><span class="pc">.</span><span class="w">a</span><span class="c">dd_msg</span><span class="pc">(</span><span class="w">LogMsgTaskInstanceRequirement</span><span class="pc">(u</span><span class="c">nique_id,</span><span class="w">i</span><span class="pc">nd</span><span class="c">ex,</span> <span class="w">h</span><span class="c">andle</span><span class="w">)</span><span class="pc">)</span><span class="c">;</span>
      <span class="c">}</span>

      
      
      
      <span class="pc">s</span><span class="c">tatic</span> <span class="c">inline</span> <span class="c">void</span> <span class="w">log_task_instance_variant</span><span class="c">(</span><span class="w">P</span><span class="c">rocessor</span> <span class="pc">p</span><span class="c">,</span>
                                                   <span class="pc">U</span><span class="c">niqueID</span> <span class="w">u</span><span class="pc">nique_o</span><span class="c">p_id,</span>
                                                   <span class="w">VariantID</span> <span class="w">vid</span><span class="pc">)</span>
      <span class="c">{</span>
        <span class="pc">g</span><span class="c">et_profiler</span><span class="w">().a</span><span class="pc">dd_m</span><span class="c">sg(</span><span class="w">LogMsgTaskInstanceVariant</span><span class="pc">(</span><span class="w">u</span><span class="pc">nique_o</span><span class="c">p_id,</span> <span class="w">v</span><span class="pc">i</span><span class="c">d</span><span class="w">))</span><span class="pc">;</span>
      <span class="c">}</span>

      
      
      

      
      
      
      
      <span class="w">s</span><span class="pc">t</span><span class="c">atic</span> <span class="c">inline</span> <span class="c">void</span> <span class="w">log_event_dependence</span><span class="c">(</span><span class="w">P</span><span class="c">rocessor</span> <span class="pc">p</span><span class="c">,</span> 
                                              <span class="w">E</span><span class="c">vent</span> <span class="w">one</span><span class="pc">,</span> <span class="w">E</span><span class="c">vent</span> <span class="w">two</span><span class="pc">)</span>
      <span class="c">{</span>
<span class="pc">#</span><span class="c">ifdef</span> <span class="w">LEGION_LOGGING_CHECK_NO_EVENT</span>
        <span class="pc">a</span><span class="c">ssert(</span><span class="w">o</span><span class="c">ne</span><span class="pc">.e</span><span class="c">xists());</span>
        <span class="w">a</span><span class="pc">s</span><span class="c">sert(</span><span class="pc">t</span><span class="c">wo</span><span class="pc">.e</span><span class="c">xists());</span>
<span class="c">#endif</span>
        <span class="pc">i</span><span class="c">f</span> <span class="c">(one</span> <span class="pc">!</span><span class="c">=</span> <span class="c">two)</span>
          <span class="w">get_profiler()</span><span class="pc">.</span><span class="w">add_msg</span><span class="c">(</span><span class="w">LogMsgEventDependency</span><span class="pc">(o</span><span class="c">ne,</span> <span class="pc">t</span><span class="c">wo</span><span class="w">)</span><span class="pc">)</span><span class="c">;</span>
      <span class="c">}</span>

      
      
      
      
      
      
      <span class="w">s</span><span class="pc">t</span><span class="c">atic</span> <span class="pc">i</span><span class="c">nline</span> <span class="c">void</span> <span class="w">log_event_dependences</span><span class="c">(</span><span class="w">P</span><span class="c">rocessor</span> <span class="pc">p</span><span class="c">,</span>
                           <span class="pc">c</span><span class="c">onst</span> <span class="c">std::</span><span class="pc">s</span><span class="c">et&lt;</span><span class="w">E</span><span class="c">vent&gt; &amp;</span><span class="w">p</span><span class="pc">r</span><span class="c">econditions</span><span class="pc">,</span> <span class="w">E</span><span class="c">vent</span> <span class="w">res</span><span class="c">ult</span><span class="pc">)</span>
      <span class="c">{</span>
        <span class="pc">f</span><span class="c">or</span> <span class="c">(std::set&lt;</span><span class="pc">E</span><span class="c">vent&gt;::const_iterator</span> <span class="c">it</span> <span class="c">=</span> <span class="w">p</span><span class="pc">r</span><span class="c">econditions.begin();</span>
              <span class="c">it</span> <span class="c">!=</span> <span class="w">p</span><span class="c">reconditions.end();</span> <span class="c">it++)</span>
        <span class="c">{</span>
          <span class="w">log_event_dependence(p,</span><span class="pc"> </span><span class="c">*it</span><span class="w">,</span> <span class="w">r</span><span class="c">esult</span><span class="pc">);</span>
        <span class="c">}</span>
      <span class="pc">}</span>

      
      
      
      
      <span class="w">s</span><span class="pc">ta</span><span class="c">tic</span> <span class="pc">i</span><span class="c">nline</span> <span class="c">void</span> <span class="w">log_operation_events</span><span class="c">(</span><span class="pc">P</span><span class="c">rocessor</span> <span class="pc">p</span><span class="c">,</span>
                                              <span class="w">U</span><span class="c">niqueID</span> <span class="w">u</span><span class="pc">n</span><span class="c">ique_op_id,</span>
                                              <span class="pc">E</span><span class="c">vent</span> <span class="w">start_event</span><span class="c">,</span>
                                              <span class="pc">E</span><span class="c">vent</span> <span class="w">end_event</span><span class="c">)</span>
      <span class="c">{</span>
        <span class="w">get_profiler().add_msg</span><span class="pc">(</span><span class="w">LogMsgOperationEvents</span><span class="pc">(</span><span class="w">u</span><span class="pc">n</span><span class="c">ique_op_id,</span> <span class="w">s</span><span class="c">tart_event,</span> <span class="w">e</span><span class="c">nd_event</span><span class="w">)</span><span class="pc">)</span><span class="c">;</span>
      <span class="c">}</span>

      
      
      

      
      
      
      <span class="c">static</span> <span class="pc">i</span><span class="c">nline</span> <span class="c">void</span> <span class="w">log_physical_instance</span><span class="c">(</span><span class="w">P</span><span class="c">rocessor</span> <span class="pc">p</span><span class="c">,</span>
                                               <span class="w">PhysicalInstance</span> <span class="w">ins</span><span class="pc">ta</span><span class="c">nce,</span>
                                               <span class="w">M</span><span class="c">emory</span> <span class="w">m</span><span class="c">emory,</span> 
                                               <span class="w">I</span><span class="c">ndexSpace</span> <span class="w">index_handle</span><span class="pc">,</span>
                                               <span class="w">F</span><span class="pc">ieldS</span><span class="c">pace</span> <span class="w">field_handle</span><span class="c">,</span>
                                               <span class="w">RegionTreeID</span> <span class="w">t</span><span class="pc">r</span><span class="c">ee_id,</span>
                                               <span class="w">R</span><span class="pc">ed</span><span class="c">uctionOpID</span> <span class="w">r</span><span class="c">edop</span> <span class="pc">=</span> <span class="c">0</span><span class="pc">,</span>
                                               <span class="pc">b</span><span class="c">ool</span> <span class="w">fold</span> <span class="c">=</span> <span class="pc">t</span><span class="c">rue,</span> 
                                   <span class="w">D</span><span class="c">omain</span> <span class="w">indirect_domain</span> <span class="pc">=</span> <span class="w">D</span><span class="c">omain::</span><span class="w">NO_DOMAIN)</span>
      <span class="c">{</span>
        <span class="w">get_profiler().add_msg</span><span class="c">(</span><span class="w">LogMsgPhysicalInstance</span><span class="pc">(</span><span class="w">ins</span><span class="pc">ta</span><span class="c">nce,</span> <span class="w">me</span><span class="pc">mo</span><span class="c">ry</span><span class="pc">,</span> <span class="w">i</span><span class="pc">nde</span><span class="c">x_handle,</span> <span class="pc">f</span><span class="c">ield_handle,</span> <span class="w">t</span><span class="pc">re</span><span class="c">e_id,</span> <span class="w">r</span><span class="pc">ed</span><span class="c">op</span><span class="pc">,</span> <span class="pc">f</span><span class="c">old</span><span class="pc">,</span> <span class="pc">i</span><span class="c">ndirect_domain</span><span class="pc">))</span><span class="c">;</span>
      <span class="pc">}</span>

      
      
      
      
      <span class="w">s</span><span class="pc">ta</span><span class="c">tic</span> <span class="pc">inl</span><span class="c">ine</span> <span class="c">void</span> <span class="w">log_physical_user</span><span class="c">(</span><span class="w">P</span><span class="c">rocessor</span> <span class="pc">p</span><span class="c">,</span>
                                           <span class="w">PhysicalInstance</span> <span class="w">ins</span><span class="pc">ta</span><span class="c">nce,</span>
                                           <span class="w">U</span><span class="c">niqueID</span> <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id,</span>
                                           <span class="c">unsigned</span> <span class="pc">in</span><span class="c">dex)</span>
      <span class="c">{</span>
        <span class="w">get_profiler()</span><span class="pc">.</span><span class="w">add_msg</span><span class="pc">(</span><span class="w">LogMsgPhysicalUser</span><span class="pc">(</span><span class="w">ins</span><span class="pc">ta</span><span class="c">nce,</span> <span class="w">u</span><span class="pc">ni</span><span class="c">que_op_id,</span> <span class="w">i</span><span class="pc">nde</span><span class="c">x</span><span class="w">))</span><span class="c">;</span>
      <span class="c">}</span>

      
      
      

      
      
      
      <span class="c">static</span> <span class="c">inline</span> <span class="c">void</span> <span class="w">log_lowlevel_copy</span><span class="c">(</span><span class="w">P</span><span class="pc">r</span><span class="c">ocessor</span> <span class="pc">p</span><span class="c">,</span>
                                           <span class="w">P</span><span class="pc">h</span><span class="c">ysicalInstance</span> <span class="w">src_instance</span><span class="c">,</span>
                                           <span class="w">P</span><span class="pc">h</span><span class="c">ysicalInstance</span> <span class="w">dst_instance</span><span class="c">,</span>
                                           <span class="w">I</span><span class="c">ndexSpace</span> <span class="w">index_handle</span><span class="pc">,</span>
                                           <span class="w">F</span><span class="pc">ieldS</span><span class="c">pace</span> <span class="w">field_handle</span><span class="c">,</span>
                                           <span class="w">RegionTreeID</span> <span class="w">t</span><span class="c">ree_id,</span>
                                           <span class="pc">E</span><span class="c">vent</span> <span class="w">start_event</span><span class="c">,</span>
                                           <span class="pc">E</span><span class="c">vent</span> <span class="w">highlevel_end_event</span><span class="c">,</span>
                                           <span class="pc">c</span><span class="c">onst</span> <span class="c">std::</span><span class="pc">s</span><span class="c">et&lt;</span><span class="pc">F</span><span class="c">ieldID&gt; &amp;</span><span class="w">f</span><span class="pc">ields</span><span class="c">,</span>
                                           <span class="w">R</span><span class="c">eductionOpID</span> <span class="w">r</span><span class="c">edop</span> <span class="pc">=</span> <span class="c">0</span><span class="pc">)</span>
      <span class="pc">{</span>
<span class="w">#</span><span class="c">ifdef</span> <span class="w">LEGION_LOGGING_CHECK_NO_EVENT</span>
        <span class="pc">a</span><span class="c">ssert(</span><span class="pc">s</span><span class="c">tart_event</span><span class="pc">.e</span><span class="c">xists</span><span class="pc">()</span><span class="c">);</span>
        <span class="w">a</span><span class="c">ssert(</span><span class="pc">h</span><span class="c">ighlevel_end_event</span><span class="pc">.</span><span class="c">exists</span><span class="pc">());</span>
<span class="c">#endif</span>
        <span class="w">s</span><span class="pc">t</span><span class="c">d::</span><span class="w">ostringstream</span> <span class="w">os("");</span>
        <span class="w">f</span><span class="pc">o</span><span class="c">r</span> <span class="c">(</span><span class="pc">st</span><span class="c">d::set&lt;</span><span class="w">F</span><span class="c">ieldID&gt;::iterator</span> <span class="c">it=</span><span class="w">f</span><span class="pc">ie</span><span class="c">lds.begin();</span> <span class="c">it!=</span><span class="w">fi</span><span class="pc">e</span><span class="c">lds.end</span><span class="w">(); ++</span><span class="c">it</span><span class="pc">)</span><span class="c"> {</span>
          <span class="pc">i</span><span class="c">f</span> <span class="c">(it</span> <span class="w">!</span><span class="c">=</span> <span class="w">fie</span><span class="pc">lds</span><span class="c">.</span><span class="pc">b</span><span class="c">egin())</span> <span class="pc">o</span><span class="c">s</span> <span class="w">&lt;&lt; ", ";</span>
          <span class="pc">o</span><span class="c">s</span> <span class="w">&lt;&lt; *</span><span class="c">it</span><span class="w">;</span>
        <span class="pc">}</span>
        <span class="w">get_profiler()</span><span class="pc">.</span><span class="w">add_msg</span><span class="c">(</span><span class="w">LogMsgLowlevelCopy</span><span class="pc">(</span><span class="w">src_instance</span><span class="pc">,</span> <span class="w">dst_instance</span><span class="c">,</span> <span class="w">index_handle</span><span class="c">,</span> <span class="w">field_handle</span><span class="pc">,</span> <span class="w">t</span><span class="pc">re</span><span class="c">e_id</span><span class="pc">,</span> <span class="w">start_event</span><span class="pc">,</span> <span class="w">highlevel_end_event</span><span class="pc">,</span> <span class="w">o</span><span class="pc">s.</span><span class="w">str(</span><span class="pc">),</span> <span class="w">r</span><span class="pc">ed</span><span class="c">op</span><span class="w">)</span><span class="pc">)</span><span class="c">;</span>
      <span class="c">}</span>

      <span class="w">s</span><span class="c">tatic</span> <span class="c">inline</span> <span class="c">void</span> <span class="w">log_lowlevel_copy_association</span><span class="c">(</span><span class="w">E</span><span class="c">vent</span> <span class="w">h</span><span class="pc">i</span><span class="c">ghlevel_end_event,</span>
                                                       <span class="w">E</span><span class="c">vent</span> <span class="w">lowlevel_end_event</span><span class="c">,</span>
                                                       <span class="c">unsigned</span> <span class="w">channel_id</span><span class="pc">)</span>
      <span class="c">{</span>
        <span class="w">log_event_dependence</span><span class="c">(</span><span class="w">Pr</span><span class="pc">oc</span><span class="c">essor</span><span class="pc">:</span><span class="c">:</span><span class="w">NO_PROC</span><span class="c">,</span> <span class="w">l</span><span class="c">owlevel_end_event,</span> <span class="w">h</span><span class="c">ighlevel_end_event</span><span class="pc">)</span><span class="c">;</span>
        <span class="w">get_profiler()</span><span class="pc">.</span><span class="w">add_msg</span><span class="c">(</span><span class="w">LogMsgLowlevelCopyAssoc</span><span class="pc">(</span><span class="w">h</span><span class="c">ighlevel_end_event,</span> <span class="pc">l</span><span class="c">owlevel_end_event,</span> <span class="w">c</span><span class="c">hannel_id</span><span class="pc">))</span><span class="c">;</span>
      <span class="c">}</span>

      <span class="pc">s</span><span class="c">tatic</span> <span class="pc">i</span><span class="c">nline</span> <span class="c">void</span> <span class="w">log_lowlevel_copy_channel</span><span class="c">(</span><span class="pc">u</span><span class="c">nsigned</span> <span class="w">i</span><span class="pc">d</span><span class="c">,</span> <span class="pc">c</span><span class="c">onst</span> <span class="pc">c</span><span class="c">har*</span> <span class="c">name</span><span class="pc">)</span>
      <span class="c">{</span>
        <span class="w">g</span><span class="c">et_profiler</span><span class="w">(</span><span class="pc">).</span><span class="w">a</span><span class="pc">dd_m</span><span class="c">sg</span><span class="pc">(</span><span class="w">LogMsgLowlevelCopyChannel(id</span><span class="c">,</span> <span class="w">n</span><span class="pc">a</span><span class="c">me</span><span class="w">))</span><span class="c">;</span>
      <span class="pc">}</span>
    <span class="pc">}</span>
  <span class="w">}</span>
<span class="pc">}</span>

<span class="w">#</span><span class="pc">e</span><span class="c">ndif</span> 

<span class="w">#</span><span class="pc">e</span><span class="c">ndif</span> 




</pre>
</body>
</html>

